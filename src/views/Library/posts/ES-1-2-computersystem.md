# 高度試験 午前Ⅰ 備忘録 (コンピューターシステム編)

## フォンノイマンボトルネック
* p31

「ストアドプログラム方式」(プログラム内蔵方式)の性能向上を妨げる要因となるものは，
「プロセッサと記憶装置との間のデータ転送能力」

## 割り込み発生時のプロセッサの処理
* p32

ユーザプログラムの実行中に割り込みが発生した場合のプロセッサの処理

1. ユーザモードから特権モード(スーパバイザモード)への移行
2. プログラムカウンタなどの退避
3. 割り込み処理ルーチンの開始番地の決定
4. 割り込み処理ルーチンの実行
5. 退避したプログラムカウンタの値を復帰させて，元のユーザプログラムを続きから再開

## 割込みの要因
* p33

* 内部割込み
  * プログラム割り込み
    * 演算がオーバーフローした
  * スーパーバイザコール(SVC)割り込み
    * SVC命令による割込み
* 外部割込み
  * マシンチェック割込み (ハードウェア障害の検知)
    * データ保持時間が長い
  * 入出力割込み
    * DMA転送が完了した
  * タイマ割込み
    * インターバルタイマが満了した
  * コンソール割込み
    * キーボードやマウスから入力があった

## CPI
* p35

* Cycle / Instruction

1つの命令に必要なクロック数

* CPI x 命令数 = サイクル数

* サイクル数 x クロック周波数 = 処理時間

(単位に注意)

## パイプライン実行
* p35
* パイプライン
1つ1つの命令を「ステージ」という単位で分割して，
それぞれの命令の異なるステージを同時に処理することで，複数の命令を並行して実行できる．

## プロセッサの高速化
* p36

* ベクトルプロセッサ

「処理すべきベクトルの長さがベクトルレジスタよりも長い場合，
ベクトルレジスタ長の組に分割して処理を繰り返す方式である．」

* スーパーパイプライン

「パイプラインをさらに細分化することによって，高速化を図る方式である．」

* スーパースカラ

「複数のパイプラインを用い，同時に複数の命令を実行可能にすることによって，高速化を図る方式である．」

* VLIW (Very Long Instruction Word)

「命令語を長く取り，一つの命令で複数の機能ユニットを同時に制御することによって，高速化を図る方式である．」

## マルチコアプロセッサのコヒーレンシ

* p37

* スヌープキャッシュ
「共有バスを介して，各コアのキャッシュが他コアのキャッシュの更新状態を管理し，コヒーレンシを保つ．」

* ディレクトリ方式
「全てのキャッシュブロックを一元管理するディレクトリを用いて，キャッシュのコヒーレンシを保つ．」

## SIMD
* p38

* SISD (Single Instruction stream / Single Data stream)
 * シングルプロセッサの処理方式
 * 単一命令ストリームで単一データストリームを処理する方式

* SIMD (Single Instruction stream / Multiple Data stream)
 * シングルプロセッサの処理方式
 * 単一命令ストリームで複数のデータストリームを処理する方式
 
* MISD (Multiple Instruction stream / Single Data stream)
 * マルチプロセッサの処理方式
 * 複数の命令ストリームで単一データストリームを処理する方式
 
* MIMD (Multiple Instruction stream / Multiple Data stream)
 * マルチプロセッサの処理方式
 * 複数の命令ストリームで複数のデータストリームを処理する方式

## マルチプロセッサの性能・アムダールの法則
* p39

1代のCPUの性能を1とし
 * n : CPUの台数
 * a : オーバーヘッド
としたとき，マルチプロセッサの性能Pは

P = n / ( 1 + ( n - 1 )a )

で表される．

n->∞の極限を取ればわかるように，
nをいくら大きくしても，Pは1/aより大きくならない．

## SLC (Single-Level Cell) と MLC (Multi-Level Cell)
* p40

