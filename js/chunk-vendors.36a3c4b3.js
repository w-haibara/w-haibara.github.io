(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"0098":function(e,t,i){"use strict";class n{constructor(){this.attached=!1,this.loaded=!1,this.error=!1,this.stack=[]}attach(){return new Promise((e,t)=>{if(!this.attached){const i=document.createElement("script");i.setAttribute("src","https://yastatic.net/share2/share.js"),i.setAttribute("async",""),document.head.appendChild(i),i.onload=()=>{e(),this.loaded=!0,this.stack.forEach(e=>{e[0]()}),this.stack=[]},i.onerror=()=>{t(),this.loaded=!0,this.error=!0,this.stack.forEach(e=>{e[1]()}),this.stack=[]},this.attached=!0}this.error&&t(),this.loaded?e():this.stack.push([e,t])})}}var r=new n;t["a"]={name:"YandexShare",props:{services:{type:Array,required:!0},counter:{type:Boolean,default:!1},url:{type:String,default:""},title:{type:String,default:""},description:{type:String,default:""},image:{type:String,default:void 0},contentByService:{type:Object,default(){return{}}},vertical:{type:Boolean,default:!1},small:{type:Boolean,default:!1},lang:{type:String,default:"ru"},limit:{type:Number,default:void 0},bare:{type:Boolean,default:!1},copy:{type:String,default:"last"},popupTop:{type:Boolean,default:!1},popupOuter:{type:Boolean,default:!1}},mounted(){r.attach().then(()=>{window.Ya.share2(this.$el,{content:{url:this.url||window.location.href,title:this.title||document.title,description:this.description,image:this.image},contentByService:this.contentByService,theme:{bare:this.bare,copy:this.copy,counter:this.counter,direction:this.vertical?"vertical":"horizontal",lang:this.lang,limit:this.limit,popupDirection:this.popupTop?"top":"bottom",popupPosition:this.popupOuter?"outer":"inner",services:this.services.join(","),size:this.small?"s":"m"},hooks:{onready:()=>{this.$emit("ready")},onshare:e=>{this.$emit("share",e)}}})})},render(e){return e("div")}}},"00ee":function(e,t,i){var n=i("b622"),r=n("toStringTag"),o={};o[r]="z",e.exports="[object z]"===String(o)},"0284":function(e,t,i){!function(t,i){e.exports=i()}("undefined"!=typeof self&&self,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(i,!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.r(t);var s={$vue:null,id:null,router:null,fields:{},customIdFields:{},ignoreRoutes:[],linkers:[],commands:{},disabled:!1,customResourceURL:null,set:[],require:[],ecommerce:{enabled:!1,options:null,enhanced:!1},autoTracking:{screenview:!1,shouldRouterUpdate:null,skipSamePath:!1,exception:!1,exceptionLogs:!0,page:!0,transformQueryString:!0,pageviewOnLoad:!0,pageviewTemplate:null,untracked:!0,prependBase:!0},debug:{enabled:!1,trace:!1,sendHitTask:!0},batch:{enabled:!1,delay:500,amount:2},checkDuplicatedScript:!1,disableScriptLoader:!1,beforeFirstHit:u,ready:u,untracked:[]},a=r({},s);function c(e){!function e(t,i){return Object.keys(i).forEach((function(n){var r=t[n]&&Object.prototype.toString.call(t[n]);"[object Object]"!==r&&"[object Array]"!==r?t[n]=i[n]:e(t[n],i[n])})),t}(a,e)}function l(){return a.id?[].concat(a.id):[]}var h=a;function u(){}var d=function(e){console.warn("[vue-analytics] ".concat(e))};function p(e,t){return new Promise((function(i,n){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");if(o.async=!0,o.src=e,o.charset="utf-8",t){var s=document.createElement("link");s.href=t,s.rel="preconnect",r.appendChild(s)}r.appendChild(o),o.onload=i,o.onerror=n}))}function f(e){return e.name||e.replace(/-/gi,"")}function m(e,t){if(l().length>1){var i=f(t);return"".concat(i,".").concat(e)}return e}var v,g=function(e){if(e.then)return e;if("function"==typeof e){var t=e();return t.then?t:Promise.resolve(t)}return Promise.resolve(e)};function y(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var _=[];function b(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];"undefined"!=typeof window&&l().forEach((function(t){var n,r={m:m(e,t),a:i};window.ga?h.batch.enabled?(_.push(r),v||(v=setInterval((function(){_.length?_.splice(0,h.batch.amount).forEach((function(e){var t;(t=window).ga.apply(t,[e.m].concat(y(e.a)))})):(clearInterval(v),v=null)}),h.batch.delay))):(n=window).ga.apply(n,[m(e,t)].concat(i)):h.untracked.push(r)}))}function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];"object"!==x(t[0])||t[0].constructor!==Object?b("set",t[0],t[1]):b("set",t[0])}function S(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function M(){if(window.ga||!h.debug.enabled){if(window.ga){var e=l();h.debug.enabled&&(window.ga_debug={trace:h.debug.trace}),e.forEach((function(t){var i=f(t),n=h.customIdFields[t]||{},r=e.length>1?function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?S(i,!0).forEach((function(t){C(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},h.fields,{},n,{name:i}):h.fields;window.ga("create",t.id||t,"auto",r)})),h.beforeFirstHit();var t=h.ecommerce;if(t.enabled){var i=t.enhanced?"ec":"ecommerce";t.options?b("require",i,t.options):b("require",i)}h.linkers.length>0&&(b("require","linker"),b("linker:autoLink",h.linkers)),h.debug.sendHitTask||w("sendHitTask",null)}}else d("Google Analytics has probably been blocked.")}var E=function(){2!=arguments.length?b("require",arguments.length<=0?void 0:arguments[0]):b("require",arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])};function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var A=function(){var e;h.set.forEach((function(e){var t=e.field,i=e.value;if(void 0===t||void 0===i)throw new Error('[vue-analytics] Wrong configuration in the plugin options.\nThe "set" array requires each item to have a "field" and a "value" property.');w(t,i)})),e=["ec","ecommerce"],h.require.forEach((function(t){if(-1!==e.indexOf(t)||-1!==e.indexOf(t.name))throw new Error("[vue-analytics] The ecommerce features are built-in in the plugin. \nFollow the ecommerce instructions available in the documentation.");if("string"!=typeof t&&"object"!==T(t))throw new Error('[vue-analytics] Wrong configuration in the plugin options. \nThe "require" array requires each item to be a string or to have a "name" and an "options" property.');var i=t.name||t;t.options?E(i,t.options):E(i)}))};function L(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=t[0];if(1===t.length&&"string"==typeof n)return b("send","screenview",{screenName:n});b.apply(void 0,["send","screenview"].concat(t))}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var n;t.length&&!t[0]||(t.length&&t[0].currentRoute&&(n=t[0].currentRoute),t.length&&function(e){return e.query&&e.params}(t[0])&&(n=t[0]),n?k(n):(w("page","object"===O(t[0])?t[0].page:t[0]),b.apply(void 0,["send","pageview"].concat(t))))}function k(e){if(![(t=e).name,t.path].filter(Boolean).find((function(e){return-1!==h.ignoreRoutes.indexOf(e)}))){var t,i=h.autoTracking,n=e.meta.analytics,r=(void 0===n?{}:n).pageviewTemplate||i.pageviewTemplate;if(i.screenview&&!e.name)throw new Error("[vue-analytics] Route name is mandatory when using screenview.");if(i.screenview)L(e.name);else if(r)R(r(e));else{var o=h.router,s=h.autoTracking,a=s.transformQueryString,c=s.prependBase,l=function(e){var t=Object.keys(e).reduce((function(t,i,n,r){var o=n===r.length-1,s=e[i];return null==s?t:t+="".concat(i,"=").concat(s).concat(o?"":"&")}),"");return""!==t?"?".concat(t):""}(e.query),u=o&&o.options.base,d=c&&u,p=e.path+(a?l:"");R(p=d?function(e,t){var i=t.split("/"),n=e.split("/");return""===i[0]&&"/"===e[e.length-1]&&i.shift(),n.join("/")+i.join("/")}(u,p):p)}}}function P(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var D=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"undefined"!=typeof window&&l().forEach((function(t){window["ga-disable-".concat(t)]=e}))},I=function(){if("undefined"!=typeof document&&"undefined"!=typeof window){if(h.id){var e,t,i=[g(h.id),g(h.disabled)];if(e=h.checkDuplicatedScript,t=h.disableScriptLoader,[Boolean(window&&window.ga),e&&!(Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return-1!==e.src.indexOf("analytics")||-1!==e.src.indexOf("gtag")})).length>0),!t].some(Boolean)){var n="https://www.google-analytics.com",r=h.debug.enabled?"analytics_debug":"analytics",o=h.customResourceURL?p(h.customResourceURL):p("".concat(n,"/").concat(r,".js"),n);i.push(o.catch((function(){d("An error occured! Please check your connection or disable your AD blocker")})))}return Promise.all(i).then((function(e){var t,i,n;c({id:e[0],disabled:e[1]}),D(h.disabled),M(),A(),h.untracked.forEach((function(e){b.apply(void 0,[e.m].concat(P(e.a)))})),t=h.router,i=h.autoTracking,n=h.$vue,i.page&&t&&t.onReady((function(){i.pageviewOnLoad&&t.history.ready&&k(t.currentRoute),t.afterEach((function(e,r){var o=i.skipSamePath,s=i.shouldRouterUpdate;o&&e.path===r.path||("function"!=typeof s||s(e,r))&&n.nextTick().then((function(){k(t.currentRoute)}))}))})),h.ready()})).catch((function(e){h.debug.enabled&&d(e.message)}))}d('Missing the "id" parameter. Add at least one tracking domain ID')}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b("send","exception",{exDescription:e,exFatal:t})},N=function(e){if(h.autoTracking.exception){window.addEventListener("error",(function(e){B(e.message)}));var t=e.config.errorHandler;e.config.errorHandler=function(e,i,n){B(e.message),h.autoTracking.exceptionLogs&&console.error(e),"function"==typeof t&&t.call(void 0,e,i,n)}}},j=B;function H(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var z=function(e){return"".concat(h.ecommerce.enhanced?"ec":"ecommerce",":").concat(e)},U=["addItem","addTransaction","addProduct","addImpression","setAction","addPromo","send"].reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?H(i,!0).forEach((function(t){F(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):H(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e,F({},t,(function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];b.apply(void 0,[z(t)].concat(i))})))}),{}),V={event:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];b.apply(void 0,["send","event"].concat(t))},exception:j,page:R,query:b,require:E,set:w,social:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];b.apply(void 0,["send","social"].concat(t))},time:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];b.apply(void 0,["send","timing"].concat(t))},screenview:L,ecommerce:U,disable:function(){return D(!0)},enable:function(){return D(!1)},commands:h.commands},W={inserted:function(e,t,i){var n=Object.keys(t.modifiers);0===n.length&&n.push("click"),n.forEach((function(n){e.addEventListener(n,(function(){var e="string"==typeof t.value?h.commands[t.value]:t.value;if(!e)throw new Error("[vue-analytics] The value passed to v-ga is not defined in the commands list.");e.apply(i.context)}))}))}};function G(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return i}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function q(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function X(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Y(e){c(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?q(i,!0).forEach((function(t){X(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):q(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{$vue:e})),e.directive("ga",W),e.prototype.$ga=e.$ga=V,N(e),I()}i.d(t,"default",(function(){return Y})),i.d(t,"analyticsMiddleware",(function(){return Z})),i.d(t,"onAnalyticsReady",(function(){return J})),i.d(t,"event",(function(){return K})),i.d(t,"ecommerce",(function(){return Q})),i.d(t,"set",(function(){return ee})),i.d(t,"page",(function(){return te})),i.d(t,"query",(function(){return ie})),i.d(t,"screenview",(function(){return ne})),i.d(t,"time",(function(){return re})),i.d(t,"require",(function(){return oe})),i.d(t,"exception",(function(){return se})),i.d(t,"social",(function(){return ae}));var Z=function(e){e.subscribe((function(e){var t=e.payload;if(t&&t.meta&&t.meta.analytics){var i=t.meta.analytics;if(!Array.isArray(i))throw new Error('The "analytics" property needs to be an array');i.forEach((function(e){var t,i,n=e.shift(),r=e;if(n.includes(":")){var o=$(n.split(":"),2);n=o[0],t=o[1]}if(!(n in V))throw new Error('[vue-analytics:vuex] The type "'.concat(n,"\" doesn't exist."));if(t&&!(t in V[n]))throw new Error('[vue-analytics:vuex] The type "'.concat(n,'" has not method "').concat(t,'".'));if("ecommerce"===n&&!t)throw new Error('[vue-analytics:vuex] The type "'.concat(n,'" needs to call a method. Check documentation.'));t?(i=V[n])[t].apply(i,G(r)):V[n].apply(V,G(r))}))}}))},J=function(){return new Promise((function(e,t){var i=setInterval((function(){"undefined"!=typeof window&&window.ga&&(e(),clearInterval(i))}),10)}))},K=V.event,Q=V.ecommerce,ee=V.set,te=V.page,ie=V.query,ne=V.screenview,re=V.time,oe=V.require,se=V.exception,ae=V.social}])}))},"0366":function(e,t,i){var n=i("1c0b");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,i){var n=i("fc6a"),r=i("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return r(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):r(n(e))}},"06cf":function(e,t,i){var n=i("83ab"),r=i("d1e7"),o=i("5c6c"),s=i("fc6a"),a=i("c04e"),c=i("5135"),l=i("0cfb"),h=Object.getOwnPropertyDescriptor;t.f=n?h:function(e,t){if(e=s(e),t=a(t,!0),l)try{return h(e,t)}catch(i){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},"0789":function(e,t,i){"use strict";i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return h})),i.d(t,"e",(function(){return u})),i.d(t,"f",(function(){return d})),i.d(t,"a",(function(){return p})),i.d(t,"b",(function(){return f}));var n=i("d9f7");function r(e=[],...t){return Array().concat(e,...t)}function o(e,t="top center 0",i){return{name:e,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:i},origin:{type:String,default:t}},render(t,i){const o="transition"+(i.props.group?"-group":""),s={props:{name:e,mode:i.props.mode},on:{beforeEnter(e){e.style.transformOrigin=i.props.origin,e.style.webkitTransformOrigin=i.props.origin}}};return i.props.leaveAbsolute&&(s.on.leave=r(s.on.leave,e=>e.style.position="absolute")),i.props.hideOnLeave&&(s.on.leave=r(s.on.leave,e=>e.style.display="none")),t(o,Object(n["a"])(i.data,s),i.children)}}}function s(e,t,i="in-out"){return{name:e,functional:!0,props:{mode:{type:String,default:i}},render(i,r){return i("transition",Object(n["a"])(r.data,{props:{name:e},on:t}),r.children)}}}var a=i("80d2"),c=function(e="",t=!1){const i=t?"width":"height",n="offset"+Object(a["x"])(i);return{beforeEnter(e){e._parent=e.parentNode,e._initialStyle={transition:e.style.transition,visibility:e.style.visibility,overflow:e.style.overflow,[i]:e.style[i]}},enter(t){const r=t._initialStyle,o=t[n]+"px";t.style.setProperty("transition","none","important"),t.style.visibility="hidden",t.style.visibility=r.visibility,t.style.overflow="hidden",t.style[i]="0",t.offsetHeight,t.style.transition=r.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame(()=>{t.style[i]=o})},afterEnter:o,enterCancelled:o,leave(e){e._initialStyle={transition:"",visibility:"",overflow:e.style.overflow,[i]:e.style[i]},e.style.overflow="hidden",e.style[i]=e[n]+"px",e.offsetHeight,requestAnimationFrame(()=>e.style[i]="0")},afterLeave:r,leaveCancelled:r};function r(t){e&&t._parent&&t._parent.classList.remove(e),o(t)}function o(e){const t=e._initialStyle[i];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[i]=t),delete e._initialStyle}};o("carousel-transition"),o("carousel-reverse-transition"),o("tab-transition"),o("tab-reverse-transition"),o("menu-transition");const l=o("fab-transition","center center","out-in"),h=(o("dialog-transition"),o("dialog-bottom-transition"),o("fade-transition")),u=o("scale-transition"),d=(o("scroll-x-transition"),o("scroll-x-reverse-transition"),o("scroll-y-transition"),o("scroll-y-reverse-transition"),o("slide-x-transition")),p=(o("slide-x-reverse-transition"),o("slide-y-transition"),o("slide-y-reverse-transition"),s("expand-transition",c())),f=s("expand-x-transition",c("",!0))},"07d6":function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Service=void 0;var s=function(){function e(){n(this,e),this.framework={}}return o(e,[{key:"init",value:function(e,t){}}]),e}();t.Service=s},"0a06":function(e,t,i){"use strict";var n=i("c532"),r=i("30b5"),o=i("f6b4"),s=i("5270"),a=i("4a7b");function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=a(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],i=Promise.resolve(e);this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));while(t.length)i=i.then(t.shift(),t.shift());return i},c.prototype.getUri=function(e){return e=a(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,i){return this.request(n.merge(i||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,i,r){return this.request(n.merge(r||{},{method:e,url:t,data:i}))}})),e.exports=c},"0bc6":function(e,t,i){},"0ccb":function(e,t,i){var n=i("50c4"),r=i("1148"),o=i("1d80"),s=Math.ceil,a=function(e){return function(t,i,a){var c,l,h=String(o(t)),u=h.length,d=void 0===a?" ":String(a),p=n(i);return p<=u||""==d?h:(c=p-u,l=r.call(d,s(c/d.length)),l.length>c&&(l=l.slice(0,c)),e?h+l:l+h)}};e.exports={start:a(!1),end:a(!0)}},"0cfb":function(e,t,i){var n=i("83ab"),r=i("d039"),o=i("cc12");e.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0df6":function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"0fd9":function(e,t,i){"use strict";i("4b85");var n=i("2b0e"),r=i("d9f7"),o=i("80d2");const s=["sm","md","lg","xl"],a=["start","end","center"];function c(e,t){return s.reduce((i,n)=>(i[e+Object(o["x"])(n)]=t(),i),{})}const l=e=>[...a,"baseline","stretch"].includes(e),h=c("align",()=>({type:String,default:null,validator:l})),u=e=>[...a,"space-between","space-around"].includes(e),d=c("justify",()=>({type:String,default:null,validator:u})),p=e=>[...a,"space-between","space-around","stretch"].includes(e),f=c("alignContent",()=>({type:String,default:null,validator:p})),m={align:Object.keys(h),justify:Object.keys(d),alignContent:Object.keys(f)},v={align:"align",justify:"justify",alignContent:"align-content"};function g(e,t,i){let n=v[e];if(null!=i){if(t){const i=t.replace(e,"");n+="-"+i}return n+="-"+i,n.toLowerCase()}}const y=new Map;t["a"]=n["a"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:l},...h,justify:{type:String,default:null,validator:u},...d,alignContent:{type:String,default:null,validator:p},...f},render(e,{props:t,data:i,children:n}){let o="";for(const r in t)o+=String(t[r]);let s=y.get(o);if(!s){let e;for(e in s=[],m)m[e].forEach(i=>{const n=t[i],r=g(e,i,n);r&&s.push(r)});s.push({"no-gutters":t.noGutters,"row--dense":t.dense,["align-"+t.align]:t.align,["justify-"+t.justify]:t.justify,["align-content-"+t.alignContent]:t.alignContent}),y.set(o,s)}return e(t.tag,Object(r["a"])(i,{staticClass:"row",class:s}),n)}})},"10d2":function(e,t,i){"use strict";var n=i("8dd9");t["a"]=n["a"]},1148:function(e,t,i){"use strict";var n=i("a691"),r=i("1d80");e.exports="".repeat||function(e){var t=String(r(this)),i="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(i+=t);return i}},1276:function(e,t,i){"use strict";var n=i("d784"),r=i("44e7"),o=i("825a"),s=i("1d80"),a=i("4840"),c=i("8aa5"),l=i("50c4"),h=i("14c3"),u=i("9263"),d=i("d039"),p=[].push,f=Math.min,m=4294967295,v=!d((function(){return!RegExp(m,"y")}));n("split",2,(function(e,t,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,i){var n=String(s(this)),o=void 0===i?m:i>>>0;if(0===o)return[];if(void 0===e)return[n];if(!r(e))return t.call(n,e,o);var a,c,l,h=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,v=new RegExp(e.source,d+"g");while(a=u.call(v,n)){if(c=v.lastIndex,c>f&&(h.push(n.slice(f,a.index)),a.length>1&&a.index<n.length&&p.apply(h,a.slice(1)),l=a[0].length,f=c,h.length>=o))break;v.lastIndex===a.index&&v.lastIndex++}return f===n.length?!l&&v.test("")||h.push(""):h.push(n.slice(f)),h.length>o?h.slice(0,o):h}:"0".split(void 0,0).length?function(e,i){return void 0===e&&0===i?[]:t.call(this,e,i)}:t,[function(t,i){var r=s(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,r,i):n.call(String(r),t,i)},function(e,r){var s=i(n,e,this,r,n!==t);if(s.done)return s.value;var u=o(e),d=String(this),p=a(u,RegExp),g=u.unicode,y=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(v?"y":"g"),_=new p(v?u:"^(?:"+u.source+")",y),b=void 0===r?m:r>>>0;if(0===b)return[];if(0===d.length)return null===h(_,d)?[d]:[];var x=0,w=0,S=[];while(w<d.length){_.lastIndex=v?w:0;var C,M=h(_,v?d:d.slice(w));if(null===M||(C=f(l(_.lastIndex+(v?0:w)),d.length))===x)w=c(d,w,g);else{if(S.push(d.slice(x,w)),S.length===b)return S;for(var E=1;E<=M.length-1;E++)if(S.push(M[E]),S.length===b)return S;w=x=C}}return S.push(d.slice(x)),S}]}),!v)},"132d":function(e,t,i){"use strict";i("4804");var n,r=i("7e2b"),o=i("a9ad"),s=i("af2b"),a=i("7560"),c=i("80d2"),l=i("2b0e"),h=i("58df");function u(e){return["fas","far","fal","fab","fad"].some(t=>e.includes(t))}function d(e){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4}(function(e){e["xSmall"]="12px",e["small"]="16px",e["default"]="24px",e["medium"]="28px",e["large"]="36px",e["xLarge"]="40px"})(n||(n={}));const p=Object(h["a"])(r["a"],o["a"],s["a"],a["a"]).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium(){return!1},hasClickListener(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon(){let e="";return this.$slots.default&&(e=this.$slots.default[0].text.trim()),Object(c["w"])(this,e)},getSize(){const e={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},t=Object(c["s"])(e).find(t=>e[t]);return t&&n[t]||Object(c["f"])(this.size)},getDefaultData(){const e={staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:{"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0,...this.attrs$},on:this.listeners$};return e},applyColors(e){e.class={...e.class,...this.themeClasses},this.setTextColor(this.color,e)},renderFontIcon(e,t){const i=[],n=this.getDefaultData();let r="material-icons";const o=e.indexOf("-"),s=o<=-1;s?i.push(e):(r=e.slice(0,o),u(r)&&(r="")),n.class[r]=!0,n.class[e]=!s;const a=this.getSize();return a&&(n.style={fontSize:a}),this.applyColors(n),t(this.hasClickListener?"button":this.tag,n,i)},renderSvgIcon(e,t){const i=this.getSize(),n={...this.getDefaultData(),style:i?{fontSize:i,height:i,width:i}:void 0};n.class["v-icon--svg"]=!0,this.applyColors(n);const r={attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:i||"24",width:i||"24",role:"img","aria-hidden":!0}};return t(this.hasClickListener?"button":"span",n,[t("svg",r,[t("path",{attrs:{d:e}})])])},renderSvgIconComponent(e,t){const i=this.getDefaultData();i.class["v-icon--is-component"]=!0;const n=this.getSize();n&&(i.style={fontSize:n,height:n,width:n}),this.applyColors(i);const r=e.component;return i.props=e.props,i.nativeOn=i.on,t(r,i)}},render(e){const t=this.getIcon();return"string"===typeof t?d(t)?this.renderSvgIcon(t,e):this.renderFontIcon(t,e):this.renderSvgIconComponent(t,e)}});t["a"]=l["a"].extend({name:"v-icon",$_wrapperFor:p,functional:!0,render(e,{data:t,children:i}){let n="";return t.domProps&&(n=t.domProps.textContent||t.domProps.innerHTML||n,delete t.domProps.textContent,delete t.domProps.innerHTML),e(p,t,n?[n]:i)}})},"13b3":function(e,t,i){},"14c3":function(e,t,i){var n=i("c6b6"),r=i("9263");e.exports=function(e,t){var i=e.exec;if("function"===typeof i){var o=i.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"159b":function(e,t,i){var n=i("da84"),r=i("fdbc"),o=i("17c2"),s=i("9112");for(var a in r){var c=n[a],l=c&&c.prototype;if(l&&l.forEach!==o)try{s(l,"forEach",o)}catch(h){l.forEach=o}}},"15f5":function(e,t,i){},"166a":function(e,t,i){},"169a":function(e,t,i){"use strict";i("368e");var n=i("480e"),r=i("4ad4"),o=i("b848"),s=i("75eb"),a=i("e707"),c=i("e4d3"),l=i("21be"),h=i("f2e7"),u=i("a293"),d=i("58df"),p=i("d9bd"),f=i("80d2");const m=Object(d["a"])(r["a"],o["a"],s["a"],a["a"],c["a"],l["a"],h["a"]);t["a"]=m.extend({name:"v-dialog",directives:{ClickOutside:u["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes(){return{[("v-dialog "+this.contentClass).trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(e){e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(p["d"])("full-width",this)},beforeMount(){this.$nextTick(()=>{this.isBooted=this.isActive,this.isActive&&this.show()})},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick(()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout(()=>this.animate=!1,150)})},closeConditional(e){const t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):a["a"].options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick(()=>{this.$refs.content.focus(),this.bind()})},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(e){this.$emit("click:outside",e),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(e){if(e.keyCode===f["r"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const e=this.getActivator();this.$nextTick(()=>e&&e.focus())}this.$emit("keydown",e)},onFocusin(e){if(!e||!this.retainFocus)return;const t=e.target;if(t&&![document,this.$refs.content].includes(t)&&!this.$refs.content.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some(e=>e.contains(t))){const e=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');e.length&&e[0].focus()}},genContent(){return this.showLazyContent(()=>[this.$createElement(n["a"],{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"document",tabindex:this.isActive?0:void 0,...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])])},genTransition(){const e=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[e]):e},genInnerContent(){const e={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:this.onClickOutside,args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(e.style={...e.style,maxWidth:"none"===this.maxWidth?void 0:Object(f["f"])(this.maxWidth),width:"auto"===this.width?void 0:Object(f["f"])(this.width)}),this.$createElement("div",e,this.getContentSlot())}},render(e){return e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"16b7":function(e,t,i){"use strict";var n=i("2b0e");t["a"]=n["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:()=>({openTimeout:void 0,closeTimeout:void 0}),methods:{clearDelay(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay(e,t){this.clearDelay();const i=parseInt(this[e+"Delay"],10);this[e+"Timeout"]=setTimeout(t||(()=>{this.isActive={open:!0,close:!1}[e]}),i)}}})},"17c2":function(e,t,i){"use strict";var n=i("b727").forEach,r=i("a640"),o=i("ae40"),s=r("forEach"),a=o("forEach");e.exports=s&&a?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},1800:function(e,t,i){"use strict";var n=i("2b0e");t["a"]=n["a"].extend({name:"v-list-item-action",functional:!0,render(e,{data:t,children:i=[]}){t.staticClass=t.staticClass?"v-list-item__action "+t.staticClass:"v-list-item__action";const n=i.filter(e=>!1===e.isComment&&" "!==e.text);return n.length>1&&(t.staticClass+=" v-list-item__action--stack"),e("div",t,i)}})},"19aa":function(e,t){e.exports=function(e,t,i){if(!(e instanceof t))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return e}},"1b2c":function(e,t,i){},"1be4":function(e,t,i){var n=i("d066");e.exports=n("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,i){var n=i("b622"),r=n("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!o)return!1;var i=!1;try{var n={};n[r]=function(){return{next:function(){return{done:i=!0}}}},e(n)}catch(c){}return i}},"1c87":function(e,t,i){"use strict";var n=i("2b0e"),r=i("5607"),o=i("80d2");t["a"]=n["a"].extend({name:"routable",directives:{Ripple:r["a"]},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:()=>({isActive:!1,proxyClass:""}),computed:{classes(){const e={};return this.to||(this.activeClass&&(e[this.activeClass]=this.isActive),this.proxyClass&&(e[this.proxyClass]=this.isActive)),e},computedRipple(){return null!=this.ripple?this.ripple:!this.disabled&&this.isClickable},isClickable(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink(){return this.to||this.href||this.link},styles:()=>({})},watch:{$route:"onRouteChange"},methods:{click(e){this.$emit("click",e)},generateRouteLink(){let e,t=this.exact;const i={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}],[this.to?"nativeOn":"on"]:{...this.$listeners,click:this.click},ref:"link"};if("undefined"===typeof this.exact&&(t="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){let n=this.activeClass,r=this.exactActiveClass||n;this.proxyClass&&(n=`${n} ${this.proxyClass}`.trim(),r=`${r} ${this.proxyClass}`.trim()),e=this.nuxt?"nuxt-link":"router-link",Object.assign(i.props,{to:this.to,exact:t,activeClass:n,exactActiveClass:r,append:this.append,replace:this.replace})}else e=(this.href?"a":this.tag)||"div","a"===e&&this.href&&(i.attrs.href=this.href);return this.target&&(i.attrs.target=this.target),{tag:e,data:i}},onRouteChange(){if(!this.to||!this.$refs.link||!this.$route)return;const e=`${this.activeClass} ${this.proxyClass||""}`.trim(),t="_vnode.data.class."+e;this.$nextTick(()=>{Object(o["l"])(this.$refs.link,t)&&this.toggle()})},toggle:()=>{}}})},"1cdc":function(e,t,i){var n=i("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},"1d2b":function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}}},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));i("d3b7"),i("e6cf");function n(e,t,i,n,r,o,s){try{var a=e[o](s),c=a.value}catch(l){return void i(l)}a.done?t(c):Promise.resolve(c).then(n,r)}function r(e){return function(){var t=this,i=arguments;return new Promise((function(r,o){var s=e.apply(t,i);function a(e){n(s,r,o,a,c,"next",e)}function c(e){n(s,r,o,a,c,"throw",e)}a(void 0)}))}}},"1dde":function(e,t,i){var n=i("d039"),r=i("b622"),o=i("2d00"),s=r("species");e.exports=function(e){return o>=51||!n((function(){var t=[],i=t.constructor={};return i[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"20f6":function(e,t,i){},"21be":function(e,t,i){"use strict";var n=i("2b0e"),r=i("80d2");t["a"]=n["a"].extend().extend({name:"stackable",data(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex(){if("undefined"===typeof window)return 0;const e=this.stackElement||this.$refs.content,t=this.isActive?this.getMaxZIndex(this.stackExclude||[e])+2:Object(r["p"])(e);return null==t?t:parseInt(t)}},methods:{getMaxZIndex(e=[]){const t=this.$el,i=[this.stackMinZIndex,Object(r["p"])(t)],n=[...document.getElementsByClassName("v-menu__content--active"),...document.getElementsByClassName("v-dialog__content--active")];for(let o=0;o<n.length;o++)e.includes(n[o])||i.push(Object(r["p"])(n[o]));return Math.max(...i)}}})},2266:function(e,t,i){var n=i("825a"),r=i("e95a"),o=i("50c4"),s=i("0366"),a=i("35a1"),c=i("9bdd"),l=function(e,t){this.stopped=e,this.result=t},h=e.exports=function(e,t,i,h,u){var d,p,f,m,v,g,y,_=s(t,i,h?2:1);if(u)d=e;else{if(p=a(e),"function"!=typeof p)throw TypeError("Target is not iterable");if(r(p)){for(f=0,m=o(e.length);m>f;f++)if(v=h?_(n(y=e[f])[0],y[1]):_(e[f]),v&&v instanceof l)return v;return new l(!1)}d=p.call(e)}g=d.next;while(!(y=g.call(d)).done)if(v=c(d,_,y.value,h),"object"==typeof v&&v&&v instanceof l)return v;return new l(!1)};h.stop=function(e){return new l(!0,e)}},"22da":function(e,t,i){"use strict";var n=i("490a");t["a"]=n["a"]},"23cb":function(e,t,i){var n=i("a691"),r=Math.max,o=Math.min;e.exports=function(e,t){var i=n(e);return i<0?r(i+t,0):o(i,t)}},"23e7":function(e,t,i){var n=i("da84"),r=i("06cf").f,o=i("9112"),s=i("6eeb"),a=i("ce4e"),c=i("e893"),l=i("94ca");e.exports=function(e,t){var i,h,u,d,p,f,m=e.target,v=e.global,g=e.stat;if(h=v?n:g?n[m]||a(m,{}):(n[m]||{}).prototype,h)for(u in t){if(p=t[u],e.noTargetGet?(f=r(h,u),d=f&&f.value):d=h[u],i=l(v?u:m+(g?".":"#")+u,e.forced),!i&&void 0!==d){if(typeof p===typeof d)continue;c(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),s(h,u,p,e)}}},"241c":function(e,t,i){var n=i("ca84"),r=i("7839"),o=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},2444:function(e,t,i){"use strict";(function(t){var n=i("c532"),r=i("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function a(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=i("b50d")),e}var c={adapter:a(),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(o)})),e.exports=c}).call(this,i("4362"))},"24b2":function(e,t,i){"use strict";var n=i("80d2"),r=i("2b0e");t["a"]=r["a"].extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles(){const e={},t=Object(n["f"])(this.height),i=Object(n["f"])(this.minHeight),r=Object(n["f"])(this.minWidth),o=Object(n["f"])(this.maxHeight),s=Object(n["f"])(this.maxWidth),a=Object(n["f"])(this.width);return t&&(e.height=t),i&&(e.minHeight=i),r&&(e.minWidth=r),o&&(e.maxHeight=o),s&&(e.maxWidth=s),a&&(e.width=a),e}}})},"25a8":function(e,t,i){},"25f0":function(e,t,i){"use strict";var n=i("6eeb"),r=i("825a"),o=i("d039"),s=i("ad6d"),a="toString",c=RegExp.prototype,l=c[a],h=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u=l.name!=a;(h||u)&&n(RegExp.prototype,a,(function(){var e=r(this),t=String(e.source),i=e.flags,n=String(void 0===i&&e instanceof RegExp&&!("flags"in c)?s.call(e):i);return"/"+t+"/"+n}),{unsafe:!0})},2626:function(e,t,i){"use strict";var n=i("d066"),r=i("9bf2"),o=i("b622"),s=i("83ab"),a=o("species");e.exports=function(e){var t=n(e),i=r.f;s&&t&&!t[a]&&i(t,a,{configurable:!0,get:function(){return this}})}},"27b0":function(e,t){e.exports=class{constructor(){this.seen={}}slug(e){let t=e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){const e=t;do{this.seen[e]++,t=e+"-"+this.seen[e]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t}}},2877:function(e,t,i){"use strict";function n(e,t,i,n,r,o,s,a){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):r&&(c=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var h=l.render;l.render=function(e,t){return c.call(t),h(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}i.d(t,"a",(function(){return n}))},"297c":function(e,t,i){"use strict";var n=i("2b0e"),r=i("37c6");t["a"]=n["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(r["a"],{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"2a7f":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("71d9"),r=i("80d2");const o=Object(r["h"])("v-toolbar__title"),s=Object(r["h"])("v-toolbar__items");n["a"]},"2b0e":function(e,t,i){"use strict";(function(e){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({});function n(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function o(e){return!0===e}function s(e){return!1===e}function a(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var l=Object.prototype.toString;function h(e){return"[object Object]"===l.call(e)}function u(e){return"[object RegExp]"===l.call(e)}function d(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function p(e){return r(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function f(e){return null==e?"":Array.isArray(e)||h(e)&&e.toString===l?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function v(e,t){for(var i=Object.create(null),n=e.split(","),r=0;r<n.length;r++)i[n[r]]=!0;return t?function(e){return i[e.toLowerCase()]}:function(e){return i[e]}}v("slot,component",!0);var g=v("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var _=Object.prototype.hasOwnProperty;function b(e,t){return _.call(e,t)}function x(e){var t=Object.create(null);return function(i){var n=t[i];return n||(t[i]=e(i))}}var w=/-(\w)/g,S=x((function(e){return e.replace(w,(function(e,t){return t?t.toUpperCase():""}))})),C=x((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),M=/\B([A-Z])/g,E=x((function(e){return e.replace(M,"-$1").toLowerCase()}));function T(e,t){function i(i){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,i):e.call(t)}return i._length=e.length,i}function A(e,t){return e.bind(t)}var L=Function.prototype.bind?A:T;function O(e,t){t=t||0;var i=e.length-t,n=new Array(i);while(i--)n[i]=e[i+t];return n}function R(e,t){for(var i in t)e[i]=t[i];return e}function k(e){for(var t={},i=0;i<e.length;i++)e[i]&&R(t,e[i]);return t}function P(e,t,i){}var D=function(e,t,i){return!1},I=function(e){return e};function B(e,t){if(e===t)return!0;var i=c(e),n=c(t);if(!i||!n)return!i&&!n&&String(e)===String(t);try{var r=Array.isArray(e),o=Array.isArray(t);if(r&&o)return e.length===t.length&&e.every((function(e,i){return B(e,t[i])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||o)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(i){return B(e[i],t[i])}))}catch(l){return!1}}function N(e,t){for(var i=0;i<e.length;i++)if(B(e[i],t))return i;return-1}function j(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var H="data-server-rendered",F=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],U={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:P,parsePlatformTagName:I,mustUseProp:D,async:!0,_lifecycleHooks:z},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function W(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function G(e,t,i,n){Object.defineProperty(e,t,{value:i,enumerable:!!n,writable:!0,configurable:!0})}var $=new RegExp("[^"+V.source+".$_\\d]");function q(e){if(!$.test(e)){var t=e.split(".");return function(e){for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}}}var X,Y="__proto__"in{},Z="undefined"!==typeof window,J="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,K=J&&WXEnvironment.platform.toLowerCase(),Q=Z&&window.navigator.userAgent.toLowerCase(),ee=Q&&/msie|trident/.test(Q),te=Q&&Q.indexOf("msie 9.0")>0,ie=Q&&Q.indexOf("edge/")>0,ne=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===K),re=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),oe={}.watch,se=!1;if(Z)try{var ae={};Object.defineProperty(ae,"passive",{get:function(){se=!0}}),window.addEventListener("test-passive",null,ae)}catch(Ss){}var ce=function(){return void 0===X&&(X=!Z&&!J&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),X},le=Z&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function he(e){return"function"===typeof e&&/native code/.test(e.toString())}var ue,de="undefined"!==typeof Symbol&&he(Symbol)&&"undefined"!==typeof Reflect&&he(Reflect.ownKeys);ue="undefined"!==typeof Set&&he(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var pe=P,fe=0,me=function(){this.id=fe++,this.subs=[]};me.prototype.addSub=function(e){this.subs.push(e)},me.prototype.removeSub=function(e){y(this.subs,e)},me.prototype.depend=function(){me.target&&me.target.addDep(this)},me.prototype.notify=function(){var e=this.subs.slice();for(var t=0,i=e.length;t<i;t++)e[t].update()},me.target=null;var ve=[];function ge(e){ve.push(e),me.target=e}function ye(){ve.pop(),me.target=ve[ve.length-1]}var _e=function(e,t,i,n,r,o,s,a){this.tag=e,this.data=t,this.children=i,this.text=n,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},be={child:{configurable:!0}};be.child.get=function(){return this.componentInstance},Object.defineProperties(_e.prototype,be);var xe=function(e){void 0===e&&(e="");var t=new _e;return t.text=e,t.isComment=!0,t};function we(e){return new _e(void 0,void 0,void 0,String(e))}function Se(e){var t=new _e(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var Ce=Array.prototype,Me=Object.create(Ce),Ee=["push","pop","shift","unshift","splice","sort","reverse"];Ee.forEach((function(e){var t=Ce[e];G(Me,e,(function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];var r,o=t.apply(this,i),s=this.__ob__;switch(e){case"push":case"unshift":r=i;break;case"splice":r=i.slice(2);break}return r&&s.observeArray(r),s.dep.notify(),o}))}));var Te=Object.getOwnPropertyNames(Me),Ae=!0;function Le(e){Ae=e}var Oe=function(e){this.value=e,this.dep=new me,this.vmCount=0,G(e,"__ob__",this),Array.isArray(e)?(Y?Re(e,Me):ke(e,Me,Te),this.observeArray(e)):this.walk(e)};function Re(e,t){e.__proto__=t}function ke(e,t,i){for(var n=0,r=i.length;n<r;n++){var o=i[n];G(e,o,t[o])}}function Pe(e,t){var i;if(c(e)&&!(e instanceof _e))return b(e,"__ob__")&&e.__ob__ instanceof Oe?i=e.__ob__:Ae&&!ce()&&(Array.isArray(e)||h(e))&&Object.isExtensible(e)&&!e._isVue&&(i=new Oe(e)),t&&i&&i.vmCount++,i}function De(e,t,i,n,r){var o=new me,s=Object.getOwnPropertyDescriptor(e,t);if(!s||!1!==s.configurable){var a=s&&s.get,c=s&&s.set;a&&!c||2!==arguments.length||(i=e[t]);var l=!r&&Pe(i);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):i;return me.target&&(o.depend(),l&&(l.dep.depend(),Array.isArray(t)&&Ne(t))),t},set:function(t){var n=a?a.call(e):i;t===n||t!==t&&n!==n||a&&!c||(c?c.call(e,t):i=t,l=!r&&Pe(t),o.notify())}})}}function Ie(e,t,i){if(Array.isArray(e)&&d(t))return e.length=Math.max(e.length,t),e.splice(t,1,i),i;if(t in e&&!(t in Object.prototype))return e[t]=i,i;var n=e.__ob__;return e._isVue||n&&n.vmCount?i:n?(De(n.value,t,i),n.dep.notify(),i):(e[t]=i,i)}function Be(e,t){if(Array.isArray(e)&&d(t))e.splice(t,1);else{var i=e.__ob__;e._isVue||i&&i.vmCount||b(e,t)&&(delete e[t],i&&i.dep.notify())}}function Ne(e){for(var t=void 0,i=0,n=e.length;i<n;i++)t=e[i],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Ne(t)}Oe.prototype.walk=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)De(e,t[i])},Oe.prototype.observeArray=function(e){for(var t=0,i=e.length;t<i;t++)Pe(e[t])};var je=U.optionMergeStrategies;function He(e,t){if(!t)return e;for(var i,n,r,o=de?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)i=o[s],"__ob__"!==i&&(n=e[i],r=t[i],b(e,i)?n!==r&&h(n)&&h(r)&&He(n,r):Ie(e,i,r));return e}function Fe(e,t,i){return i?function(){var n="function"===typeof t?t.call(i,i):t,r="function"===typeof e?e.call(i,i):e;return n?He(n,r):r}:t?e?function(){return He("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function ze(e,t){var i=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return i?Ue(i):i}function Ue(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}function Ve(e,t,i,n){var r=Object.create(e||null);return t?R(r,t):r}je.data=function(e,t,i){return i?Fe(e,t,i):t&&"function"!==typeof t?e:Fe(e,t)},z.forEach((function(e){je[e]=ze})),F.forEach((function(e){je[e+"s"]=Ve})),je.watch=function(e,t,i,n){if(e===oe&&(e=void 0),t===oe&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var o in R(r,e),t){var s=r[o],a=t[o];s&&!Array.isArray(s)&&(s=[s]),r[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return r},je.props=je.methods=je.inject=je.computed=function(e,t,i,n){if(!e)return t;var r=Object.create(null);return R(r,e),t&&R(r,t),r},je.provide=Fe;var We=function(e,t){return void 0===t?e:t};function Ge(e,t){var i=e.props;if(i){var n,r,o,s={};if(Array.isArray(i)){n=i.length;while(n--)r=i[n],"string"===typeof r&&(o=S(r),s[o]={type:null})}else if(h(i))for(var a in i)r=i[a],o=S(a),s[o]=h(r)?r:{type:r};else 0;e.props=s}}function $e(e,t){var i=e.inject;if(i){var n=e.inject={};if(Array.isArray(i))for(var r=0;r<i.length;r++)n[i[r]]={from:i[r]};else if(h(i))for(var o in i){var s=i[o];n[o]=h(s)?R({from:o},s):{from:s}}else 0}}function qe(e){var t=e.directives;if(t)for(var i in t){var n=t[i];"function"===typeof n&&(t[i]={bind:n,update:n})}}function Xe(e,t,i){if("function"===typeof t&&(t=t.options),Ge(t,i),$e(t,i),qe(t),!t._base&&(t.extends&&(e=Xe(e,t.extends,i)),t.mixins))for(var n=0,r=t.mixins.length;n<r;n++)e=Xe(e,t.mixins[n],i);var o,s={};for(o in e)a(o);for(o in t)b(e,o)||a(o);function a(n){var r=je[n]||We;s[n]=r(e[n],t[n],i,n)}return s}function Ye(e,t,i,n){if("string"===typeof i){var r=e[t];if(b(r,i))return r[i];var o=S(i);if(b(r,o))return r[o];var s=C(o);if(b(r,s))return r[s];var a=r[i]||r[o]||r[s];return a}}function Ze(e,t,i,n){var r=t[e],o=!b(i,e),s=i[e],a=et(Boolean,r.type);if(a>-1)if(o&&!b(r,"default"))s=!1;else if(""===s||s===E(e)){var c=et(String,r.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=Je(n,r,e);var l=Ae;Le(!0),Pe(s),Le(l)}return s}function Je(e,t,i){if(b(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[i]&&void 0!==e._props[i]?e._props[i]:"function"===typeof n&&"Function"!==Ke(t.type)?n.call(e):n}}function Ke(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Qe(e,t){return Ke(e)===Ke(t)}function et(e,t){if(!Array.isArray(t))return Qe(t,e)?0:-1;for(var i=0,n=t.length;i<n;i++)if(Qe(t[i],e))return i;return-1}function tt(e,t,i){ge();try{if(t){var n=t;while(n=n.$parent){var r=n.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var s=!1===r[o].call(n,e,t,i);if(s)return}catch(Ss){nt(Ss,n,"errorCaptured hook")}}}nt(e,t,i)}finally{ye()}}function it(e,t,i,n,r){var o;try{o=i?e.apply(t,i):e.call(t),o&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(e){return tt(e,n,r+" (Promise/async)")})),o._handled=!0)}catch(Ss){tt(Ss,n,r)}return o}function nt(e,t,i){if(U.errorHandler)try{return U.errorHandler.call(null,e,t,i)}catch(Ss){Ss!==e&&rt(Ss,null,"config.errorHandler")}rt(e,t,i)}function rt(e,t,i){if(!Z&&!J||"undefined"===typeof console)throw e;console.error(e)}var ot,st=!1,at=[],ct=!1;function lt(){ct=!1;var e=at.slice(0);at.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&he(Promise)){var ht=Promise.resolve();ot=function(){ht.then(lt),ne&&setTimeout(P)},st=!0}else if(ee||"undefined"===typeof MutationObserver||!he(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ot="undefined"!==typeof setImmediate&&he(setImmediate)?function(){setImmediate(lt)}:function(){setTimeout(lt,0)};else{var ut=1,dt=new MutationObserver(lt),pt=document.createTextNode(String(ut));dt.observe(pt,{characterData:!0}),ot=function(){ut=(ut+1)%2,pt.data=String(ut)},st=!0}function ft(e,t){var i;if(at.push((function(){if(e)try{e.call(t)}catch(Ss){tt(Ss,t,"nextTick")}else i&&i(t)})),ct||(ct=!0,ot()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){i=e}))}var mt=new ue;function vt(e){gt(e,mt),mt.clear()}function gt(e,t){var i,n,r=Array.isArray(e);if(!(!r&&!c(e)||Object.isFrozen(e)||e instanceof _e)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(r){i=e.length;while(i--)gt(e[i],t)}else{n=Object.keys(e),i=n.length;while(i--)gt(e[n[i]],t)}}}var yt=x((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var i="~"===e.charAt(0);e=i?e.slice(1):e;var n="!"===e.charAt(0);return e=n?e.slice(1):e,{name:e,once:i,capture:n,passive:t}}));function _t(e,t){function i(){var e=arguments,n=i.fns;if(!Array.isArray(n))return it(n,null,arguments,t,"v-on handler");for(var r=n.slice(),o=0;o<r.length;o++)it(r[o],null,e,t,"v-on handler")}return i.fns=e,i}function bt(e,t,i,r,s,a){var c,l,h,u;for(c in e)l=e[c],h=t[c],u=yt(c),n(l)||(n(h)?(n(l.fns)&&(l=e[c]=_t(l,a)),o(u.once)&&(l=e[c]=s(u.name,l,u.capture)),i(u.name,l,u.capture,u.passive,u.params)):l!==h&&(h.fns=l,e[c]=h));for(c in t)n(e[c])&&(u=yt(c),r(u.name,t[c],u.capture))}function xt(e,t,i){var s;e instanceof _e&&(e=e.data.hook||(e.data.hook={}));var a=e[t];function c(){i.apply(this,arguments),y(s.fns,c)}n(a)?s=_t([c]):r(a.fns)&&o(a.merged)?(s=a,s.fns.push(c)):s=_t([a,c]),s.merged=!0,e[t]=s}function wt(e,t,i){var o=t.options.props;if(!n(o)){var s={},a=e.attrs,c=e.props;if(r(a)||r(c))for(var l in o){var h=E(l);St(s,c,l,h,!0)||St(s,a,l,h,!1)}return s}}function St(e,t,i,n,o){if(r(t)){if(b(t,i))return e[i]=t[i],o||delete t[i],!0;if(b(t,n))return e[i]=t[n],o||delete t[n],!0}return!1}function Ct(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Mt(e){return a(e)?[we(e)]:Array.isArray(e)?Tt(e):void 0}function Et(e){return r(e)&&r(e.text)&&s(e.isComment)}function Tt(e,t){var i,s,c,l,h=[];for(i=0;i<e.length;i++)s=e[i],n(s)||"boolean"===typeof s||(c=h.length-1,l=h[c],Array.isArray(s)?s.length>0&&(s=Tt(s,(t||"")+"_"+i),Et(s[0])&&Et(l)&&(h[c]=we(l.text+s[0].text),s.shift()),h.push.apply(h,s)):a(s)?Et(l)?h[c]=we(l.text+s):""!==s&&h.push(we(s)):Et(s)&&Et(l)?h[c]=we(l.text+s.text):(o(e._isVList)&&r(s.tag)&&n(s.key)&&r(t)&&(s.key="__vlist"+t+"_"+i+"__"),h.push(s)));return h}function At(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function Lt(e){var t=Ot(e.$options.inject,e);t&&(Le(!1),Object.keys(t).forEach((function(i){De(e,i,t[i])})),Le(!0))}function Ot(e,t){if(e){for(var i=Object.create(null),n=de?Reflect.ownKeys(e):Object.keys(e),r=0;r<n.length;r++){var o=n[r];if("__ob__"!==o){var s=e[o].from,a=t;while(a){if(a._provided&&b(a._provided,s)){i[o]=a._provided[s];break}a=a.$parent}if(!a)if("default"in e[o]){var c=e[o].default;i[o]="function"===typeof c?c.call(t):c}else 0}}return i}}function Rt(e,t){if(!e||!e.length)return{};for(var i={},n=0,r=e.length;n<r;n++){var o=e[n],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==t&&o.fnContext!==t||!s||null==s.slot)(i.default||(i.default=[])).push(o);else{var a=s.slot,c=i[a]||(i[a]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in i)i[l].every(kt)&&delete i[l];return i}function kt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Pt(e,t,n){var r,o=Object.keys(t).length>0,s=e?!!e.$stable:!o,a=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&n&&n!==i&&a===n.$key&&!o&&!n.$hasNormal)return n;for(var c in r={},e)e[c]&&"$"!==c[0]&&(r[c]=Dt(t,c,e[c]))}else r={};for(var l in t)l in r||(r[l]=It(t,l));return e&&Object.isExtensible(e)&&(e._normalized=r),G(r,"$stable",s),G(r,"$key",a),G(r,"$hasNormal",o),r}function Dt(e,t,i){var n=function(){var e=arguments.length?i.apply(null,arguments):i({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Mt(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return i.proxy&&Object.defineProperty(e,t,{get:n,enumerable:!0,configurable:!0}),n}function It(e,t){return function(){return e[t]}}function Bt(e,t){var i,n,o,s,a;if(Array.isArray(e)||"string"===typeof e)for(i=new Array(e.length),n=0,o=e.length;n<o;n++)i[n]=t(e[n],n);else if("number"===typeof e)for(i=new Array(e),n=0;n<e;n++)i[n]=t(n+1,n);else if(c(e))if(de&&e[Symbol.iterator]){i=[];var l=e[Symbol.iterator](),h=l.next();while(!h.done)i.push(t(h.value,i.length)),h=l.next()}else for(s=Object.keys(e),i=new Array(s.length),n=0,o=s.length;n<o;n++)a=s[n],i[n]=t(e[a],a,n);return r(i)||(i=[]),i._isVList=!0,i}function Nt(e,t,i,n){var r,o=this.$scopedSlots[e];o?(i=i||{},n&&(i=R(R({},n),i)),r=o(i)||t):r=this.$slots[e]||t;var s=i&&i.slot;return s?this.$createElement("template",{slot:s},r):r}function jt(e){return Ye(this.$options,"filters",e,!0)||I}function Ht(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Ft(e,t,i,n,r){var o=U.keyCodes[t]||i;return r&&n&&!U.keyCodes[t]?Ht(r,n):o?Ht(o,e):n?E(n)!==t:void 0}function zt(e,t,i,n,r){if(i)if(c(i)){var o;Array.isArray(i)&&(i=k(i));var s=function(s){if("class"===s||"style"===s||g(s))o=e;else{var a=e.attrs&&e.attrs.type;o=n||U.mustUseProp(t,a,s)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=S(s),l=E(s);if(!(c in o)&&!(l in o)&&(o[s]=i[s],r)){var h=e.on||(e.on={});h["update:"+s]=function(e){i[s]=e}}};for(var a in i)s(a)}else;return e}function Ut(e,t){var i=this._staticTrees||(this._staticTrees=[]),n=i[e];return n&&!t||(n=i[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Wt(n,"__static__"+e,!1)),n}function Vt(e,t,i){return Wt(e,"__once__"+t+(i?"_"+i:""),!0),e}function Wt(e,t,i){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&"string"!==typeof e[n]&&Gt(e[n],t+"_"+n,i);else Gt(e,t,i)}function Gt(e,t,i){e.isStatic=!0,e.key=t,e.isOnce=i}function $t(e,t){if(t)if(h(t)){var i=e.on=e.on?R({},e.on):{};for(var n in t){var r=i[n],o=t[n];i[n]=r?[].concat(r,o):o}}else;return e}function qt(e,t,i,n){t=t||{$stable:!i};for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?qt(o,t,i):o&&(o.proxy&&(o.fn.proxy=!0),t[o.key]=o.fn)}return n&&(t.$key=n),t}function Xt(e,t){for(var i=0;i<t.length;i+=2){var n=t[i];"string"===typeof n&&n&&(e[t[i]]=t[i+1])}return e}function Yt(e,t){return"string"===typeof e?t+e:e}function Zt(e){e._o=Vt,e._n=m,e._s=f,e._l=Bt,e._t=Nt,e._q=B,e._i=N,e._m=Ut,e._f=jt,e._k=Ft,e._b=zt,e._v=we,e._e=xe,e._u=qt,e._g=$t,e._d=Xt,e._p=Yt}function Jt(e,t,n,r,s){var a,c=this,l=s.options;b(r,"_uid")?(a=Object.create(r),a._original=r):(a=r,r=r._original);var h=o(l._compiled),u=!h;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||i,this.injections=Ot(l.inject,r),this.slots=function(){return c.$slots||Pt(e.scopedSlots,c.$slots=Rt(n,r)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Pt(e.scopedSlots,this.slots())}}),h&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=Pt(e.scopedSlots,this.$slots)),l._scopeId?this._c=function(e,t,i,n){var o=hi(a,e,t,i,n,u);return o&&!Array.isArray(o)&&(o.fnScopeId=l._scopeId,o.fnContext=r),o}:this._c=function(e,t,i,n){return hi(a,e,t,i,n,u)}}function Kt(e,t,n,o,s){var a=e.options,c={},l=a.props;if(r(l))for(var h in l)c[h]=Ze(h,l,t||i);else r(n.attrs)&&ei(c,n.attrs),r(n.props)&&ei(c,n.props);var u=new Jt(n,c,s,o,e),d=a.render.call(null,u._c,u);if(d instanceof _e)return Qt(d,n,u.parent,a,u);if(Array.isArray(d)){for(var p=Mt(d)||[],f=new Array(p.length),m=0;m<p.length;m++)f[m]=Qt(p[m],n,u.parent,a,u);return f}}function Qt(e,t,i,n,r){var o=Se(e);return o.fnContext=i,o.fnOptions=n,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function ei(e,t){for(var i in t)e[S(i)]=t[i]}Zt(Jt.prototype);var ti={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var i=e;ti.prepatch(i,i)}else{var n=e.componentInstance=ri(e,Li);n.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var i=t.componentOptions,n=t.componentInstance=e.componentInstance;Di(n,i.propsData,i.listeners,t,i.children)},insert:function(e){var t=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,ji(i,"mounted")),e.data.keepAlive&&(t._isMounted?Ji(i):Bi(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Ni(t,!0):t.$destroy())}},ii=Object.keys(ti);function ni(e,t,i,s,a){if(!n(e)){var l=i.$options._base;if(c(e)&&(e=l.extend(e)),"function"===typeof e){var h;if(n(e.cid)&&(h=e,e=bi(h,l),void 0===e))return _i(h,t,i,s,a);t=t||{},xn(e),r(t.model)&&ai(e.options,t);var u=wt(t,e,a);if(o(e.options.functional))return Kt(e,u,t,i,s);var d=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}oi(t);var f=e.options.name||a,m=new _e("vue-component-"+e.cid+(f?"-"+f:""),t,void 0,void 0,void 0,i,{Ctor:e,propsData:u,listeners:d,tag:a,children:s},h);return m}}}function ri(e,t){var i={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;return r(n)&&(i.render=n.render,i.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(i)}function oi(e){for(var t=e.hook||(e.hook={}),i=0;i<ii.length;i++){var n=ii[i],r=t[n],o=ti[n];r===o||r&&r._merged||(t[n]=r?si(o,r):o)}}function si(e,t){var i=function(i,n){e(i,n),t(i,n)};return i._merged=!0,i}function ai(e,t){var i=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[i]=t.model.value;var o=t.on||(t.on={}),s=o[n],a=t.model.callback;r(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[n]=[a].concat(s)):o[n]=a}var ci=1,li=2;function hi(e,t,i,n,r,s){return(Array.isArray(i)||a(i))&&(r=n,n=i,i=void 0),o(s)&&(r=li),ui(e,t,i,n,r)}function ui(e,t,i,n,o){if(r(i)&&r(i.__ob__))return xe();if(r(i)&&r(i.is)&&(t=i.is),!t)return xe();var s,a,c;(Array.isArray(n)&&"function"===typeof n[0]&&(i=i||{},i.scopedSlots={default:n[0]},n.length=0),o===li?n=Mt(n):o===ci&&(n=Ct(n)),"string"===typeof t)?(a=e.$vnode&&e.$vnode.ns||U.getTagNamespace(t),s=U.isReservedTag(t)?new _e(U.parsePlatformTagName(t),i,n,void 0,void 0,e):i&&i.pre||!r(c=Ye(e.$options,"components",t))?new _e(t,i,n,void 0,void 0,e):ni(c,i,e,n,t)):s=ni(t,i,e,n);return Array.isArray(s)?s:r(s)?(r(a)&&di(s,a),r(i)&&pi(i),s):xe()}function di(e,t,i){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,i=!0),r(e.children))for(var s=0,a=e.children.length;s<a;s++){var c=e.children[s];r(c.tag)&&(n(c.ns)||o(i)&&"svg"!==c.tag)&&di(c,t,i)}}function pi(e){c(e.style)&&vt(e.style),c(e.class)&&vt(e.class)}function fi(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,r=n&&n.context;e.$slots=Rt(t._renderChildren,r),e.$scopedSlots=i,e._c=function(t,i,n,r){return hi(e,t,i,n,r,!1)},e.$createElement=function(t,i,n,r){return hi(e,t,i,n,r,!0)};var o=n&&n.data;De(e,"$attrs",o&&o.attrs||i,null,!0),De(e,"$listeners",t._parentListeners||i,null,!0)}var mi,vi=null;function gi(e){Zt(e.prototype),e.prototype.$nextTick=function(e){return ft(e,this)},e.prototype._render=function(){var e,t=this,i=t.$options,n=i.render,r=i._parentVnode;r&&(t.$scopedSlots=Pt(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{vi=t,e=n.call(t._renderProxy,t.$createElement)}catch(Ss){tt(Ss,t,"render"),e=t._vnode}finally{vi=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof _e||(e=xe()),e.parent=r,e}}function yi(e,t){return(e.__esModule||de&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function _i(e,t,i,n,r){var o=xe();return o.asyncFactory=e,o.asyncMeta={data:t,context:i,children:n,tag:r},o}function bi(e,t){if(o(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var i=vi;if(i&&r(e.owners)&&-1===e.owners.indexOf(i)&&e.owners.push(i),o(e.loading)&&r(e.loadingComp))return e.loadingComp;if(i&&!r(e.owners)){var s=e.owners=[i],a=!0,l=null,h=null;i.$on("hook:destroyed",(function(){return y(s,i)}));var u=function(e){for(var t=0,i=s.length;t<i;t++)s[t].$forceUpdate();e&&(s.length=0,null!==l&&(clearTimeout(l),l=null),null!==h&&(clearTimeout(h),h=null))},d=j((function(i){e.resolved=yi(i,t),a?s.length=0:u(!0)})),f=j((function(t){r(e.errorComp)&&(e.error=!0,u(!0))})),m=e(d,f);return c(m)&&(p(m)?n(e.resolved)&&m.then(d,f):p(m.component)&&(m.component.then(d,f),r(m.error)&&(e.errorComp=yi(m.error,t)),r(m.loading)&&(e.loadingComp=yi(m.loading,t),0===m.delay?e.loading=!0:l=setTimeout((function(){l=null,n(e.resolved)&&n(e.error)&&(e.loading=!0,u(!1))}),m.delay||200)),r(m.timeout)&&(h=setTimeout((function(){h=null,n(e.resolved)&&f(null)}),m.timeout)))),a=!1,e.loading?e.loadingComp:e.resolved}}function xi(e){return e.isComment&&e.asyncFactory}function wi(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var i=e[t];if(r(i)&&(r(i.componentOptions)||xi(i)))return i}}function Si(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Ti(e,t)}function Ci(e,t){mi.$on(e,t)}function Mi(e,t){mi.$off(e,t)}function Ei(e,t){var i=mi;return function n(){var r=t.apply(null,arguments);null!==r&&i.$off(e,n)}}function Ti(e,t,i){mi=e,bt(t,i||{},Ci,Mi,Ei,e),mi=void 0}function Ai(e){var t=/^hook:/;e.prototype.$on=function(e,i){var n=this;if(Array.isArray(e))for(var r=0,o=e.length;r<o;r++)n.$on(e[r],i);else(n._events[e]||(n._events[e]=[])).push(i),t.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){var i=this;function n(){i.$off(e,n),t.apply(i,arguments)}return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var i=this;if(!arguments.length)return i._events=Object.create(null),i;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)i.$off(e[n],t);return i}var o,s=i._events[e];if(!s)return i;if(!t)return i._events[e]=null,i;var a=s.length;while(a--)if(o=s[a],o===t||o.fn===t){s.splice(a,1);break}return i},e.prototype.$emit=function(e){var t=this,i=t._events[e];if(i){i=i.length>1?O(i):i;for(var n=O(arguments,1),r='event handler for "'+e+'"',o=0,s=i.length;o<s;o++)it(i[o],t,n,t,r)}return t}}var Li=null;function Oi(e){var t=Li;return Li=e,function(){Li=t}}function Ri(e){var t=e.$options,i=t.parent;if(i&&!t.abstract){while(i.$options.abstract&&i.$parent)i=i.$parent;i.$children.push(e)}e.$parent=i,e.$root=i?i.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function ki(e){e.prototype._update=function(e,t){var i=this,n=i.$el,r=i._vnode,o=Oi(i);i._vnode=e,i.$el=r?i.__patch__(r,e):i.__patch__(i.$el,e,t,!1),o(),n&&(n.__vue__=null),i.$el&&(i.$el.__vue__=i),i.$vnode&&i.$parent&&i.$vnode===i.$parent._vnode&&(i.$parent.$el=i.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){ji(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();var i=e._watchers.length;while(i--)e._watchers[i].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),ji(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Pi(e,t,i){var n;return e.$el=t,e.$options.render||(e.$options.render=xe),ji(e,"beforeMount"),n=function(){e._update(e._render(),i)},new tn(e,n,P,{before:function(){e._isMounted&&!e._isDestroyed&&ji(e,"beforeUpdate")}},!0),i=!1,null==e.$vnode&&(e._isMounted=!0,ji(e,"mounted")),e}function Di(e,t,n,r,o){var s=r.data.scopedSlots,a=e.$scopedSlots,c=!!(s&&!s.$stable||a!==i&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key),l=!!(o||e.$options._renderChildren||c);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=o,e.$attrs=r.data.attrs||i,e.$listeners=n||i,t&&e.$options.props){Le(!1);for(var h=e._props,u=e.$options._propKeys||[],d=0;d<u.length;d++){var p=u[d],f=e.$options.props;h[p]=Ze(p,f,t,e)}Le(!0),e.$options.propsData=t}n=n||i;var m=e.$options._parentListeners;e.$options._parentListeners=n,Ti(e,n,m),l&&(e.$slots=Rt(o,r.context),e.$forceUpdate())}function Ii(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Bi(e,t){if(t){if(e._directInactive=!1,Ii(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var i=0;i<e.$children.length;i++)Bi(e.$children[i]);ji(e,"activated")}}function Ni(e,t){if((!t||(e._directInactive=!0,!Ii(e)))&&!e._inactive){e._inactive=!0;for(var i=0;i<e.$children.length;i++)Ni(e.$children[i]);ji(e,"deactivated")}}function ji(e,t){ge();var i=e.$options[t],n=t+" hook";if(i)for(var r=0,o=i.length;r<o;r++)it(i[r],e,null,e,n);e._hasHookEvent&&e.$emit("hook:"+t),ye()}var Hi=[],Fi=[],zi={},Ui=!1,Vi=!1,Wi=0;function Gi(){Wi=Hi.length=Fi.length=0,zi={},Ui=Vi=!1}var $i=0,qi=Date.now;if(Z&&!ee){var Xi=window.performance;Xi&&"function"===typeof Xi.now&&qi()>document.createEvent("Event").timeStamp&&(qi=function(){return Xi.now()})}function Yi(){var e,t;for($i=qi(),Vi=!0,Hi.sort((function(e,t){return e.id-t.id})),Wi=0;Wi<Hi.length;Wi++)e=Hi[Wi],e.before&&e.before(),t=e.id,zi[t]=null,e.run();var i=Fi.slice(),n=Hi.slice();Gi(),Ki(i),Zi(n),le&&U.devtools&&le.emit("flush")}function Zi(e){var t=e.length;while(t--){var i=e[t],n=i.vm;n._watcher===i&&n._isMounted&&!n._isDestroyed&&ji(n,"updated")}}function Ji(e){e._inactive=!1,Fi.push(e)}function Ki(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Bi(e[t],!0)}function Qi(e){var t=e.id;if(null==zi[t]){if(zi[t]=!0,Vi){var i=Hi.length-1;while(i>Wi&&Hi[i].id>e.id)i--;Hi.splice(i+1,0,e)}else Hi.push(e);Ui||(Ui=!0,ft(Yi))}}var en=0,tn=function(e,t,i,n,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++en,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ue,this.newDepIds=new ue,this.expression="","function"===typeof t?this.getter=t:(this.getter=q(t),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()};tn.prototype.get=function(){var e;ge(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Ss){if(!this.user)throw Ss;tt(Ss,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&vt(e),ye(),this.cleanupDeps()}return e},tn.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},tn.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},tn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Qi(this)},tn.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(Ss){tt(Ss,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},tn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},tn.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},tn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var nn={enumerable:!0,configurable:!0,get:P,set:P};function rn(e,t,i){nn.get=function(){return this[t][i]},nn.set=function(e){this[t][i]=e},Object.defineProperty(e,i,nn)}function on(e){e._watchers=[];var t=e.$options;t.props&&sn(e,t.props),t.methods&&fn(e,t.methods),t.data?an(e):Pe(e._data={},!0),t.computed&&hn(e,t.computed),t.watch&&t.watch!==oe&&mn(e,t.watch)}function sn(e,t){var i=e.$options.propsData||{},n=e._props={},r=e.$options._propKeys=[],o=!e.$parent;o||Le(!1);var s=function(o){r.push(o);var s=Ze(o,t,i,e);De(n,o,s),o in e||rn(e,"_props",o)};for(var a in t)s(a);Le(!0)}function an(e){var t=e.$options.data;t=e._data="function"===typeof t?cn(t,e):t||{},h(t)||(t={});var i=Object.keys(t),n=e.$options.props,r=(e.$options.methods,i.length);while(r--){var o=i[r];0,n&&b(n,o)||W(o)||rn(e,"_data",o)}Pe(t,!0)}function cn(e,t){ge();try{return e.call(t,t)}catch(Ss){return tt(Ss,t,"data()"),{}}finally{ye()}}var ln={lazy:!0};function hn(e,t){var i=e._computedWatchers=Object.create(null),n=ce();for(var r in t){var o=t[r],s="function"===typeof o?o:o.get;0,n||(i[r]=new tn(e,s||P,P,ln)),r in e||un(e,r,o)}}function un(e,t,i){var n=!ce();"function"===typeof i?(nn.get=n?dn(t):pn(i),nn.set=P):(nn.get=i.get?n&&!1!==i.cache?dn(t):pn(i.get):P,nn.set=i.set||P),Object.defineProperty(e,t,nn)}function dn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),me.target&&t.depend(),t.value}}function pn(e){return function(){return e.call(this,this)}}function fn(e,t){e.$options.props;for(var i in t)e[i]="function"!==typeof t[i]?P:L(t[i],e)}function mn(e,t){for(var i in t){var n=t[i];if(Array.isArray(n))for(var r=0;r<n.length;r++)vn(e,i,n[r]);else vn(e,i,n)}}function vn(e,t,i,n){return h(i)&&(n=i,i=i.handler),"string"===typeof i&&(i=e[i]),e.$watch(t,i,n)}function gn(e){var t={get:function(){return this._data}},i={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",i),e.prototype.$set=Ie,e.prototype.$delete=Be,e.prototype.$watch=function(e,t,i){var n=this;if(h(t))return vn(n,e,t,i);i=i||{},i.user=!0;var r=new tn(n,e,t,i);if(i.immediate)try{t.call(n,r.value)}catch(o){tt(o,n,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var yn=0;function _n(e){e.prototype._init=function(e){var t=this;t._uid=yn++,t._isVue=!0,e&&e._isComponent?bn(t,e):t.$options=Xe(xn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Ri(t),Si(t),fi(t),ji(t,"beforeCreate"),Lt(t),on(t),At(t),ji(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function bn(e,t){var i=e.$options=Object.create(e.constructor.options),n=t._parentVnode;i.parent=t.parent,i._parentVnode=n;var r=n.componentOptions;i.propsData=r.propsData,i._parentListeners=r.listeners,i._renderChildren=r.children,i._componentTag=r.tag,t.render&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns)}function xn(e){var t=e.options;if(e.super){var i=xn(e.super),n=e.superOptions;if(i!==n){e.superOptions=i;var r=wn(e);r&&R(e.extendOptions,r),t=e.options=Xe(i,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function wn(e){var t,i=e.options,n=e.sealedOptions;for(var r in i)i[r]!==n[r]&&(t||(t={}),t[r]=i[r]);return t}function Sn(e){this._init(e)}function Cn(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var i=O(arguments,1);return i.unshift(this),"function"===typeof e.install?e.install.apply(e,i):"function"===typeof e&&e.apply(null,i),t.push(e),this}}function Mn(e){e.mixin=function(e){return this.options=Xe(this.options,e),this}}function En(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var i=this,n=i.cid,r=e._Ctor||(e._Ctor={});if(r[n])return r[n];var o=e.name||i.options.name;var s=function(e){this._init(e)};return s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.cid=t++,s.options=Xe(i.options,e),s["super"]=i,s.options.props&&Tn(s),s.options.computed&&An(s),s.extend=i.extend,s.mixin=i.mixin,s.use=i.use,F.forEach((function(e){s[e]=i[e]})),o&&(s.options.components[o]=s),s.superOptions=i.options,s.extendOptions=e,s.sealedOptions=R({},s.options),r[n]=s,s}}function Tn(e){var t=e.options.props;for(var i in t)rn(e.prototype,"_props",i)}function An(e){var t=e.options.computed;for(var i in t)un(e.prototype,i,t[i])}function Ln(e){F.forEach((function(t){e[t]=function(e,i){return i?("component"===t&&h(i)&&(i.name=i.name||e,i=this.options._base.extend(i)),"directive"===t&&"function"===typeof i&&(i={bind:i,update:i}),this.options[t+"s"][e]=i,i):this.options[t+"s"][e]}}))}function On(e){return e&&(e.Ctor.options.name||e.tag)}function Rn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!u(e)&&e.test(t)}function kn(e,t){var i=e.cache,n=e.keys,r=e._vnode;for(var o in i){var s=i[o];if(s){var a=On(s.componentOptions);a&&!t(a)&&Pn(i,o,n,r)}}}function Pn(e,t,i,n){var r=e[t];!r||n&&r.tag===n.tag||r.componentInstance.$destroy(),e[t]=null,y(i,t)}_n(Sn),gn(Sn),Ai(Sn),ki(Sn),gi(Sn);var Dn=[String,RegExp,Array],In={name:"keep-alive",abstract:!0,props:{include:Dn,exclude:Dn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Pn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){kn(e,(function(e){return Rn(t,e)}))})),this.$watch("exclude",(function(t){kn(e,(function(e){return!Rn(t,e)}))}))},render:function(){var e=this.$slots.default,t=wi(e),i=t&&t.componentOptions;if(i){var n=On(i),r=this,o=r.include,s=r.exclude;if(o&&(!n||!Rn(o,n))||s&&n&&Rn(s,n))return t;var a=this,c=a.cache,l=a.keys,h=null==t.key?i.Ctor.cid+(i.tag?"::"+i.tag:""):t.key;c[h]?(t.componentInstance=c[h].componentInstance,y(l,h),l.push(h)):(c[h]=t,l.push(h),this.max&&l.length>parseInt(this.max)&&Pn(c,l[0],l,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Bn={KeepAlive:In};function Nn(e){var t={get:function(){return U}};Object.defineProperty(e,"config",t),e.util={warn:pe,extend:R,mergeOptions:Xe,defineReactive:De},e.set=Ie,e.delete=Be,e.nextTick=ft,e.observable=function(e){return Pe(e),e},e.options=Object.create(null),F.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,R(e.options.components,Bn),Cn(e),Mn(e),En(e),Ln(e)}Nn(Sn),Object.defineProperty(Sn.prototype,"$isServer",{get:ce}),Object.defineProperty(Sn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sn,"FunctionalRenderContext",{value:Jt}),Sn.version="2.6.11";var jn=v("style,class"),Hn=v("input,textarea,option,select,progress"),Fn=function(e,t,i){return"value"===i&&Hn(e)&&"button"!==t||"selected"===i&&"option"===e||"checked"===i&&"input"===e||"muted"===i&&"video"===e},zn=v("contenteditable,draggable,spellcheck"),Un=v("events,caret,typing,plaintext-only"),Vn=function(e,t){return Xn(t)||"false"===t?"false":"contenteditable"===e&&Un(t)?t:"true"},Wn=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Gn="http://www.w3.org/1999/xlink",$n=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},qn=function(e){return $n(e)?e.slice(6,e.length):""},Xn=function(e){return null==e||!1===e};function Yn(e){var t=e.data,i=e,n=e;while(r(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(t=Zn(n.data,t));while(r(i=i.parent))i&&i.data&&(t=Zn(t,i.data));return Jn(t.staticClass,t.class)}function Zn(e,t){return{staticClass:Kn(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function Jn(e,t){return r(e)||r(t)?Kn(e,Qn(t)):""}function Kn(e,t){return e?t?e+" "+t:e:t||""}function Qn(e){return Array.isArray(e)?er(e):c(e)?tr(e):"string"===typeof e?e:""}function er(e){for(var t,i="",n=0,o=e.length;n<o;n++)r(t=Qn(e[n]))&&""!==t&&(i&&(i+=" "),i+=t);return i}function tr(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}var ir={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},nr=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rr=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),or=function(e){return nr(e)||rr(e)};function sr(e){return rr(e)?"svg":"math"===e?"math":void 0}var ar=Object.create(null);function cr(e){if(!Z)return!0;if(or(e))return!1;if(e=e.toLowerCase(),null!=ar[e])return ar[e];var t=document.createElement(e);return e.indexOf("-")>-1?ar[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:ar[e]=/HTMLUnknownElement/.test(t.toString())}var lr=v("text,number,password,search,email,tel,url");function hr(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function ur(e,t){var i=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&i.setAttribute("multiple","multiple"),i}function dr(e,t){return document.createElementNS(ir[e],t)}function pr(e){return document.createTextNode(e)}function fr(e){return document.createComment(e)}function mr(e,t,i){e.insertBefore(t,i)}function vr(e,t){e.removeChild(t)}function gr(e,t){e.appendChild(t)}function yr(e){return e.parentNode}function _r(e){return e.nextSibling}function br(e){return e.tagName}function xr(e,t){e.textContent=t}function wr(e,t){e.setAttribute(t,"")}var Sr=Object.freeze({createElement:ur,createElementNS:dr,createTextNode:pr,createComment:fr,insertBefore:mr,removeChild:vr,appendChild:gr,parentNode:yr,nextSibling:_r,tagName:br,setTextContent:xr,setStyleScope:wr}),Cr={create:function(e,t){Mr(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Mr(e,!0),Mr(t))},destroy:function(e){Mr(e,!0)}};function Mr(e,t){var i=e.data.ref;if(r(i)){var n=e.context,o=e.componentInstance||e.elm,s=n.$refs;t?Array.isArray(s[i])?y(s[i],o):s[i]===o&&(s[i]=void 0):e.data.refInFor?Array.isArray(s[i])?s[i].indexOf(o)<0&&s[i].push(o):s[i]=[o]:s[i]=o}}var Er=new _e("",{},[]),Tr=["create","activate","update","remove","destroy"];function Ar(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&Lr(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&n(t.asyncFactory.error))}function Lr(e,t){if("input"!==e.tag)return!0;var i,n=r(i=e.data)&&r(i=i.attrs)&&i.type,o=r(i=t.data)&&r(i=i.attrs)&&i.type;return n===o||lr(n)&&lr(o)}function Or(e,t,i){var n,o,s={};for(n=t;n<=i;++n)o=e[n].key,r(o)&&(s[o]=n);return s}function Rr(e){var t,i,s={},c=e.modules,l=e.nodeOps;for(t=0;t<Tr.length;++t)for(s[Tr[t]]=[],i=0;i<c.length;++i)r(c[i][Tr[t]])&&s[Tr[t]].push(c[i][Tr[t]]);function h(e){return new _e(l.tagName(e).toLowerCase(),{},[],void 0,e)}function u(e,t){function i(){0===--i.listeners&&d(e)}return i.listeners=t,i}function d(e){var t=l.parentNode(e);r(t)&&l.removeChild(t,e)}function p(e,t,i,n,s,a,c){if(r(e.elm)&&r(a)&&(e=a[c]=Se(e)),e.isRootInsert=!s,!f(e,t,i,n)){var h=e.data,u=e.children,d=e.tag;r(d)?(e.elm=e.ns?l.createElementNS(e.ns,d):l.createElement(d,e),w(e),_(e,u,t),r(h)&&x(e,t),y(i,e.elm,n)):o(e.isComment)?(e.elm=l.createComment(e.text),y(i,e.elm,n)):(e.elm=l.createTextNode(e.text),y(i,e.elm,n))}}function f(e,t,i,n){var s=e.data;if(r(s)){var a=r(e.componentInstance)&&s.keepAlive;if(r(s=s.hook)&&r(s=s.init)&&s(e,!1),r(e.componentInstance))return m(e,t),y(i,e.elm,n),o(a)&&g(e,t,i,n),!0}}function m(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,b(e)?(x(e,t),w(e)):(Mr(e),t.push(e))}function g(e,t,i,n){var o,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,r(o=a.data)&&r(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Er,a);t.push(a);break}y(i,e.elm,n)}function y(e,t,i){r(e)&&(r(i)?l.parentNode(i)===e&&l.insertBefore(e,t,i):l.appendChild(e,t))}function _(e,t,i){if(Array.isArray(t)){0;for(var n=0;n<t.length;++n)p(t[n],i,e.elm,null,!0,t,n)}else a(e.text)&&l.appendChild(e.elm,l.createTextNode(String(e.text)))}function b(e){while(e.componentInstance)e=e.componentInstance._vnode;return r(e.tag)}function x(e,i){for(var n=0;n<s.create.length;++n)s.create[n](Er,e);t=e.data.hook,r(t)&&(r(t.create)&&t.create(Er,e),r(t.insert)&&i.push(e))}function w(e){var t;if(r(t=e.fnScopeId))l.setStyleScope(e.elm,t);else{var i=e;while(i)r(t=i.context)&&r(t=t.$options._scopeId)&&l.setStyleScope(e.elm,t),i=i.parent}r(t=Li)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&l.setStyleScope(e.elm,t)}function S(e,t,i,n,r,o){for(;n<=r;++n)p(i[n],o,e,t,!1,i,n)}function C(e){var t,i,n=e.data;if(r(n))for(r(t=n.hook)&&r(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(r(t=e.children))for(i=0;i<e.children.length;++i)C(e.children[i])}function M(e,t,i){for(;t<=i;++t){var n=e[t];r(n)&&(r(n.tag)?(E(n),C(n)):d(n.elm))}}function E(e,t){if(r(t)||r(e.data)){var i,n=s.remove.length+1;for(r(t)?t.listeners+=n:t=u(e.elm,n),r(i=e.componentInstance)&&r(i=i._vnode)&&r(i.data)&&E(i,t),i=0;i<s.remove.length;++i)s.remove[i](e,t);r(i=e.data.hook)&&r(i=i.remove)?i(e,t):t()}else d(e.elm)}function T(e,t,i,o,s){var a,c,h,u,d=0,f=0,m=t.length-1,v=t[0],g=t[m],y=i.length-1,_=i[0],b=i[y],x=!s;while(d<=m&&f<=y)n(v)?v=t[++d]:n(g)?g=t[--m]:Ar(v,_)?(L(v,_,o,i,f),v=t[++d],_=i[++f]):Ar(g,b)?(L(g,b,o,i,y),g=t[--m],b=i[--y]):Ar(v,b)?(L(v,b,o,i,y),x&&l.insertBefore(e,v.elm,l.nextSibling(g.elm)),v=t[++d],b=i[--y]):Ar(g,_)?(L(g,_,o,i,f),x&&l.insertBefore(e,g.elm,v.elm),g=t[--m],_=i[++f]):(n(a)&&(a=Or(t,d,m)),c=r(_.key)?a[_.key]:A(_,t,d,m),n(c)?p(_,o,e,v.elm,!1,i,f):(h=t[c],Ar(h,_)?(L(h,_,o,i,f),t[c]=void 0,x&&l.insertBefore(e,h.elm,v.elm)):p(_,o,e,v.elm,!1,i,f)),_=i[++f]);d>m?(u=n(i[y+1])?null:i[y+1].elm,S(e,u,i,f,y,o)):f>y&&M(t,d,m)}function A(e,t,i,n){for(var o=i;o<n;o++){var s=t[o];if(r(s)&&Ar(e,s))return o}}function L(e,t,i,a,c,h){if(e!==t){r(t.elm)&&r(a)&&(t=a[c]=Se(t));var u=t.elm=e.elm;if(o(e.isAsyncPlaceholder))r(t.asyncFactory.resolved)?k(e.elm,t,i):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var d,p=t.data;r(p)&&r(d=p.hook)&&r(d=d.prepatch)&&d(e,t);var f=e.children,m=t.children;if(r(p)&&b(t)){for(d=0;d<s.update.length;++d)s.update[d](e,t);r(d=p.hook)&&r(d=d.update)&&d(e,t)}n(t.text)?r(f)&&r(m)?f!==m&&T(u,f,m,i,h):r(m)?(r(e.text)&&l.setTextContent(u,""),S(u,null,m,0,m.length-1,i)):r(f)?M(f,0,f.length-1):r(e.text)&&l.setTextContent(u,""):e.text!==t.text&&l.setTextContent(u,t.text),r(p)&&r(d=p.hook)&&r(d=d.postpatch)&&d(e,t)}}}function O(e,t,i){if(o(i)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}var R=v("attrs,class,staticClass,staticStyle,key");function k(e,t,i,n){var s,a=t.tag,c=t.data,l=t.children;if(n=n||c&&c.pre,t.elm=e,o(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(c)&&(r(s=c.hook)&&r(s=s.init)&&s(t,!0),r(s=t.componentInstance)))return m(t,i),!0;if(r(a)){if(r(l))if(e.hasChildNodes())if(r(s=c)&&r(s=s.domProps)&&r(s=s.innerHTML)){if(s!==e.innerHTML)return!1}else{for(var h=!0,u=e.firstChild,d=0;d<l.length;d++){if(!u||!k(u,l[d],i,n)){h=!1;break}u=u.nextSibling}if(!h||u)return!1}else _(t,l,i);if(r(c)){var p=!1;for(var f in c)if(!R(f)){p=!0,x(t,i);break}!p&&c["class"]&&vt(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,i,a){if(!n(t)){var c=!1,u=[];if(n(e))c=!0,p(t,u);else{var d=r(e.nodeType);if(!d&&Ar(e,t))L(e,t,u,null,null,a);else{if(d){if(1===e.nodeType&&e.hasAttribute(H)&&(e.removeAttribute(H),i=!0),o(i)&&k(e,t,u))return O(t,u,!0),e;e=h(e)}var f=e.elm,m=l.parentNode(f);if(p(t,u,f._leaveCb?null:m,l.nextSibling(f)),r(t.parent)){var v=t.parent,g=b(t);while(v){for(var y=0;y<s.destroy.length;++y)s.destroy[y](v);if(v.elm=t.elm,g){for(var _=0;_<s.create.length;++_)s.create[_](Er,v);var x=v.data.hook.insert;if(x.merged)for(var w=1;w<x.fns.length;w++)x.fns[w]()}else Mr(v);v=v.parent}}r(m)?M([e],0,0):r(e.tag)&&C(e)}}return O(t,u,c),t.elm}r(e)&&C(e)}}var kr={create:Pr,update:Pr,destroy:function(e){Pr(e,Er)}};function Pr(e,t){(e.data.directives||t.data.directives)&&Dr(e,t)}function Dr(e,t){var i,n,r,o=e===Er,s=t===Er,a=Br(e.data.directives,e.context),c=Br(t.data.directives,t.context),l=[],h=[];for(i in c)n=a[i],r=c[i],n?(r.oldValue=n.value,r.oldArg=n.arg,jr(r,"update",t,e),r.def&&r.def.componentUpdated&&h.push(r)):(jr(r,"bind",t,e),r.def&&r.def.inserted&&l.push(r));if(l.length){var u=function(){for(var i=0;i<l.length;i++)jr(l[i],"inserted",t,e)};o?xt(t,"insert",u):u()}if(h.length&&xt(t,"postpatch",(function(){for(var i=0;i<h.length;i++)jr(h[i],"componentUpdated",t,e)})),!o)for(i in a)c[i]||jr(a[i],"unbind",e,e,s)}var Ir=Object.create(null);function Br(e,t){var i,n,r=Object.create(null);if(!e)return r;for(i=0;i<e.length;i++)n=e[i],n.modifiers||(n.modifiers=Ir),r[Nr(n)]=n,n.def=Ye(t.$options,"directives",n.name,!0);return r}function Nr(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function jr(e,t,i,n,r){var o=e.def&&e.def[t];if(o)try{o(i.elm,e,i,n,r)}catch(Ss){tt(Ss,i.context,"directive "+e.name+" "+t+" hook")}}var Hr=[Cr,kr];function Fr(e,t){var i=t.componentOptions;if((!r(i)||!1!==i.Ctor.options.inheritAttrs)&&(!n(e.data.attrs)||!n(t.data.attrs))){var o,s,a,c=t.elm,l=e.data.attrs||{},h=t.data.attrs||{};for(o in r(h.__ob__)&&(h=t.data.attrs=R({},h)),h)s=h[o],a=l[o],a!==s&&zr(c,o,s);for(o in(ee||ie)&&h.value!==l.value&&zr(c,"value",h.value),l)n(h[o])&&($n(o)?c.removeAttributeNS(Gn,qn(o)):zn(o)||c.removeAttribute(o))}}function zr(e,t,i){e.tagName.indexOf("-")>-1?Ur(e,t,i):Wn(t)?Xn(i)?e.removeAttribute(t):(i="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,i)):zn(t)?e.setAttribute(t,Vn(t,i)):$n(t)?Xn(i)?e.removeAttributeNS(Gn,qn(t)):e.setAttributeNS(Gn,t,i):Ur(e,t,i)}function Ur(e,t,i){if(Xn(i))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==i&&!e.__ieph){var n=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,i)}}var Vr={create:Fr,update:Fr};function Wr(e,t){var i=t.elm,o=t.data,s=e.data;if(!(n(o.staticClass)&&n(o.class)&&(n(s)||n(s.staticClass)&&n(s.class)))){var a=Yn(t),c=i._transitionClasses;r(c)&&(a=Kn(a,Qn(c))),a!==i._prevClass&&(i.setAttribute("class",a),i._prevClass=a)}}var Gr,$r={create:Wr,update:Wr},qr="__r",Xr="__c";function Yr(e){if(r(e[qr])){var t=ee?"change":"input";e[t]=[].concat(e[qr],e[t]||[]),delete e[qr]}r(e[Xr])&&(e.change=[].concat(e[Xr],e.change||[]),delete e[Xr])}function Zr(e,t,i){var n=Gr;return function r(){var o=t.apply(null,arguments);null!==o&&Qr(e,r,i,n)}}var Jr=st&&!(re&&Number(re[1])<=53);function Kr(e,t,i,n){if(Jr){var r=$i,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}Gr.addEventListener(e,t,se?{capture:i,passive:n}:i)}function Qr(e,t,i,n){(n||Gr).removeEventListener(e,t._wrapper||t,i)}function eo(e,t){if(!n(e.data.on)||!n(t.data.on)){var i=t.data.on||{},r=e.data.on||{};Gr=t.elm,Yr(i),bt(i,r,Kr,Qr,Zr,t.context),Gr=void 0}}var to,io={create:eo,update:eo};function no(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var i,o,s=t.elm,a=e.data.domProps||{},c=t.data.domProps||{};for(i in r(c.__ob__)&&(c=t.data.domProps=R({},c)),a)i in c||(s[i]="");for(i in c){if(o=c[i],"textContent"===i||"innerHTML"===i){if(t.children&&(t.children.length=0),o===a[i])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===i&&"PROGRESS"!==s.tagName){s._value=o;var l=n(o)?"":String(o);ro(s,l)&&(s.value=l)}else if("innerHTML"===i&&rr(s.tagName)&&n(s.innerHTML)){to=to||document.createElement("div"),to.innerHTML="<svg>"+o+"</svg>";var h=to.firstChild;while(s.firstChild)s.removeChild(s.firstChild);while(h.firstChild)s.appendChild(h.firstChild)}else if(o!==a[i])try{s[i]=o}catch(Ss){}}}}function ro(e,t){return!e.composing&&("OPTION"===e.tagName||oo(e,t)||so(e,t))}function oo(e,t){var i=!0;try{i=document.activeElement!==e}catch(Ss){}return i&&e.value!==t}function so(e,t){var i=e.value,n=e._vModifiers;if(r(n)){if(n.number)return m(i)!==m(t);if(n.trim)return i.trim()!==t.trim()}return i!==t}var ao={create:no,update:no},co=x((function(e){var t={},i=/;(?![^(]*\))/g,n=/:(.+)/;return e.split(i).forEach((function(e){if(e){var i=e.split(n);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function lo(e){var t=ho(e.style);return e.staticStyle?R(e.staticStyle,t):t}function ho(e){return Array.isArray(e)?k(e):"string"===typeof e?co(e):e}function uo(e,t){var i,n={};if(t){var r=e;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(i=lo(r.data))&&R(n,i)}(i=lo(e.data))&&R(n,i);var o=e;while(o=o.parent)o.data&&(i=lo(o.data))&&R(n,i);return n}var po,fo=/^--/,mo=/\s*!important$/,vo=function(e,t,i){if(fo.test(t))e.style.setProperty(t,i);else if(mo.test(i))e.style.setProperty(E(t),i.replace(mo,""),"important");else{var n=yo(t);if(Array.isArray(i))for(var r=0,o=i.length;r<o;r++)e.style[n]=i[r];else e.style[n]=i}},go=["Webkit","Moz","ms"],yo=x((function(e){if(po=po||document.createElement("div").style,e=S(e),"filter"!==e&&e in po)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<go.length;i++){var n=go[i]+t;if(n in po)return n}}));function _o(e,t){var i=t.data,o=e.data;if(!(n(i.staticStyle)&&n(i.style)&&n(o.staticStyle)&&n(o.style))){var s,a,c=t.elm,l=o.staticStyle,h=o.normalizedStyle||o.style||{},u=l||h,d=ho(t.data.style)||{};t.data.normalizedStyle=r(d.__ob__)?R({},d):d;var p=uo(t,!0);for(a in u)n(p[a])&&vo(c,a,"");for(a in p)s=p[a],s!==u[a]&&vo(c,a,null==s?"":s)}}var bo={create:_o,update:_o},xo=/\s+/;function wo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(xo).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var i=" "+(e.getAttribute("class")||"")+" ";i.indexOf(" "+t+" ")<0&&e.setAttribute("class",(i+t).trim())}}function So(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(xo).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var i=" "+(e.getAttribute("class")||"")+" ",n=" "+t+" ";while(i.indexOf(n)>=0)i=i.replace(n," ");i=i.trim(),i?e.setAttribute("class",i):e.removeAttribute("class")}}function Co(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&R(t,Mo(e.name||"v")),R(t,e),t}return"string"===typeof e?Mo(e):void 0}}var Mo=x((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Eo=Z&&!te,To="transition",Ao="animation",Lo="transition",Oo="transitionend",Ro="animation",ko="animationend";Eo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Lo="WebkitTransition",Oo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ro="WebkitAnimation",ko="webkitAnimationEnd"));var Po=Z?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Do(e){Po((function(){Po(e)}))}function Io(e,t){var i=e._transitionClasses||(e._transitionClasses=[]);i.indexOf(t)<0&&(i.push(t),wo(e,t))}function Bo(e,t){e._transitionClasses&&y(e._transitionClasses,t),So(e,t)}function No(e,t,i){var n=Ho(e,t),r=n.type,o=n.timeout,s=n.propCount;if(!r)return i();var a=r===To?Oo:ko,c=0,l=function(){e.removeEventListener(a,h),i()},h=function(t){t.target===e&&++c>=s&&l()};setTimeout((function(){c<s&&l()}),o+1),e.addEventListener(a,h)}var jo=/\b(transform|all)(,|$)/;function Ho(e,t){var i,n=window.getComputedStyle(e),r=(n[Lo+"Delay"]||"").split(", "),o=(n[Lo+"Duration"]||"").split(", "),s=Fo(r,o),a=(n[Ro+"Delay"]||"").split(", "),c=(n[Ro+"Duration"]||"").split(", "),l=Fo(a,c),h=0,u=0;t===To?s>0&&(i=To,h=s,u=o.length):t===Ao?l>0&&(i=Ao,h=l,u=c.length):(h=Math.max(s,l),i=h>0?s>l?To:Ao:null,u=i?i===To?o.length:c.length:0);var d=i===To&&jo.test(n[Lo+"Property"]);return{type:i,timeout:h,propCount:u,hasTransform:d}}function Fo(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,i){return zo(t)+zo(e[i])})))}function zo(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Uo(e,t){var i=e.elm;r(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var o=Co(e.data.transition);if(!n(o)&&!r(i._enterCb)&&1===i.nodeType){var s=o.css,a=o.type,l=o.enterClass,h=o.enterToClass,u=o.enterActiveClass,d=o.appearClass,p=o.appearToClass,f=o.appearActiveClass,v=o.beforeEnter,g=o.enter,y=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,x=o.appear,w=o.afterAppear,S=o.appearCancelled,C=o.duration,M=Li,E=Li.$vnode;while(E&&E.parent)M=E.context,E=E.parent;var T=!M._isMounted||!e.isRootInsert;if(!T||x||""===x){var A=T&&d?d:l,L=T&&f?f:u,O=T&&p?p:h,R=T&&b||v,k=T&&"function"===typeof x?x:g,P=T&&w||y,D=T&&S||_,I=m(c(C)?C.enter:C);0;var B=!1!==s&&!te,N=Go(k),H=i._enterCb=j((function(){B&&(Bo(i,O),Bo(i,L)),H.cancelled?(B&&Bo(i,A),D&&D(i)):P&&P(i),i._enterCb=null}));e.data.show||xt(e,"insert",(function(){var t=i.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),k&&k(i,H)})),R&&R(i),B&&(Io(i,A),Io(i,L),Do((function(){Bo(i,A),H.cancelled||(Io(i,O),N||(Wo(I)?setTimeout(H,I):No(i,a,H)))}))),e.data.show&&(t&&t(),k&&k(i,H)),B||N||H()}}}function Vo(e,t){var i=e.elm;r(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var o=Co(e.data.transition);if(n(o)||1!==i.nodeType)return t();if(!r(i._leaveCb)){var s=o.css,a=o.type,l=o.leaveClass,h=o.leaveToClass,u=o.leaveActiveClass,d=o.beforeLeave,p=o.leave,f=o.afterLeave,v=o.leaveCancelled,g=o.delayLeave,y=o.duration,_=!1!==s&&!te,b=Go(p),x=m(c(y)?y.leave:y);0;var w=i._leaveCb=j((function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),_&&(Bo(i,h),Bo(i,u)),w.cancelled?(_&&Bo(i,l),v&&v(i)):(t(),f&&f(i)),i._leaveCb=null}));g?g(S):S()}function S(){w.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),d&&d(i),_&&(Io(i,l),Io(i,u),Do((function(){Bo(i,l),w.cancelled||(Io(i,h),b||(Wo(x)?setTimeout(w,x):No(i,a,w)))}))),p&&p(i,w),_||b||w())}}function Wo(e){return"number"===typeof e&&!isNaN(e)}function Go(e){if(n(e))return!1;var t=e.fns;return r(t)?Go(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function $o(e,t){!0!==t.data.show&&Uo(t)}var qo=Z?{create:$o,activate:$o,remove:function(e,t){!0!==e.data.show?Vo(e,t):t()}}:{},Xo=[Vr,$r,io,ao,bo,qo],Yo=Xo.concat(Hr),Zo=Rr({nodeOps:Sr,modules:Yo});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&rs(e,"input")}));var Jo={inserted:function(e,t,i,n){"select"===i.tag?(n.elm&&!n.elm._vOptions?xt(i,"postpatch",(function(){Jo.componentUpdated(e,t,i)})):Ko(e,t,i.context),e._vOptions=[].map.call(e.options,ts)):("textarea"===i.tag||lr(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",is),e.addEventListener("compositionend",ns),e.addEventListener("change",ns),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,i){if("select"===i.tag){Ko(e,t,i.context);var n=e._vOptions,r=e._vOptions=[].map.call(e.options,ts);if(r.some((function(e,t){return!B(e,n[t])}))){var o=e.multiple?t.value.some((function(e){return es(e,r)})):t.value!==t.oldValue&&es(t.value,r);o&&rs(e,"change")}}}};function Ko(e,t,i){Qo(e,t,i),(ee||ie)&&setTimeout((function(){Qo(e,t,i)}),0)}function Qo(e,t,i){var n=t.value,r=e.multiple;if(!r||Array.isArray(n)){for(var o,s,a=0,c=e.options.length;a<c;a++)if(s=e.options[a],r)o=N(n,ts(s))>-1,s.selected!==o&&(s.selected=o);else if(B(ts(s),n))return void(e.selectedIndex!==a&&(e.selectedIndex=a));r||(e.selectedIndex=-1)}}function es(e,t){return t.every((function(t){return!B(t,e)}))}function ts(e){return"_value"in e?e._value:e.value}function is(e){e.target.composing=!0}function ns(e){e.target.composing&&(e.target.composing=!1,rs(e.target,"input"))}function rs(e,t){var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!0),e.dispatchEvent(i)}function os(e){return!e.componentInstance||e.data&&e.data.transition?e:os(e.componentInstance._vnode)}var ss={bind:function(e,t,i){var n=t.value;i=os(i);var r=i.data&&i.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&r?(i.data.show=!0,Uo(i,(function(){e.style.display=o}))):e.style.display=n?o:"none"},update:function(e,t,i){var n=t.value,r=t.oldValue;if(!n!==!r){i=os(i);var o=i.data&&i.data.transition;o?(i.data.show=!0,n?Uo(i,(function(){e.style.display=e.__vOriginalDisplay})):Vo(i,(function(){e.style.display="none"}))):e.style.display=n?e.__vOriginalDisplay:"none"}},unbind:function(e,t,i,n,r){r||(e.style.display=e.__vOriginalDisplay)}},as={model:Jo,show:ss},cs={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ls(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?ls(wi(t.children)):e}function hs(e){var t={},i=e.$options;for(var n in i.propsData)t[n]=e[n];var r=i._parentListeners;for(var o in r)t[S(o)]=r[o];return t}function us(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function ds(e){while(e=e.parent)if(e.data.transition)return!0}function ps(e,t){return t.key===e.key&&t.tag===e.tag}var fs=function(e){return e.tag||xi(e)},ms=function(e){return"show"===e.name},vs={name:"transition",props:cs,abstract:!0,render:function(e){var t=this,i=this.$slots.default;if(i&&(i=i.filter(fs),i.length)){0;var n=this.mode;0;var r=i[0];if(ds(this.$vnode))return r;var o=ls(r);if(!o)return r;if(this._leaving)return us(e,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var c=(o.data||(o.data={})).transition=hs(this),l=this._vnode,h=ls(l);if(o.data.directives&&o.data.directives.some(ms)&&(o.data.show=!0),h&&h.data&&!ps(o,h)&&!xi(h)&&(!h.componentInstance||!h.componentInstance._vnode.isComment)){var u=h.data.transition=R({},c);if("out-in"===n)return this._leaving=!0,xt(u,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),us(e,r);if("in-out"===n){if(xi(o))return l;var d,p=function(){d()};xt(c,"afterEnter",p),xt(c,"enterCancelled",p),xt(u,"delayLeave",(function(e){d=e}))}}return r}}},gs=R({tag:String,moveClass:String},cs);delete gs.mode;var ys={props:gs,beforeMount:function(){var e=this,t=this._update;this._update=function(i,n){var r=Oi(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,i,n)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",i=Object.create(null),n=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=hs(this),a=0;a<r.length;a++){var c=r[a];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),i[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(n){for(var l=[],h=[],u=0;u<n.length;u++){var d=n[u];d.data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),i[d.key]?l.push(d):h.push(d)}this.kept=e(t,null,l),this.removed=h}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(_s),e.forEach(bs),e.forEach(xs),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var i=e.elm,n=i.style;Io(i,t),n.transform=n.WebkitTransform=n.transitionDuration="",i.addEventListener(Oo,i._moveCb=function e(n){n&&n.target!==i||n&&!/transform$/.test(n.propertyName)||(i.removeEventListener(Oo,e),i._moveCb=null,Bo(i,t))})}})))},methods:{hasMove:function(e,t){if(!Eo)return!1;if(this._hasMove)return this._hasMove;var i=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){So(i,e)})),wo(i,t),i.style.display="none",this.$el.appendChild(i);var n=Ho(i);return this.$el.removeChild(i),this._hasMove=n.hasTransform}}};function _s(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function bs(e){e.data.newPos=e.elm.getBoundingClientRect()}function xs(e){var t=e.data.pos,i=e.data.newPos,n=t.left-i.left,r=t.top-i.top;if(n||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+r+"px)",o.transitionDuration="0s"}}var ws={Transition:vs,TransitionGroup:ys};Sn.config.mustUseProp=Fn,Sn.config.isReservedTag=or,Sn.config.isReservedAttr=jn,Sn.config.getTagNamespace=sr,Sn.config.isUnknownElement=cr,R(Sn.options.directives,as),R(Sn.options.components,ws),Sn.prototype.__patch__=Z?Zo:P,Sn.prototype.$mount=function(e,t){return e=e&&Z?hr(e):void 0,Pi(this,e,t)},Z&&setTimeout((function(){U.devtools&&le&&le.emit("init",Sn)}),0),t["a"]=Sn}).call(this,i("c8ba"))},"2c64":function(e,t,i){},"2cf4":function(e,t,i){var n,r,o,s=i("da84"),a=i("d039"),c=i("c6b6"),l=i("0366"),h=i("1be4"),u=i("cc12"),d=i("1cdc"),p=s.location,f=s.setImmediate,m=s.clearImmediate,v=s.process,g=s.MessageChannel,y=s.Dispatch,_=0,b={},x="onreadystatechange",w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},S=function(e){return function(){w(e)}},C=function(e){w(e.data)},M=function(e){s.postMessage(e+"",p.protocol+"//"+p.host)};f&&m||(f=function(e){var t=[],i=1;while(arguments.length>i)t.push(arguments[i++]);return b[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(_),_},m=function(e){delete b[e]},"process"==c(v)?n=function(e){v.nextTick(S(e))}:y&&y.now?n=function(e){y.now(S(e))}:g&&!d?(r=new g,o=r.port2,r.port1.onmessage=C,n=l(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(M)||"file:"===p.protocol?n=x in u("script")?function(e){h.appendChild(u("script"))[x]=function(){h.removeChild(this),w(e)}}:function(e){setTimeout(S(e),0)}:(n=M,s.addEventListener("message",C,!1))),e.exports={set:f,clear:m}},"2d00":function(e,t,i){var n,r,o=i("da84"),s=i("342f"),a=o.process,c=a&&a.versions,l=c&&c.v8;l?(n=l.split("."),r=n[0]+n[1]):s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(r=n[1]))),e.exports=r&&+r},"2d83":function(e,t,i){"use strict";var n=i("387f");e.exports=function(e,t,i,r,o){var s=new Error(e);return n(s,t,i,r,o)}},"2e67":function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"30b5":function(e,t,i){"use strict";var n=i("c532");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var o;if(i)o=i(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},3206:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("2b0e"),r=i("d9bd");function o(e,t){return()=>Object(r["c"])(`The ${e} component must be used inside a ${t}`)}function s(e,t,i){const r=t&&i?{register:o(t,i),unregister:o(t,i)}:null;return n["a"].extend({name:"registrable-inject",inject:{[e]:{default:r}}})}},3384:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=g,t.Goto=void 0;var n=i("07d6"),r=s(i("6f04")),o=i("765d");function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};n.get||n.set?Object.defineProperty(t,i,n):t[i]=e[i]}return t.default=e,t}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(i,!0).forEach((function(t){v(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=m({container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0},t),n=(0,o.getContainer)(i.container);if(i.appOffset&&g.framework.application){var s=n.classList.contains("v-navigation-drawer"),a=n.classList.contains("v-navigation-drawer--clipped"),c=g.framework.application,l=c.bar,h=c.top;i.offset+=l,s&&!a||(i.offset+=h)}var u,d=performance.now();u="number"===typeof e?(0,o.getOffset)(e)-i.offset:(0,o.getOffset)(e)-(0,o.getOffset)(n)-i.offset;var p=n.scrollTop;if(u===p)return Promise.resolve(u);var f="function"===typeof i.easing?i.easing:r[i.easing];if(!f)throw new TypeError('Easing function "'.concat(i.easing,'" not found.'));return new Promise((function(e){return requestAnimationFrame((function t(r){var o=r-d,s=Math.abs(i.duration?Math.min(o/i.duration,1):1);n.scrollTop=Math.floor(p+(u-p)*f(s));var a=n===document.body?document.documentElement.clientHeight:n.clientHeight;if(1===s||a+n.scrollTop===n.scrollHeight)return e(u);requestAnimationFrame(t)}))}))}g.framework={},g.init=function(){};var y=function(e){function t(){var e;return c(this,t),e=l(this,u(t).call(this)),l(e,g)}return d(t,e),t}(n.Service);t.Goto=y,y.property="goTo"},3408:function(e,t,i){},"342f":function(e,t,i){var n=i("d066");e.exports=n("navigator","userAgent")||""},"34c3":function(e,t,i){"use strict";var n=i("2b0e");t["a"]=n["a"].extend({name:"v-list-item-icon",functional:!0,render(e,{data:t,children:i}){return t.staticClass=("v-list-item__icon "+(t.staticClass||"")).trim(),e("div",t,i)}})},"35a1":function(e,t,i){var n=i("f5df"),r=i("3f8c"),o=i("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||r[n(e)]}},"368e":function(e,t,i){},"36a7":function(e,t,i){},"37c6":function(e,t,i){"use strict";i("6ece");var n=i("0789"),r=i("a9ad"),o=i("fe6c"),s=i("a452"),a=i("7560"),c=i("80d2"),l=i("58df");const h=Object(l["a"])(r["a"],Object(o["b"])(["absolute","fixed","top","bottom"]),s["a"],a["a"]);var u=h.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(c["f"])(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(c["f"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const e=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:e,[this.$vuetify.rtl?"right":"left"]:Object(c["f"])(this.normalizedValue,"%"),width:Object(c["f"])(this.normalizedBuffer-this.normalizedValue,"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,...this.themeClasses}},computedTransition(){return this.indeterminate?n["d"]:n["f"]},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(c["f"])(this.normalizedBuffer,"%")),e}},methods:{genContent(){const e=Object(c["n"])(this,"default",{value:this.internalLazyValue});return e?this.$createElement("div",{staticClass:"v-progress-linear__content"},e):null},genListeners(){const e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[e]:!0}}))},onClick(e){if(!this.reactive)return;const{width:t}=this.$el.getBoundingClientRect();this.internalValue=e.offsetX/t*100},normalize(e){return e<0?0:e>100?100:parseFloat(e)}},render(e){const t={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(c["f"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return e("div",t,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}});t["a"]=u},"37e8":function(e,t,i){var n=i("83ab"),r=i("9bf2"),o=i("825a"),s=i("df75");e.exports=n?Object.defineProperties:function(e,t){o(e);var i,n=s(t),a=n.length,c=0;while(a>c)r.f(e,i=n[c++],t[i]);return e}},3835:function(e,t,i){"use strict";function n(e){if(Array.isArray(e))return e}i.d(t,"a",(function(){return c}));i("a4d3"),i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0");function r(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0)if(i.push(s.value),t&&i.length===t)break}catch(c){r=!0,o=c}finally{try{n||null==a["return"]||a["return"]()}finally{if(r)throw o}}return i}}i("a630"),i("fb6a"),i("b0c0"),i("25f0");function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return n(e)||r(e,t)||s(e,t)||a()}},"387f":function(e,t,i){"use strict";e.exports=function(e,t,i,n,r){return e.config=t,i&&(e.code=i),e.request=n,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},"38cb":function(e,t,i){"use strict";var n=i("a9ad"),r=i("7560"),o=i("3206"),s=i("80d2"),a=i("d9bd"),c=i("58df");t["a"]=Object(c["a"])(n["a"],Object(o["a"])("form"),r["a"]).extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:()=>[]},messages:{type:[String,Array],default:()=>[]},readonly:Boolean,rules:{type:Array,default:()=>[]},success:Boolean,successMessages:{type:[String,Array],default:()=>[]},validateOnBlur:Boolean,value:{required:!1}},data(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor(){if(!this.disabled)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess(){return this.internalSuccessMessages.length>0||this.success},externalError(){return this.internalErrorMessages.length>0||this.error},hasMessages(){return this.validationTarget.length>0},hasState(){return!this.disabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages(){return this.genInternalMessages(this.errorMessages)},internalMessages(){return this.genInternalMessages(this.messages)},internalSuccessMessages(){return this.genInternalMessages(this.successMessages)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("input",e)}},shouldValidate(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState(){if(!this.disabled)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages.length>0?this.internalSuccessMessages:this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler(e,t){Object(s["i"])(e,t)||this.validate()},deep:!0},internalValue(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused(e){e||this.disabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting(){setTimeout(()=>{this.hasInput=!1,this.hasFocused=!1,this.isResetting=!1,this.validate()},0)},hasError(e){this.shouldValidate&&this.$emit("update:error",e)},value(e){this.lazyValue=e}},beforeMount(){this.validate()},created(){this.form&&this.form.register(this)},beforeDestroy(){this.form&&this.form.unregister(this)},methods:{genInternalMessages(e){return e?Array.isArray(e)?e:[e]:[]},reset(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:void 0},resetValidation(){this.isResetting=!0},validate(e=!1,t){const i=[];t=t||this.internalValue,e&&(this.hasInput=this.hasFocused=!0);for(let n=0;n<this.rules.length;n++){const e=this.rules[n],r="function"===typeof e?e(t):e;!1===r||"string"===typeof r?i.push(r||""):"boolean"!==typeof r&&Object(a["b"])(`Rules should return a string or boolean, received '${typeof r}' instead`,this)}return this.errorBucket=i,this.valid=0===i.length,this.valid}}})},3934:function(e,t,i){"use strict";var n=i("c532");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(e){var n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=r(window.location.href),function(t){var i=n.isString(t)?r(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},"3a66":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("fe6c"),r=i("58df");function o(e,t=[]){return Object(r["a"])(Object(n["b"])(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty(){return e}},watch:{app(e,t){t?this.removeApplication(!0):this.callUpdate()},applicationProperty(e,t){this.$vuetify.application.unregister(this._uid,t)}},activated(){this.callUpdate()},created(){for(let e=0,i=t.length;e<i;e++)this.$watch(t[e],this.callUpdate);this.callUpdate()},mounted(){this.callUpdate()},deactivated(){this.removeApplication()},destroyed(){this.removeApplication()},methods:{callUpdate(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication(e=!1){(e||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:()=>0}})}},"3ad0":function(e,t,i){},"3bbe":function(e,t,i){var n=i("861d");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3c93":function(e,t,i){},"3ca3":function(e,t,i){"use strict";var n=i("6547").charAt,r=i("69f3"),o=i("7dd0"),s="String Iterator",a=r.set,c=r.getterFor(s);o(String,"String",(function(e){a(this,{type:s,string:String(e),index:0})}),(function(){var e,t=c(this),i=t.string,r=t.index;return r>=i.length?{value:void 0,done:!0}:(e=n(i,r),t.index+=e.length,{value:e,done:!1})}))},"3d86":function(e,t,i){},"3e35":function(e,t,i){"use strict";var n=i("9d65"),r=i("4e82"),o=i("c3f0"),s=i("80d2"),a=i("58df");const c=Object(a["a"])(n["a"],Object(r["a"])("windowGroup","v-window-item","v-window"));var l=c.extend().extend().extend({name:"v-window-item",directives:{Touch:o["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(s["f"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(e){this.inTransition&&this.$nextTick(()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=Object(s["f"])(e.clientHeight))})}},render(e){return e("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent(()=>[this.genWindowItem()]))}}),h=i("adda"),u=i("1c87");const d=Object(a["a"])(l,u["a"]);t["a"]=d.extend({name:"v-carousel-item",inheritAttrs:!1,methods:{genDefaultSlot(){return[this.$createElement(h["a"],{staticClass:"v-carousel__item",props:{...this.$attrs,height:this.windowGroup.internalHeight},on:this.$listeners,scopedSlots:{placeholder:this.$scopedSlots.placeholder}},Object(s["n"])(this))]},genWindowItem(){const{tag:e,data:t}=this.generateRouteLink();return t.staticClass="v-window-item",t.directives.push({name:"show",value:this.isActive}),this.$createElement(e,t,this.genDefaultSlot())}}})},"3f8c":function(e,t){e.exports={}},"40dc":function(e,t,i){"use strict";i("8b0d");var n=i("71d9");function r(e,t){const i=t.value,n=t.options||{passive:!0},r=t.arg?document.querySelector(t.arg):window;r&&(r.addEventListener("scroll",i,n),e._onScroll={callback:i,options:n,target:r})}function o(e){if(!e._onScroll)return;const{callback:t,options:i,target:n}=e._onScroll;n.removeEventListener("scroll",t,i),delete e._onScroll}const s={inserted:r,unbind:o};var a=s,c=i("3a66"),l=i("d9bd"),h=i("2b0e"),u=h["a"].extend({name:"scrollable",directives:{Scroll:s},props:{scrollTarget:String,scrollThreshold:[String,Number]},data:()=>({currentScroll:0,currentThreshold:0,isActive:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}),computed:{canScroll(){return"undefined"!==typeof window},computedScrollThreshold(){return this.scrollThreshold?Number(this.scrollThreshold):300}},watch:{isScrollingUp(){this.savedScroll=this.savedScroll||this.currentScroll},isActive(){this.savedScroll=0}},mounted(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget),this.target||Object(l["c"])("Unable to locate element with identifier "+this.scrollTarget,this))},methods:{onScroll(){this.canScroll&&(this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=Math.abs(this.currentScroll-this.computedScrollThreshold),this.$nextTick(()=>{Math.abs(this.currentScroll-this.savedScroll)>this.computedScrollThreshold&&this.thresholdMet()}))},thresholdMet(){}}}),d=i("d10f"),p=i("f2e7"),f=i("80d2"),m=i("58df");const v=Object(m["a"])(n["a"],u,d["a"],p["a"],Object(c["a"])("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","isExtended","isProminent","value"]));t["a"]=v.extend({name:"v-app-bar",directives:{Scroll:a},props:{clippedLeft:Boolean,clippedRight:Boolean,collapseOnScroll:Boolean,elevateOnScroll:Boolean,fadeImgOnScroll:Boolean,hideOnScroll:Boolean,invertedScroll:Boolean,scrollOffScreen:Boolean,shrinkOnScroll:Boolean,value:{type:Boolean,default:!0}},data(){return{isActive:this.value}},computed:{applicationProperty(){return this.bottom?"bottom":"top"},canScroll(){return u.options.computed.canScroll.call(this)&&(this.invertedScroll||this.elevateOnScroll||this.hideOnScroll||this.collapseOnScroll||this.isBooted||!this.value)},classes(){return{...n["a"].options.computed.classes.call(this),"v-toolbar--collapse":this.collapse||this.collapseOnScroll,"v-app-bar":!0,"v-app-bar--clipped":this.clippedLeft||this.clippedRight,"v-app-bar--fade-img-on-scroll":this.fadeImgOnScroll,"v-app-bar--elevate-on-scroll":this.elevateOnScroll,"v-app-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-app-bar--hide-shadow":this.hideShadow,"v-app-bar--is-scrolled":this.currentScroll>0,"v-app-bar--shrink-on-scroll":this.shrinkOnScroll}},computedContentHeight(){if(!this.shrinkOnScroll)return n["a"].options.computed.computedContentHeight.call(this);const e=this.computedOriginalHeight,t=this.dense?48:56,i=e,r=i-t,o=r/this.computedScrollThreshold,s=this.currentScroll*o;return Math.max(t,i-s)},computedFontSize(){if(!this.isProminent)return;const e=this.dense?96:128,t=e-this.computedContentHeight,i=.00347;return Number((1.5-t*i).toFixed(2))},computedLeft(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedMarginTop(){return this.app?this.$vuetify.application.bar:0},computedOpacity(){if(!this.fadeImgOnScroll)return;const e=Math.max((this.computedScrollThreshold-this.currentScroll)/this.computedScrollThreshold,0);return Number(parseFloat(e).toFixed(2))},computedOriginalHeight(){let e=n["a"].options.computed.computedContentHeight.call(this);return this.isExtended&&(e+=parseInt(this.extensionHeight)),e},computedRight(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedScrollThreshold(){return this.scrollThreshold?Number(this.scrollThreshold):this.computedOriginalHeight-(this.dense?48:56)},computedTransform(){if(!this.canScroll||this.elevateOnScroll&&0===this.currentScroll&&this.isActive)return 0;if(this.isActive)return 0;const e=this.scrollOffScreen?this.computedHeight:this.computedContentHeight;return this.bottom?e:-e},hideShadow(){return this.elevateOnScroll&&this.isExtended?this.currentScroll<this.computedScrollThreshold:this.elevateOnScroll?0===this.currentScroll||this.computedTransform<0:(!this.isExtended||this.scrollOffScreen)&&0!==this.computedTransform},isCollapsed(){return this.collapseOnScroll?this.currentScroll>0:n["a"].options.computed.isCollapsed.call(this)},isProminent(){return n["a"].options.computed.isProminent.call(this)||this.shrinkOnScroll},styles(){return{...n["a"].options.computed.styles.call(this),fontSize:Object(f["f"])(this.computedFontSize,"rem"),marginTop:Object(f["f"])(this.computedMarginTop),transform:`translateY(${Object(f["f"])(this.computedTransform)})`,left:Object(f["f"])(this.computedLeft),right:Object(f["f"])(this.computedRight)}}},watch:{canScroll:"onScroll",computedTransform(){this.canScroll&&(this.clippedLeft||this.clippedRight)&&this.callUpdate()},invertedScroll(e){this.isActive=!e||0!==this.currentScroll}},created(){this.invertedScroll&&(this.isActive=!1)},methods:{genBackground(){const e=n["a"].options.methods.genBackground.call(this);return e.data=this._b(e.data||{},e.tag,{style:{opacity:this.computedOpacity}}),e},updateApplication(){return this.invertedScroll?0:this.computedHeight+this.computedTransform},thresholdMet(){this.invertedScroll?this.isActive=this.currentScroll>this.computedScrollThreshold:this.currentThreshold<this.computedScrollThreshold||(this.hideOnScroll&&(this.isActive=this.isScrollingUp),this.savedScroll=this.currentScroll)}},render(e){const t=n["a"].options.render.call(this,e);return t.data=t.data||{},this.canScroll&&(t.data.directives=t.data.directives||[],t.data.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),t}})},4160:function(e,t,i){"use strict";var n=i("23e7"),r=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"428f":function(e,t,i){var n=i("da84");e.exports=n},4362:function(e,t,i){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";t.cwd=function(){return n},t.chdir=function(t){e||(e=i("df7c")),n=e.resolve(t,n)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"43a6":function(e,t,i){"use strict";i("ec29"),i("3d86");var n=i("c37a"),r=i("604c"),o=i("8547"),s=i("58df");const a=Object(s["a"])(o["a"],r["a"],n["a"]);t["a"]=a.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},n["a"].options.methods.genDefaultSlot.call(this))},genInputSlot(){const e=n["a"].options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel(){const e=n["a"].options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:r["a"].options.methods.onClick}})},"44ad":function(e,t,i){var n=i("d039"),r=i("c6b6"),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,i){var n=i("b622"),r=i("7c73"),o=i("9bf2"),s=n("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:r(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,i){var n=i("da84");e.exports=function(e,t){var i=n.console;i&&i.error&&(1===arguments.length?i.error(e):i.error(e,t))}},"44e7":function(e,t,i){var n=i("861d"),r=i("c6b6"),o=i("b622"),s=o("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==r(e))}},"466d":function(e,t,i){"use strict";var n=i("d784"),r=i("825a"),o=i("50c4"),s=i("1d80"),a=i("8aa5"),c=i("14c3");n("match",1,(function(e,t,i){return[function(t){var i=s(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,i):new RegExp(t)[e](String(i))},function(e){var n=i(t,e,this);if(n.done)return n.value;var s=r(e),l=String(this);if(!s.global)return c(s,l);var h=s.unicode;s.lastIndex=0;var u,d=[],p=0;while(null!==(u=c(s,l))){var f=String(u[0]);d[p]=f,""===f&&(s.lastIndex=a(l,o(s.lastIndex),h)),p++}return 0===p?null:d}]}))},"467f":function(e,t,i){"use strict";var n=i("2d83");e.exports=function(e,t,i){var r=i.config.validateStatus;!r||r(i.status)?e(i):t(n("Request failed with status code "+i.status,i.config,null,i.request,i))}},4804:function(e,t,i){},"480e":function(e,t,i){"use strict";var n=i("7560");t["a"]=n["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:n["a"].options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find(e=>!e.isComment&&" "!==e.text)}})},4840:function(e,t,i){var n=i("825a"),r=i("1c0b"),o=i("b622"),s=o("species");e.exports=function(e,t){var i,o=n(e).constructor;return void 0===o||void 0==(i=n(o)[s])?t:r(i)}},"490a":function(e,t,i){"use strict";i("8d4f");var n=i("a9ad"),r=i("80d2");t["a"]=n["a"].extend({name:"v-progress-circular",props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:()=>({radius:20}),computed:{calculatedSize(){return Number(this.size)+(this.button?8:0)},circumference(){return 2*Math.PI*this.radius},classes(){return{"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles(){return{height:Object(r["f"])(this.calculatedSize),width:Object(r["f"])(this.calculatedSize)}},svgStyles(){return{transform:`rotate(${Number(this.rotate)}deg)`}},viewBoxSize(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle(e,t){return this.$createElement("circle",{class:"v-progress-circular__"+e,attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":t}})},genSvg(){const e=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:`${this.viewBoxSize} ${this.viewBoxSize} ${2*this.viewBoxSize} ${2*this.viewBoxSize}`}},e)},genInfo(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)}},render(e){return e("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}})},4930:function(e,t,i){var n=i("d039");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"49b6":function(e,t,i){const{defaults:n}=i("bdbb"),{cleanUrl:r,escape:o}=i("ad42");e.exports=class{constructor(e){this.options=e||n}code(e,t,i){const n=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,n);null!=t&&t!==e&&(i=!0,e=t)}return n?'<pre><code class="'+this.options.langPrefix+o(n,!0)+'">'+(i?e:o(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:o(e,!0))+"</code></pre>"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,i,n){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+n.slug(i)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,i){const n=t?"ol":"ul",r=t&&1!==i?' start="'+i+'"':"";return"<"+n+r+">\n"+e+"</"+n+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const i=t.header?"th":"td",n=t.align?"<"+i+' align="'+t.align+'">':"<"+i+">";return n+e+"</"+i+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=r(this.options.sanitize,this.options.baseUrl,e),null===e)return i;let n='<a href="'+o(e)+'"';return t&&(n+=' title="'+t+'"'),n+=">"+i+"</a>",n}image(e,t,i){if(e=r(this.options.sanitize,this.options.baseUrl,e),null===e)return i;let n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">",n}text(e){return e}}},"4a7b":function(e,t,i){"use strict";var n=i("c532");e.exports=function(e,t){t=t||{};var i={},r=["url","method","params","data"],o=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(r,(function(e){"undefined"!==typeof t[e]&&(i[e]=t[e])})),n.forEach(o,(function(r){n.isObject(t[r])?i[r]=n.deepMerge(e[r],t[r]):"undefined"!==typeof t[r]?i[r]=t[r]:n.isObject(e[r])?i[r]=n.deepMerge(e[r]):"undefined"!==typeof e[r]&&(i[r]=e[r])})),n.forEach(s,(function(n){"undefined"!==typeof t[n]?i[n]=t[n]:"undefined"!==typeof e[n]&&(i[n]=e[n])}));var a=r.concat(o).concat(s),c=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return n.forEach(c,(function(n){"undefined"!==typeof t[n]?i[n]=t[n]:"undefined"!==typeof e[n]&&(i[n]=e[n])})),i}},"4ad4":function(e,t,i){"use strict";var n=i("16b7"),r=i("f2e7"),o=i("58df"),s=i("80d2"),a=i("d9bd");const c=Object(o["a"])(n["a"],r["a"]);t["a"]=c.extend({name:"activatable",props:{activator:{default:null,validator:e=>["string","object"].includes(typeof e)},disabled:Boolean,internalActivator:Boolean,openOnHover:Boolean},data:()=>({activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave"],listeners:{}}),watch:{activator:"resetActivator",openOnHover:"resetActivator"},mounted(){const e=Object(s["o"])(this,"activator",!0);e&&["v-slot","normal"].includes(e)&&Object(a["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy(){this.removeActivatorEvents()},methods:{addActivatorEvents(){if(!this.activator||this.disabled||!this.getActivator())return;this.listeners=this.genActivatorListeners();const e=Object.keys(this.listeners);for(const t of e)this.getActivator().addEventListener(t,this.listeners[t])},genActivator(){const e=Object(s["n"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=e,e},genActivatorAttributes(){return{role:"button","aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners(){if(this.disabled)return{};const e={};return this.openOnHover?(e.mouseenter=e=>{this.getActivator(e),this.runDelay("open")},e.mouseleave=e=>{this.getActivator(e),this.runDelay("close")}):e.click=e=>{const t=this.getActivator(e);t&&t.focus(),e.stopPropagation(),this.isActive=!this.isActive},e},getActivator(e){if(this.activatorElement)return this.activatorElement;let t=null;if(this.activator){const e=this.internalActivator?this.$el:document;t="string"===typeof this.activator?e.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!e){const e=this.activatorNode[0].componentInstance;t=e&&e.$options.mixins&&e.$options.mixins.some(e=>e.options&&["activatable","menuable"].includes(e.options.name))?e.getActivator():this.activatorNode[0].elm}else e&&(t=e.currentTarget||e.target);return this.activatorElement=t,this.activatorElement},getContentSlot(){return Object(s["n"])(this,"default",this.getValueProxy(),!0)},getValueProxy(){const e=this;return{get value(){return e.isActive},set value(t){e.isActive=t}}},removeActivatorEvents(){if(!this.activator||!this.activatorElement)return;const e=Object.keys(this.listeners);for(const t of e)this.activatorElement.removeEventListener(t,this.listeners[t]);this.listeners={}},resetActivator(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}})},"4b85":function(e,t,i){},"4d64":function(e,t,i){var n=i("fc6a"),r=i("50c4"),o=i("23cb"),s=function(e){return function(t,i,s){var a,c=n(t),l=r(c.length),h=o(s,l);if(e&&i!=i){while(l>h)if(a=c[h++],a!=a)return!0}else for(;l>h;h++)if((e||h in c)&&c[h]===i)return e||h||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4d90":function(e,t,i){"use strict";var n=i("23e7"),r=i("0ccb").start,o=i("9a0c");n({target:"String",proto:!0,forced:o},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,i){"use strict";var n=i("0366"),r=i("7b0b"),o=i("9bdd"),s=i("e95a"),a=i("50c4"),c=i("8418"),l=i("35a1");e.exports=function(e){var t,i,h,u,d,p,f=r(e),m="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,y=void 0!==g,_=l(f),b=0;if(y&&(g=n(g,v>2?arguments[2]:void 0,2)),void 0==_||m==Array&&s(_))for(t=a(f.length),i=new m(t);t>b;b++)p=y?g(f[b],b):f[b],c(i,b,p);else for(u=_.call(f),d=u.next,i=new m;!(h=d.call(u)).done;b++)p=y?o(u,g,[h.value,b],!0):h.value,c(i,b,p);return i.length=b,i}},"4e82":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("3206");function r(e,t,i){const r=Object(n["a"])(e,t,i).extend({name:"groupable",props:{activeClass:{type:String,default(){if(this[e])return this[e].activeClass}},disabled:Boolean},data(){return{isActive:!1}},computed:{groupClasses(){return this.activeClass?{[this.activeClass]:this.isActive}:{}}},created(){this[e]&&this[e].register(this)},beforeDestroy(){this[e]&&this[e].unregister(this)},methods:{toggle(){this.$emit("change")}}});return r}r("itemGroup")},"4fd2":function(e,t,i){const{defaults:n}=i("bdbb"),{block:r}=i("7b9e"),{rtrim:o,splitCells:s,escape:a}=i("ad42");e.exports=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||n,this.rules=r.normal,this.options.pedantic?this.rules=r.pedantic:this.options.gfm&&(this.rules=r.gfm)}static get rules(){return r}static lex(t,i){const n=new e(i);return n.lex(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(e,!0)}token(e,t){let i,n,c,l,h,u,d,p,f,m,v,g,y,_,b,x;e=e.replace(/^ +$/gm,"");while(e)if((c=this.rules.newline.exec(e))&&(e=e.substring(c[0].length),c[0].length>1&&this.tokens.push({type:"space"})),c=this.rules.code.exec(e)){const t=this.tokens[this.tokens.length-1];e=e.substring(c[0].length),t&&"paragraph"===t.type?t.text+="\n"+c[0].trimRight():(c=c[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?c:o(c,"\n")}))}else if(c=this.rules.fences.exec(e))e=e.substring(c[0].length),this.tokens.push({type:"code",lang:c[2]?c[2].trim():c[2],text:c[3]||""});else if(c=this.rules.heading.exec(e))e=e.substring(c[0].length),this.tokens.push({type:"heading",depth:c[1].length,text:c[2]});else if((c=this.rules.nptable.exec(e))&&(u={type:"table",header:s(c[1].replace(/^ *| *\| *$/g,"")),align:c[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:c[3]?c[3].replace(/\n$/,"").split("\n"):[]},u.header.length===u.align.length)){for(e=e.substring(c[0].length),v=0;v<u.align.length;v++)/^ *-+: *$/.test(u.align[v])?u.align[v]="right":/^ *:-+: *$/.test(u.align[v])?u.align[v]="center":/^ *:-+ *$/.test(u.align[v])?u.align[v]="left":u.align[v]=null;for(v=0;v<u.cells.length;v++)u.cells[v]=s(u.cells[v],u.header.length);this.tokens.push(u)}else if(c=this.rules.hr.exec(e))e=e.substring(c[0].length),this.tokens.push({type:"hr"});else if(c=this.rules.blockquote.exec(e))e=e.substring(c[0].length),this.tokens.push({type:"blockquote_start"}),c=c[0].replace(/^ *> ?/gm,""),this.token(c,t),this.tokens.push({type:"blockquote_end"});else if(c=this.rules.list.exec(e)){for(e=e.substring(c[0].length),l=c[2],_=l.length>1,d={type:"list_start",ordered:_,start:_?+l:"",loose:!1},this.tokens.push(d),c=c[0].match(this.rules.item),p=[],i=!1,y=c.length,v=0;v<y;v++)u=c[v],m=u.length,u=u.replace(/^ *([*+-]|\d+\.) */,""),~u.indexOf("\n ")&&(m-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+m+"}","gm"),"")),v!==y-1&&(h=r.bullet.exec(c[v+1])[0],(l.length>1?1===h.length:h.length>1||this.options.smartLists&&h!==l)&&(e=c.slice(v+1).join("\n")+e,v=y-1)),n=i||/\n\n(?!\s*$)/.test(u),v!==y-1&&(i="\n"===u.charAt(u.length-1),n||(n=i)),n&&(d.loose=!0),b=/^\[[ xX]\] /.test(u),x=void 0,b&&(x=" "!==u[1],u=u.replace(/^\[[ xX]\] +/,"")),f={type:"list_item_start",task:b,checked:x,loose:n},p.push(f),this.tokens.push(f),this.token(u,!1),this.tokens.push({type:"list_item_end"});if(d.loose)for(y=p.length,v=0;v<y;v++)p[v].loose=!0;this.tokens.push({type:"list_end"})}else if(c=this.rules.html.exec(e))e=e.substring(c[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===c[1]||"script"===c[1]||"style"===c[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):a(c[0]):c[0]});else if(t&&(c=this.rules.def.exec(e)))e=e.substring(c[0].length),c[3]&&(c[3]=c[3].substring(1,c[3].length-1)),g=c[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[g]||(this.tokens.links[g]={href:c[2],title:c[3]});else if((c=this.rules.table.exec(e))&&(u={type:"table",header:s(c[1].replace(/^ *| *\| *$/g,"")),align:c[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:c[3]?c[3].replace(/\n$/,"").split("\n"):[]},u.header.length===u.align.length)){for(e=e.substring(c[0].length),v=0;v<u.align.length;v++)/^ *-+: *$/.test(u.align[v])?u.align[v]="right":/^ *:-+: *$/.test(u.align[v])?u.align[v]="center":/^ *:-+ *$/.test(u.align[v])?u.align[v]="left":u.align[v]=null;for(v=0;v<u.cells.length;v++)u.cells[v]=s(u.cells[v].replace(/^ *\| *| *\| *$/g,""),u.header.length);this.tokens.push(u)}else if(c=this.rules.lheading.exec(e))e=e.substring(c[0].length),this.tokens.push({type:"heading",depth:"="===c[2].charAt(0)?1:2,text:c[1]});else if(t&&(c=this.rules.paragraph.exec(e)))e=e.substring(c[0].length),this.tokens.push({type:"paragraph",text:"\n"===c[1].charAt(c[1].length-1)?c[1].slice(0,-1):c[1]});else if(c=this.rules.text.exec(e))e=e.substring(c[0].length),this.tokens.push({type:"text",text:c[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens}}},"4ff9":function(e,t,i){},"50c4":function(e,t,i){var n=i("a691"),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},5135:function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},5270:function(e,t,i){"use strict";var n=i("c532"),r=i("c401"),o=i("2e67"),s=i("2444");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){a(e),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]}));var t=e.adapter||s.adapter;return t(e).then((function(t){return a(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},5311:function(e,t,i){"use strict";var n=i("5607"),r=i("2b0e");t["a"]=r["a"].extend({name:"rippleable",directives:{ripple:n["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),e.on=Object.assign({click:this.onChange},this.$listeners),this.$createElement("div",e)):null},onChange(){}}})},5607:function(e,t,i){"use strict";i("7435");var n=i("80d2");function r(e,t){e.style["transform"]=t,e.style["webkitTransform"]=t}function o(e,t){e.style["opacity"]=t.toString()}function s(e){return"TouchEvent"===e.constructor.name}function a(e){return"KeyboardEvent"===e.constructor.name}const c=(e,t,i={})=>{let n=0,r=0;if(!a(e)){const i=t.getBoundingClientRect(),o=s(e)?e.touches[e.touches.length-1]:e;n=o.clientX-i.left,r=o.clientY-i.top}let o=0,c=.3;t._ripple&&t._ripple.circle?(c=.15,o=t.clientWidth/2,o=i.center?o:o+Math.sqrt((n-o)**2+(r-o)**2)/4):o=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const l=(t.clientWidth-2*o)/2+"px",h=(t.clientHeight-2*o)/2+"px",u=i.center?l:n-o+"px",d=i.center?h:r-o+"px";return{radius:o,scale:c,x:u,y:d,centerX:l,centerY:h}},l={show(e,t,i={}){if(!t._ripple||!t._ripple.enabled)return;const n=document.createElement("span"),s=document.createElement("span");n.appendChild(s),n.className="v-ripple__container",i.class&&(n.className+=" "+i.class);const{radius:a,scale:l,x:h,y:u,centerX:d,centerY:p}=c(e,t,i),f=2*a+"px";s.className="v-ripple__animation",s.style.width=f,s.style.height=f,t.appendChild(n);const m=window.getComputedStyle(t);m&&"static"===m.position&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),r(s,`translate(${h}, ${u}) scale3d(${l},${l},${l})`),o(s,0),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),r(s,`translate(${d}, ${p}) scale3d(1,1,1)`),o(s,.25)},0)},hide(e){if(!e||!e._ripple||!e._ripple.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(0===t.length)return;const i=t[t.length-1];if(i.dataset.isHiding)return;i.dataset.isHiding="true";const n=performance.now()-Number(i.dataset.activated),r=Math.max(250-n,0);setTimeout(()=>{i.classList.remove("v-ripple__animation--in"),i.classList.add("v-ripple__animation--out"),o(i,0),setTimeout(()=>{const t=e.getElementsByClassName("v-ripple__animation");1===t.length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),i.parentNode&&e.removeChild(i.parentNode)},300)},r)}};function h(e){return"undefined"===typeof e||!!e}function u(e){const t={},i=e.currentTarget;if(i&&i._ripple&&!i._ripple.touched){if(s(e))i._ripple.touched=!0,i._ripple.isTouch=!0;else if(i._ripple.isTouch)return;t.center=i._ripple.centered||a(e),i._ripple.class&&(t.class=i._ripple.class),l.show(e,i,t)}}function d(e){const t=e.currentTarget;t&&(window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),l.hide(t))}let p=!1;function f(e){p||e.keyCode!==n["r"].enter&&e.keyCode!==n["r"].space||(p=!0,u(e))}function m(e){p=!1,d(e)}function v(e,t,i){const n=h(t.value);n||l.hide(e),e._ripple=e._ripple||{},e._ripple.enabled=n;const r=t.value||{};r.center&&(e._ripple.centered=!0),r.class&&(e._ripple.class=t.value.class),r.circle&&(e._ripple.circle=r.circle),n&&!i?(e.addEventListener("touchstart",u,{passive:!0}),e.addEventListener("touchend",d,{passive:!0}),e.addEventListener("touchcancel",d),e.addEventListener("mousedown",u),e.addEventListener("mouseup",d),e.addEventListener("mouseleave",d),e.addEventListener("keydown",f),e.addEventListener("keyup",m),e.addEventListener("dragstart",d,{passive:!0})):!n&&i&&g(e)}function g(e){e.removeEventListener("mousedown",u),e.removeEventListener("touchstart",u),e.removeEventListener("touchend",d),e.removeEventListener("touchcancel",d),e.removeEventListener("mouseup",d),e.removeEventListener("mouseleave",d),e.removeEventListener("keydown",f),e.removeEventListener("keyup",m),e.removeEventListener("dragstart",d)}function y(e,t,i){v(e,t,!1)}function _(e){delete e._ripple,g(e)}function b(e,t){if(t.value===t.oldValue)return;const i=h(t.oldValue);v(e,t,i)}const x={bind:y,unbind:_,update:b};t["a"]=x},5692:function(e,t,i){var n=i("c430"),r=i("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56b0":function(e,t,i){"use strict";i("db42");var n=i("9d26"),r=i("da13"),o=i("34c3"),s=i("7e2b"),a=i("9d65"),c=i("a9ad"),l=i("f2e7"),h=i("3206"),u=i("5607"),d=i("0789"),p=i("58df"),f=i("80d2");const m=Object(p["a"])(s["a"],a["a"],c["a"],Object(h["a"])("list"),l["a"]);t["a"]=m.extend().extend({name:"v-list-group",directives:{ripple:u["a"]},props:{activeClass:{type:String,default:""},appendIcon:{type:String,default:"$expand"},color:{type:String,default:"primary"},disabled:Boolean,group:String,noAction:Boolean,prependIcon:String,ripple:{type:[Boolean,Object],default:!0},subGroup:Boolean},computed:{classes(){return{"v-list-group--active":this.isActive,"v-list-group--disabled":this.disabled,"v-list-group--no-action":this.noAction,"v-list-group--sub-group":this.subGroup}}},watch:{isActive(e){!this.subGroup&&e&&this.list&&this.list.listClick(this._uid)},$route:"onRouteChange"},created(){this.list&&this.list.register(this),this.group&&this.$route&&null==this.value&&(this.isActive=this.matchRoute(this.$route.path))},beforeDestroy(){this.list&&this.list.unregister(this)},methods:{click(e){this.disabled||(this.isBooted=!0,this.$emit("click",e),this.$nextTick(()=>this.isActive=!this.isActive))},genIcon(e){return this.$createElement(n["a"],e)},genAppendIcon(){const e=!this.subGroup&&this.appendIcon;return e||this.$slots.appendIcon?this.$createElement(o["a"],{staticClass:"v-list-group__header__append-icon"},[this.$slots.appendIcon||this.genIcon(e)]):null},genHeader(){return this.$createElement(r["a"],{staticClass:"v-list-group__header",attrs:{"aria-expanded":String(this.isActive),role:"button"},class:{[this.activeClass]:this.isActive},props:{inputValue:this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.listeners$,click:this.click}},[this.genPrependIcon(),this.$slots.activator,this.genAppendIcon()])},genItems(){return this.showLazyContent(()=>[this.$createElement("div",{staticClass:"v-list-group__items",directives:[{name:"show",value:this.isActive}]},Object(f["n"])(this))])},genPrependIcon(){const e=this.subGroup&&null==this.prependIcon?"$subgroup":this.prependIcon;return e||this.$slots.prependIcon?this.$createElement(o["a"],{staticClass:"v-list-group__header__prepend-icon"},[this.$slots.prependIcon||this.genIcon(e)]):null},onRouteChange(e){if(!this.group)return;const t=this.matchRoute(e.path);t&&this.isActive!==t&&this.list&&this.list.listClick(this._uid),this.isActive=t},toggle(e){const t=this._uid===e;t&&(this.isBooted=!0),this.$nextTick(()=>this.isActive=t)},matchRoute(e){return null!==e.match(this.group)}},render(e){return e("div",this.setTextColor(this.isActive&&this.color,{staticClass:"v-list-group",class:this.classes}),[this.genHeader(),e(d["a"],this.genItems())])}})},"56ef":function(e,t,i){var n=i("d066"),r=i("241c"),o=i("7418"),s=i("825a");e.exports=n("Reflect","ownKeys")||function(e){var t=r.f(s(e)),i=o.f;return i?t.concat(i(e)):t}},"58df":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("2b0e");function r(...e){return n["a"].extend({mixins:e})}},"5a89":function(e,t,i){"use strict";i.d(t,"a",(function(){return Br})),i.d(t,"b",(function(){return rd})),i.d(t,"c",(function(){return id})),i.d(t,"d",(function(){return Pp})),i.d(t,"e",(function(){return d})),i.d(t,"f",(function(){return Ar})),i.d(t,"g",(function(){return md})),i.d(t,"h",(function(){return ud})),i.d(t,"i",(function(){return Wi})),i.d(t,"j",(function(){return Gr})),i.d(t,"k",(function(){return no})),i.d(t,"l",(function(){return Gi})),i.d(t,"m",(function(){return $u})),i.d(t,"n",(function(){return Gh})),i.d(t,"o",(function(){return nu})),i.d(t,"p",(function(){return yi})),i.d(t,"q",(function(){return Nl})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t});var n="116",r=0,o=1,s=2,a=1,c=2,l=3,h=0,u=1,d=2,p=1,f=0,m=1,v=2,g=3,y=4,_=5,b=100,x=101,w=102,S=103,C=104,M=200,E=201,T=202,A=203,L=204,O=205,R=206,k=207,P=208,D=209,I=210,B=0,N=1,j=2,H=3,F=4,z=5,U=6,V=7,W=0,G=1,$=2,q=0,X=1,Y=2,Z=3,J=4,K=5,Q=300,ee=301,te=302,ie=303,ne=304,re=305,oe=306,se=307,ae=1e3,ce=1001,le=1002,he=1003,ue=1004,de=1005,pe=1006,fe=1007,me=1008,ve=1009,ge=1010,ye=1011,_e=1012,be=1013,xe=1014,we=1015,Se=1016,Ce=1017,Me=1018,Ee=1019,Te=1020,Ae=1021,Le=1022,Oe=1023,Re=1024,ke=1025,Pe=Oe,De=1026,Ie=1027,Be=1028,Ne=1029,je=1030,He=1031,Fe=1032,ze=1033,Ue=33776,Ve=33777,We=33778,Ge=33779,$e=35840,qe=35841,Xe=35842,Ye=35843,Ze=36196,Je=37492,Ke=37496,Qe=37808,et=37809,tt=37810,it=37811,nt=37812,rt=37813,ot=37814,st=37815,at=37816,ct=37817,lt=37818,ht=37819,ut=37820,dt=37821,pt=36492,ft=37840,mt=37841,vt=37842,gt=37843,yt=37844,_t=37845,bt=37846,xt=37847,wt=37848,St=37849,Ct=37850,Mt=37851,Et=37852,Tt=37853,At=2200,Lt=2201,Ot=2202,Rt=2300,kt=2301,Pt=2302,Dt=2400,It=2401,Bt=2402,Nt=2500,jt=2501,Ht=0,Ft=3e3,zt=3001,Ut=3007,Vt=3002,Wt=3003,Gt=3004,$t=3005,qt=3006,Xt=3200,Yt=3201,Zt=0,Jt=1,Kt=7680,Qt=519,ei=35044,ti=35048;function ii(){}Object.assign(ii.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var i=this._listeners,n=i[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,i=t[e.type];if(void 0!==i){e.target=this;for(var n=i.slice(0),r=0,o=n.length;r<o;r++)n[r].call(this,e)}}}});for(var ni=[],ri=0;ri<256;ri++)ni[ri]=(ri<16?"0":"")+ri.toString(16);var oi,si={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=ni[255&e]+ni[e>>8&255]+ni[e>>16&255]+ni[e>>24&255]+"-"+ni[255&t]+ni[t>>8&255]+"-"+ni[t>>16&15|64]+ni[t>>24&255]+"-"+ni[63&i|128]+ni[i>>8&255]+"-"+ni[i>>16&255]+ni[i>>24&255]+ni[255&n]+ni[n>>8&255]+ni[n>>16&255]+ni[n>>24&255];return r.toUpperCase()},clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,i,n,r){return n+(e-t)*(r-n)/(i-t)},lerp:function(e,t,i){return(1-i)*e+i*t},smoothstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*(3-2*e))},smootherstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t),e*e*e*(e*(6*e-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*si.DEG2RAD},radToDeg:function(e){return e*si.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,i,n,r){var o=Math.cos,s=Math.sin,a=o(i/2),c=s(i/2),l=o((t+n)/2),h=s((t+n)/2),u=o((t-n)/2),d=s((t-n)/2),p=o((n-t)/2),f=s((n-t)/2);switch(r){case"XYX":e.set(a*h,c*u,c*d,a*l);break;case"YZY":e.set(c*d,a*h,c*u,a*l);break;case"ZXZ":e.set(c*u,c*d,a*h,a*l);break;case"XZX":e.set(a*h,c*f,c*p,a*l);break;case"YXY":e.set(c*p,a*h,c*f,a*l);break;case"ZYZ":e.set(c*f,c*p,a*h,a*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};function ai(e,t){this.x=e||0,this.y=t||0}function ci(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(ai.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(ai.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var i=Math.cos(t),n=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*i-o*n+e.x,this.y=r*n+o*i+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Object.assign(ci.prototype,{isMatrix3:!0,set:function(e,t,i,n,r,o,s,a,c){var l=this.elements;return l[0]=e,l[1]=n,l[2]=s,l[3]=t,l[4]=r,l[5]=a,l[6]=i,l[7]=o,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this},extractBasis:function(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements,n=t.elements,r=this.elements,o=i[0],s=i[3],a=i[6],c=i[1],l=i[4],h=i[7],u=i[2],d=i[5],p=i[8],f=n[0],m=n[3],v=n[6],g=n[1],y=n[4],_=n[7],b=n[2],x=n[5],w=n[8];return r[0]=o*f+s*g+a*b,r[3]=o*m+s*y+a*x,r[6]=o*v+s*_+a*w,r[1]=c*f+l*g+h*b,r[4]=c*m+l*y+h*x,r[7]=c*v+l*_+h*w,r[2]=u*f+d*g+p*b,r[5]=u*m+d*y+p*x,r[8]=u*v+d*_+p*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],o=e[4],s=e[5],a=e[6],c=e[7],l=e[8];return t*o*l-t*s*c-i*r*l+i*s*a+n*r*c-n*o*a},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var i=e.elements,n=this.elements,r=i[0],o=i[1],s=i[2],a=i[3],c=i[4],l=i[5],h=i[6],u=i[7],d=i[8],p=d*c-l*u,f=l*h-d*a,m=u*a-c*h,v=r*p+o*f+s*m;if(0===v)return this.set(0,0,0,0,0,0,0,0,0);var g=1/v;return n[0]=p*g,n[1]=(s*u-d*o)*g,n[2]=(l*o-s*c)*g,n[3]=f*g,n[4]=(d*r-s*h)*g,n[5]=(s*a-l*r)*g,n[6]=m*g,n[7]=(o*h-u*r)*g,n[8]=(c*r-o*a)*g,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,i,n,r,o,s){var a=Math.cos(r),c=Math.sin(r);this.set(i*a,i*c,-i*(a*o+c*s)+o+e,-n*c,n*a,-n*(-c*o+a*s)+s+t,0,0,1)},scale:function(e,t){var i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this},rotate:function(e){var t=Math.cos(e),i=Math.sin(e),n=this.elements,r=n[0],o=n[3],s=n[6],a=n[1],c=n[4],l=n[7];return n[0]=t*r+i*a,n[3]=t*o+i*c,n[6]=t*s+i*l,n[1]=-i*r+t*a,n[4]=-i*o+t*c,n[7]=-i*s+t*l,this},translate:function(e,t){var i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this},equals:function(e){for(var t=this.elements,i=e.elements,n=0;n<9;n++)if(t[n]!==i[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<9;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}});var li={getDataURL:function(e){var t;if("undefined"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===oi&&(oi=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),oi.width=e.width,oi.height=e.height;var i=oi.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=oi}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},hi=0;function ui(e,t,i,n,r,o,s,a,c,l){Object.defineProperty(this,"id",{value:hi++}),this.uuid=si.generateUUID(),this.name="",this.image=void 0!==e?e:ui.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:ui.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:ce,this.wrapT=void 0!==n?n:ce,this.magFilter=void 0!==r?r:pe,this.minFilter=void 0!==o?o:me,this.anisotropy=void 0!==c?c:1,this.format=void 0!==s?s:Oe,this.internalFormat=null,this.type=void 0!==a?a:ve,this.offset=new ai(0,0),this.repeat=new ai(1,1),this.center=new ai(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ci,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Ft,this.version=0,this.onUpdate=null}function di(e,t,i,n){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==n?n:1}function pi(e,t,i){this.width=e,this.height=t,this.scissor=new di(0,0,e,t),this.scissorTest=!1,this.viewport=new di(0,0,e,t),i=i||{},this.texture=new ui(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:pe,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function fi(e,t,i){pi.call(this,e,t,i),this.samples=4}function mi(e,t,i,n){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==n?n:1}ui.DEFAULT_IMAGE=void 0,ui.DEFAULT_MAPPING=Q,ui.prototype=Object.assign(Object.create(ii.prototype),{constructor:ui,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=si.generateUUID()),!t&&void 0===e.images[n.uuid]){var r;if(Array.isArray(n)){r=[];for(var o=0,s=n.length;o<s;o++)r.push(li.getDataURL(n[o]))}else r=li.getDataURL(n);e.images[n.uuid]={uuid:n.uuid,url:r}}i.image=n.uuid}return t||(e.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==Q)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ae:e.x=e.x-Math.floor(e.x);break;case ce:e.x=e.x<0?0:1;break;case le:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ae:e.y=e.y-Math.floor(e.y);break;case ce:e.y=e.y<0?0:1;break;case le:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(ui.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(di.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(di.prototype,{isVector4:!0,set:function(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,i=this.y,n=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*n+o[12]*r,this.y=o[1]*t+o[5]*i+o[9]*n+o[13]*r,this.z=o[2]*t+o[6]*i+o[10]*n+o[14]*r,this.w=o[3]*t+o[7]*i+o[11]*n+o[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,i,n,r,o=.01,s=.1,a=e.elements,c=a[0],l=a[4],h=a[8],u=a[1],d=a[5],p=a[9],f=a[2],m=a[6],v=a[10];if(Math.abs(l-u)<o&&Math.abs(h-f)<o&&Math.abs(p-m)<o){if(Math.abs(l+u)<s&&Math.abs(h+f)<s&&Math.abs(p+m)<s&&Math.abs(c+d+v-3)<s)return this.set(1,0,0,0),this;t=Math.PI;var g=(c+1)/2,y=(d+1)/2,_=(v+1)/2,b=(l+u)/4,x=(h+f)/4,w=(p+m)/4;return g>y&&g>_?g<o?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(g),n=b/i,r=x/i):y>_?y<o?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(y),i=b/n,r=w/n):_<o?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(_),i=x/r,n=w/r),this.set(i,n,r,t),this}var S=Math.sqrt((m-p)*(m-p)+(h-f)*(h-f)+(u-l)*(u-l));return Math.abs(S)<.001&&(S=1),this.x=(m-p)/S,this.y=(h-f)/S,this.z=(u-l)/S,this.w=Math.acos((c+d+v-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),pi.prototype=Object.assign(Object.create(ii.prototype),{constructor:pi,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),fi.prototype=Object.assign(Object.create(pi.prototype),{constructor:fi,isWebGLMultisampleRenderTarget:!0,copy:function(e){return pi.prototype.copy.call(this,e),this.samples=e.samples,this}}),Object.assign(mi,{slerp:function(e,t,i,n){return i.copy(e).slerp(t,n)},slerpFlat:function(e,t,i,n,r,o,s){var a=i[n+0],c=i[n+1],l=i[n+2],h=i[n+3],u=r[o+0],d=r[o+1],p=r[o+2],f=r[o+3];if(h!==f||a!==u||c!==d||l!==p){var m=1-s,v=a*u+c*d+l*p+h*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),b=Math.atan2(_,v*g);m=Math.sin(m*b)/_,s=Math.sin(s*b)/_}var x=s*g;if(a=a*m+u*x,c=c*m+d*x,l=l*m+p*x,h=h*m+f*x,m===1-s){var w=1/Math.sqrt(a*a+c*c+l*l+h*h);a*=w,c*=w,l*=w,h*=w}}e[t]=a,e[t+1]=c,e[t+2]=l,e[t+3]=h},multiplyQuaternionsFlat:function(e,t,i,n,r,o){var s=i[n],a=i[n+1],c=i[n+2],l=i[n+3],h=r[o],u=r[o+1],d=r[o+2],p=r[o+3];return e[t]=s*p+l*h+a*d-c*u,e[t+1]=a*p+l*u+c*h-s*d,e[t+2]=c*p+l*d+s*u-a*h,e[t+3]=l*p-s*h-a*u-c*d,e}}),Object.defineProperties(mi.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(mi.prototype,{isQuaternion:!0,set:function(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=e._x,n=e._y,r=e._z,o=e.order,s=Math.cos,a=Math.sin,c=s(i/2),l=s(n/2),h=s(r/2),u=a(i/2),d=a(n/2),p=a(r/2);switch(o){case"XYZ":this._x=u*l*h+c*d*p,this._y=c*d*h-u*l*p,this._z=c*l*p+u*d*h,this._w=c*l*h-u*d*p;break;case"YXZ":this._x=u*l*h+c*d*p,this._y=c*d*h-u*l*p,this._z=c*l*p-u*d*h,this._w=c*l*h+u*d*p;break;case"ZXY":this._x=u*l*h-c*d*p,this._y=c*d*h+u*l*p,this._z=c*l*p+u*d*h,this._w=c*l*h-u*d*p;break;case"ZYX":this._x=u*l*h-c*d*p,this._y=c*d*h+u*l*p,this._z=c*l*p-u*d*h,this._w=c*l*h+u*d*p;break;case"YZX":this._x=u*l*h+c*d*p,this._y=c*d*h+u*l*p,this._z=c*l*p-u*d*h,this._w=c*l*h-u*d*p;break;case"XZY":this._x=u*l*h-c*d*p,this._y=c*d*h-u*l*p,this._z=c*l*p+u*d*h,this._w=c*l*h+u*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,i=e.elements,n=i[0],r=i[4],o=i[8],s=i[1],a=i[5],c=i[9],l=i[2],h=i[6],u=i[10],d=n+a+u;return d>0?(t=.5/Math.sqrt(d+1),this._w=.25/t,this._x=(h-c)*t,this._y=(o-l)*t,this._z=(s-r)*t):n>a&&n>u?(t=2*Math.sqrt(1+n-a-u),this._w=(h-c)/t,this._x=.25*t,this._y=(r+s)/t,this._z=(o+l)/t):a>u?(t=2*Math.sqrt(1+a-n-u),this._w=(o-l)/t,this._x=(r+s)/t,this._y=.25*t,this._z=(c+h)/t):(t=2*Math.sqrt(1+u-n-a),this._w=(s-r)/t,this._x=(o+l)/t,this._y=(c+h)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var i=1e-6,n=e.dot(t)+1;return n<i?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(si.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var i=this.angleTo(e);if(0===i)return this;var n=Math.min(1,t/i);return this.slerp(e,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var i=e._x,n=e._y,r=e._z,o=e._w,s=t._x,a=t._y,c=t._z,l=t._w;return this._x=i*l+o*s+n*c-r*a,this._y=n*l+o*a+r*s-i*c,this._z=r*l+o*c+i*a-n*s,this._w=o*l-i*s-n*a-r*c,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this._x,n=this._y,r=this._z,o=this._w,s=o*e._w+i*e._x+n*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=i,this._y=n,this._z=r,this;var a=1-s*s;if(a<=Number.EPSILON){var c=1-t;return this._w=c*o+t*this._w,this._x=c*i+t*this._x,this._y=c*n+t*this._y,this._z=c*r+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(a),h=Math.atan2(l,s),u=Math.sin((1-t)*h)/l,d=Math.sin(t*h)/l;return this._w=o*u+this._w*d,this._x=i*u+this._x*d,this._y=n*u+this._y*d,this._z=r*u+this._z*d,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var vi=new yi,gi=new mi;function yi(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0}Object.assign(yi.prototype,{isVector3:!0,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(gi.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(gi.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements,o=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*o,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*o,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*o,this},applyQuaternion:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,o=e.y,s=e.z,a=e.w,c=a*t+o*n-s*i,l=a*i+s*t-r*n,h=a*n+r*i-o*t,u=-r*t-o*i-s*n;return this.x=c*a+u*-r+l*-s-h*-o,this.y=l*a+u*-o+h*-r-c*-s,this.z=h*a+u*-s+c*-o-l*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n,this.y=r[1]*t+r[5]*i+r[9]*n,this.z=r[2]*t+r[6]*i+r[10]*n,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var i=e.x,n=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=n*a-r*s,this.y=r*o-i*a,this.z=i*s-n*o,this},projectOnVector:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)},projectOnPlane:function(e){return vi.copy(this).projectOnVector(e),this.sub(vi)},reflect:function(e){return this.sub(vi.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var i=this.dot(e)/t;return Math.acos(si.clamp(i,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,i){var n=Math.sin(t)*e;return this.x=n*Math.sin(i),this.y=Math.cos(t)*e,this.z=n*Math.cos(i),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var _i=new yi,bi=new Ei,xi=new yi(0,0,0),wi=new yi(1,1,1),Si=new yi,Ci=new yi,Mi=new yi;function Ei(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Ei.prototype,{isMatrix4:!0,set:function(e,t,i,n,r,o,s,a,c,l,h,u,d,p,f,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=n,v[1]=r,v[5]=o,v[9]=s,v[13]=a,v[2]=c,v[6]=l,v[10]=h,v[14]=u,v[3]=d,v[7]=p,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ei).fromArray(this.elements)},copy:function(e){var t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this},copyPosition:function(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,i=e.elements,n=1/_i.setFromMatrixColumn(e,0).length(),r=1/_i.setFromMatrixColumn(e,1).length(),o=1/_i.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,i=e.x,n=e.y,r=e.z,o=Math.cos(i),s=Math.sin(i),a=Math.cos(n),c=Math.sin(n),l=Math.cos(r),h=Math.sin(r);if("XYZ"===e.order){var u=o*l,d=o*h,p=s*l,f=s*h;t[0]=a*l,t[4]=-a*h,t[8]=c,t[1]=d+p*c,t[5]=u-f*c,t[9]=-s*a,t[2]=f-u*c,t[6]=p+d*c,t[10]=o*a}else if("YXZ"===e.order){var m=a*l,v=a*h,g=c*l,y=c*h;t[0]=m+y*s,t[4]=g*s-v,t[8]=o*c,t[1]=o*h,t[5]=o*l,t[9]=-s,t[2]=v*s-g,t[6]=y+m*s,t[10]=o*a}else if("ZXY"===e.order){m=a*l,v=a*h,g=c*l,y=c*h;t[0]=m-y*s,t[4]=-o*h,t[8]=g+v*s,t[1]=v+g*s,t[5]=o*l,t[9]=y-m*s,t[2]=-o*c,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){u=o*l,d=o*h,p=s*l,f=s*h;t[0]=a*l,t[4]=p*c-d,t[8]=u*c+f,t[1]=a*h,t[5]=f*c+u,t[9]=d*c-p,t[2]=-c,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){var _=o*a,b=o*c,x=s*a,w=s*c;t[0]=a*l,t[4]=w-_*h,t[8]=x*h+b,t[1]=h,t[5]=o*l,t[9]=-s*l,t[2]=-c*l,t[6]=b*h+x,t[10]=_-w*h}else if("XZY"===e.order){_=o*a,b=o*c,x=s*a,w=s*c;t[0]=a*l,t[4]=-h,t[8]=c*l,t[1]=_*h+w,t[5]=o*l,t[9]=b*h-x,t[2]=x*h-b,t[6]=s*l,t[10]=w*h+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(xi,e,wi)},lookAt:function(e,t,i){var n=this.elements;return Mi.subVectors(e,t),0===Mi.lengthSq()&&(Mi.z=1),Mi.normalize(),Si.crossVectors(i,Mi),0===Si.lengthSq()&&(1===Math.abs(i.z)?Mi.x+=1e-4:Mi.z+=1e-4,Mi.normalize(),Si.crossVectors(i,Mi)),Si.normalize(),Ci.crossVectors(Mi,Si),n[0]=Si.x,n[4]=Ci.x,n[8]=Mi.x,n[1]=Si.y,n[5]=Ci.y,n[9]=Mi.y,n[2]=Si.z,n[6]=Ci.z,n[10]=Mi.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements,n=t.elements,r=this.elements,o=i[0],s=i[4],a=i[8],c=i[12],l=i[1],h=i[5],u=i[9],d=i[13],p=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],_=i[11],b=i[15],x=n[0],w=n[4],S=n[8],C=n[12],M=n[1],E=n[5],T=n[9],A=n[13],L=n[2],O=n[6],R=n[10],k=n[14],P=n[3],D=n[7],I=n[11],B=n[15];return r[0]=o*x+s*M+a*L+c*P,r[4]=o*w+s*E+a*O+c*D,r[8]=o*S+s*T+a*R+c*I,r[12]=o*C+s*A+a*k+c*B,r[1]=l*x+h*M+u*L+d*P,r[5]=l*w+h*E+u*O+d*D,r[9]=l*S+h*T+u*R+d*I,r[13]=l*C+h*A+u*k+d*B,r[2]=p*x+f*M+m*L+v*P,r[6]=p*w+f*E+m*O+v*D,r[10]=p*S+f*T+m*R+v*I,r[14]=p*C+f*A+m*k+v*B,r[3]=g*x+y*M+_*L+b*P,r[7]=g*w+y*E+_*O+b*D,r[11]=g*S+y*T+_*R+b*I,r[15]=g*C+y*A+_*k+b*B,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[4],n=e[8],r=e[12],o=e[1],s=e[5],a=e[9],c=e[13],l=e[2],h=e[6],u=e[10],d=e[14],p=e[3],f=e[7],m=e[11],v=e[15];return p*(+r*a*h-n*c*h-r*s*u+i*c*u+n*s*d-i*a*d)+f*(+t*a*d-t*c*u+r*o*u-n*o*d+n*c*l-r*a*l)+m*(+t*c*h-t*s*d-r*o*h+i*o*d+r*s*l-i*c*l)+v*(-n*s*l-t*a*h+t*s*u+n*o*h-i*o*u+i*a*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,i){var n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=i),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var i=this.elements,n=e.elements,r=n[0],o=n[1],s=n[2],a=n[3],c=n[4],l=n[5],h=n[6],u=n[7],d=n[8],p=n[9],f=n[10],m=n[11],v=n[12],g=n[13],y=n[14],_=n[15],b=p*y*u-g*f*u+g*h*m-l*y*m-p*h*_+l*f*_,x=v*f*u-d*y*u-v*h*m+c*y*m+d*h*_-c*f*_,w=d*g*u-v*p*u+v*l*m-c*g*m-d*l*_+c*p*_,S=v*p*h-d*g*h-v*l*f+c*g*f+d*l*y-c*p*y,C=r*b+o*x+s*w+a*S;if(0===C)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var M=1/C;return i[0]=b*M,i[1]=(g*f*a-p*y*a-g*s*m+o*y*m+p*s*_-o*f*_)*M,i[2]=(l*y*a-g*h*a+g*s*u-o*y*u-l*s*_+o*h*_)*M,i[3]=(p*h*a-l*f*a-p*s*u+o*f*u+l*s*m-o*h*m)*M,i[4]=x*M,i[5]=(d*y*a-v*f*a+v*s*m-r*y*m-d*s*_+r*f*_)*M,i[6]=(v*h*a-c*y*a-v*s*u+r*y*u+c*s*_-r*h*_)*M,i[7]=(c*f*a-d*h*a+d*s*u-r*f*u-c*s*m+r*h*m)*M,i[8]=w*M,i[9]=(v*p*a-d*g*a-v*o*m+r*g*m+d*o*_-r*p*_)*M,i[10]=(c*g*a-v*l*a+v*o*u-r*g*u-c*o*_+r*l*_)*M,i[11]=(d*l*a-c*p*a-d*o*u+r*p*u+c*o*m-r*l*m)*M,i[12]=S*M,i[13]=(d*g*s-v*p*s+v*o*f-r*g*f-d*o*y+r*p*y)*M,i[14]=(v*l*s-c*g*s-v*o*h+r*g*h+c*o*y-r*l*y)*M,i[15]=(c*p*s-d*l*s+d*o*h-r*p*h-c*o*f+r*l*f)*M,this},scale:function(e){var t=this.elements,i=e.x,n=e.y,r=e.z;return t[0]*=i,t[4]*=n,t[8]*=r,t[1]*=i,t[5]*=n,t[9]*=r,t[2]*=i,t[6]*=n,t[10]*=r,t[3]*=i,t[7]*=n,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var i=Math.cos(t),n=Math.sin(t),r=1-i,o=e.x,s=e.y,a=e.z,c=r*o,l=r*s;return this.set(c*o+i,c*s-n*a,c*a+n*s,0,c*s+n*a,l*s+i,l*a-n*o,0,c*a-n*s,l*a+n*o,r*a*a+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(e,t,i){return this.set(1,t,i,0,e,1,i,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,i){var n=this.elements,r=t._x,o=t._y,s=t._z,a=t._w,c=r+r,l=o+o,h=s+s,u=r*c,d=r*l,p=r*h,f=o*l,m=o*h,v=s*h,g=a*c,y=a*l,_=a*h,b=i.x,x=i.y,w=i.z;return n[0]=(1-(f+v))*b,n[1]=(d+_)*b,n[2]=(p-y)*b,n[3]=0,n[4]=(d-_)*x,n[5]=(1-(u+v))*x,n[6]=(m+g)*x,n[7]=0,n[8]=(p+y)*w,n[9]=(m-g)*w,n[10]=(1-(u+f))*w,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this},decompose:function(e,t,i){var n=this.elements,r=_i.set(n[0],n[1],n[2]).length(),o=_i.set(n[4],n[5],n[6]).length(),s=_i.set(n[8],n[9],n[10]).length(),a=this.determinant();a<0&&(r=-r),e.x=n[12],e.y=n[13],e.z=n[14],bi.copy(this);var c=1/r,l=1/o,h=1/s;return bi.elements[0]*=c,bi.elements[1]*=c,bi.elements[2]*=c,bi.elements[4]*=l,bi.elements[5]*=l,bi.elements[6]*=l,bi.elements[8]*=h,bi.elements[9]*=h,bi.elements[10]*=h,t.setFromRotationMatrix(bi),i.x=r,i.y=o,i.z=s,this},makePerspective:function(e,t,i,n,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var s=this.elements,a=2*r/(t-e),c=2*r/(i-n),l=(t+e)/(t-e),h=(i+n)/(i-n),u=-(o+r)/(o-r),d=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=l,s[12]=0,s[1]=0,s[5]=c,s[9]=h,s[13]=0,s[2]=0,s[6]=0,s[10]=u,s[14]=d,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(e,t,i,n,r,o){var s=this.elements,a=1/(t-e),c=1/(i-n),l=1/(o-r),h=(t+e)*a,u=(i+n)*c,d=(o+r)*l;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-h,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-u,s[2]=0,s[6]=0,s[10]=-2*l,s[14]=-d,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(e){for(var t=this.elements,i=e.elements,n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var i=0;i<16;i++)this.elements[i]=e[i+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}});var Ti=new Ei,Ai=new mi;function Li(e,t,i,n){this._x=e||0,this._y=t||0,this._z=i||0,this._order=n||Li.DefaultOrder}function Oi(){this.mask=1}Li.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Li.DefaultOrder="XYZ",Object.defineProperties(Li.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(Li.prototype,{isEuler:!0,set:function(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,i){var n=si.clamp,r=e.elements,o=r[0],s=r[4],a=r[8],c=r[1],l=r[5],h=r[9],u=r[2],d=r[6],p=r[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin(n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-n(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-u,o),this._z=0);break;case"ZXY":this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-n(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-u,o)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-h,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==i&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,i){return Ti.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ti,t,i)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Ai.setFromEuler(this),this.setFromQuaternion(Ai,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new yi(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(Oi.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!==(this.mask&e.mask)}});var Ri=0,ki=new yi,Pi=new mi,Di=new Ei,Ii=new yi,Bi=new yi,Ni=new yi,ji=new mi,Hi=new yi(1,0,0),Fi=new yi(0,1,0),zi=new yi(0,0,1),Ui={type:"added"},Vi={type:"removed"};function Wi(){Object.defineProperty(this,"id",{value:Ri++}),this.uuid=si.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Wi.DefaultUp.clone();var e=new yi,t=new Li,i=new mi,n=new yi(1,1,1);function r(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Ei},normalMatrix:{value:new ci}}),this.matrix=new Ei,this.matrixWorld=new Ei,this.matrixAutoUpdate=Wi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Oi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Gi(){Wi.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Wi.DefaultUp=new yi(0,1,0),Wi.DefaultMatrixAutoUpdate=!0,Wi.prototype=Object.assign(Object.create(ii.prototype),{constructor:Wi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Pi.setFromAxisAngle(e,t),this.quaternion.multiply(Pi),this},rotateOnWorldAxis:function(e,t){return Pi.setFromAxisAngle(e,t),this.quaternion.premultiply(Pi),this},rotateX:function(e){return this.rotateOnAxis(Hi,e)},rotateY:function(e){return this.rotateOnAxis(Fi,e)},rotateZ:function(e){return this.rotateOnAxis(zi,e)},translateOnAxis:function(e,t){return ki.copy(e).applyQuaternion(this.quaternion),this.position.add(ki.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Hi,e)},translateY:function(e){return this.translateOnAxis(Fi,e)},translateZ:function(e){return this.translateOnAxis(zi,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(Di.getInverse(this.matrixWorld))},lookAt:function(e,t,i){e.isVector3?Ii.copy(e):Ii.set(e,t,i);var n=this.parent;this.updateWorldMatrix(!0,!1),Bi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Di.lookAt(Bi,Ii,this.up):Di.lookAt(Ii,Bi,this.up),this.quaternion.setFromRotationMatrix(Di),n&&(Di.extractRotation(n.matrixWorld),Pi.setFromRotationMatrix(Di),this.quaternion.premultiply(Pi.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ui)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var i=this.children.indexOf(e);return-1!==i&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(Vi)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),Di.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Di.multiply(e.parent.matrixWorld)),e.applyMatrix4(Di),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i],o=r.getObjectByProperty(e,t);if(void 0!==o)return o}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new yi),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new mi),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Bi,e,Ni),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new yi),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Bi,ji,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new yi),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var i=this.parent;if(!0===e&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var n=this.children,r=0,o=n.length;r<o;r++)n[r].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function r(t,i){return void 0===t[i.uuid]&&(t[i.uuid]=i.toJSON(e)),i.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=r(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var s=o.shapes;if(Array.isArray(s))for(var a=0,c=s.length;a<c;a++){var l=s[a];r(e.shapes,l)}else r(e.shapes,s)}}if(void 0!==this.material)if(Array.isArray(this.material)){var h=[];for(a=0,c=this.material.length;a<c;a++)h.push(r(e.materials,this.material[a]));n.material=h}else n.material=r(e.materials,this.material);if(this.children.length>0){n.children=[];for(a=0;a<this.children.length;a++)n.children.push(this.children[a].toJSON(e).object)}if(t){var u=m(e.geometries),d=m(e.materials),p=m(e.textures),f=m(e.images);s=m(e.shapes);u.length>0&&(i.geometries=u),d.length>0&&(i.materials=d),p.length>0&&(i.textures=p),f.length>0&&(i.images=f),s.length>0&&(i.shapes=s)}return i.object=n,i;function m(e){var t=[];for(var i in e){var n=e[i];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var i=0;i<e.children.length;i++){var n=e.children[i];this.add(n.clone())}return this}}),Gi.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Gi,isScene:!0,copy:function(e,t){return Wi.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Wi.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var $i=[new yi,new yi,new yi,new yi,new yi,new yi,new yi,new yi],qi=new yi,Xi=new sn,Yi=new yi,Zi=new yi,Ji=new yi,Ki=new yi,Qi=new yi,en=new yi,tn=new yi,nn=new yi,rn=new yi,on=new yi;function sn(e,t){this.min=void 0!==e?e:new yi(1/0,1/0,1/0),this.max=void 0!==t?t:new yi(-1/0,-1/0,-1/0)}function an(e,t,i,n,r){var o,s;for(o=0,s=e.length-3;o<=s;o+=3){on.fromArray(e,o);var a=r.x*Math.abs(on.x)+r.y*Math.abs(on.y)+r.z*Math.abs(on.z),c=t.dot(on),l=i.dot(on),h=n.dot(on);if(Math.max(-Math.max(c,l,h),Math.min(c,l,h))>a)return!1}return!0}Object.assign(sn.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,i=1/0,n=1/0,r=-1/0,o=-1/0,s=-1/0,a=0,c=e.length;a<c;a+=3){var l=e[a],h=e[a+1],u=e[a+2];l<t&&(t=l),h<i&&(i=h),u<n&&(n=u),l>r&&(r=l),h>o&&(o=h),u>s&&(s=u)}return this.min.set(t,i,n),this.max.set(r,o,s),this},setFromBufferAttribute:function(e){for(var t=1/0,i=1/0,n=1/0,r=-1/0,o=-1/0,s=-1/0,a=0,c=e.count;a<c;a++){var l=e.getX(a),h=e.getY(a),u=e.getZ(a);l<t&&(t=l),h<i&&(i=h),u<n&&(n=u),l>r&&(r=l),h>o&&(o=h),u>s&&(s=u)}return this.min.set(t,i,n),this.max.set(r,o,s),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var i=qi.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new yi),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new yi),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Xi.copy(t.boundingBox),Xi.applyMatrix4(e.matrixWorld),this.union(Xi));for(var i=e.children,n=0,r=i.length;n<r;n++)this.expandByObject(i[n]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new yi),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,qi),qi.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(tn),nn.subVectors(this.max,tn),Yi.subVectors(e.a,tn),Zi.subVectors(e.b,tn),Ji.subVectors(e.c,tn),Ki.subVectors(Zi,Yi),Qi.subVectors(Ji,Zi),en.subVectors(Yi,Ji);var t=[0,-Ki.z,Ki.y,0,-Qi.z,Qi.y,0,-en.z,en.y,Ki.z,0,-Ki.x,Qi.z,0,-Qi.x,en.z,0,-en.x,-Ki.y,Ki.x,0,-Qi.y,Qi.x,0,-en.y,en.x,0];return!!an(t,Yi,Zi,Ji,nn)&&(t=[1,0,0,0,1,0,0,0,1],!!an(t,Yi,Zi,Ji,nn)&&(rn.crossVectors(Ki,Qi),t=[rn.x,rn.y,rn.z],an(t,Yi,Zi,Ji,nn)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new yi),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){var t=qi.copy(e).clamp(this.min,this.max);return t.sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(qi).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||($i[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$i[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$i[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$i[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$i[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$i[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$i[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$i[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($i)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var cn=new sn;function ln(e,t){this.center=void 0!==e?e:new yi,this.radius=void 0!==t?t:-1}Object.assign(ln.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var i=this.center;void 0!==t?i.copy(t):cn.setFromPoints(e).getCenter(i);for(var n=0,r=0,o=e.length;r<o;r++)n=Math.max(n,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var i=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new yi),t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new sn),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var hn=new yi,un=new yi,dn=new yi,pn=new yi,fn=new yi,mn=new yi,vn=new yi;function gn(e,t){this.origin=void 0!==e?e:new yi,this.direction=void 0!==t?t:new yi(0,0,-1)}Object.assign(gn.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new yi),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,hn)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new yi),t.subVectors(e,this.origin);var i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=hn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(hn.copy(this.direction).multiplyScalar(t).add(this.origin),hn.distanceToSquared(e))},distanceSqToSegment:function(e,t,i,n){un.copy(e).add(t).multiplyScalar(.5),dn.copy(t).sub(e).normalize(),pn.copy(this.origin).sub(un);var r,o,s,a,c=.5*e.distanceTo(t),l=-this.direction.dot(dn),h=pn.dot(this.direction),u=-pn.dot(dn),d=pn.lengthSq(),p=Math.abs(1-l*l);if(p>0)if(r=l*u-h,o=l*h-u,a=c*p,r>=0)if(o>=-a)if(o<=a){var f=1/p;r*=f,o*=f,s=r*(r+l*o+2*h)+o*(l*r+o+2*u)+d}else o=c,r=Math.max(0,-(l*o+h)),s=-r*r+o*(o+2*u)+d;else o=-c,r=Math.max(0,-(l*o+h)),s=-r*r+o*(o+2*u)+d;else o<=-a?(r=Math.max(0,-(-l*c+h)),o=r>0?-c:Math.min(Math.max(-c,-u),c),s=-r*r+o*(o+2*u)+d):o<=a?(r=0,o=Math.min(Math.max(-c,-u),c),s=o*(o+2*u)+d):(r=Math.max(0,-(l*c+h)),o=r>0?c:Math.min(Math.max(-c,-u),c),s=-r*r+o*(o+2*u)+d);else o=l>0?-c:c,r=Math.max(0,-(l*o+h)),s=-r*r+o*(o+2*u)+d;return i&&i.copy(this.direction).multiplyScalar(r).add(this.origin),n&&n.copy(dn).multiplyScalar(o).add(un),s},intersectSphere:function(e,t){hn.subVectors(e.center,this.origin);var i=hn.dot(this.direction),n=hn.dot(hn)-i*i,r=e.radius*e.radius;if(n>r)return null;var o=Math.sqrt(r-n),s=i-o,a=i+o;return s<0&&a<0?null:s<0?this.at(a,t):this.at(s,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null},intersectPlane:function(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var i=e.normal.dot(this.direction);return i*t<0},intersectBox:function(e,t){var i,n,r,o,s,a,c=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,u=this.origin;return c>=0?(i=(e.min.x-u.x)*c,n=(e.max.x-u.x)*c):(i=(e.max.x-u.x)*c,n=(e.min.x-u.x)*c),l>=0?(r=(e.min.y-u.y)*l,o=(e.max.y-u.y)*l):(r=(e.max.y-u.y)*l,o=(e.min.y-u.y)*l),i>o||r>n?null:((r>i||i!==i)&&(i=r),(o<n||n!==n)&&(n=o),h>=0?(s=(e.min.z-u.z)*h,a=(e.max.z-u.z)*h):(s=(e.max.z-u.z)*h,a=(e.min.z-u.z)*h),i>a||s>n?null:((s>i||i!==i)&&(i=s),(a<n||n!==n)&&(n=a),n<0?null:this.at(i>=0?i:n,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,hn)},intersectTriangle:function(e,t,i,n,r){fn.subVectors(t,e),mn.subVectors(i,e),vn.crossVectors(fn,mn);var o,s=this.direction.dot(vn);if(s>0){if(n)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}pn.subVectors(this.origin,e);var a=o*this.direction.dot(mn.crossVectors(pn,mn));if(a<0)return null;var c=o*this.direction.dot(fn.cross(pn));if(c<0)return null;if(a+c>s)return null;var l=-o*pn.dot(vn);return l<0?null:this.at(l/s,r)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var yn=new yi,_n=new yi,bn=new ci;function xn(e,t){this.normal=void 0!==e?e:new yi(1,0,0),this.constant=void 0!==t?t:0}Object.assign(xn.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,i){var n=yn.subVectors(i,t).cross(_n.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new yi),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new yi);var i=e.delta(yn),n=this.normal.dot(i);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var r=-(e.start.dot(this.normal)+this.constant)/n;return r<0||r>1?void 0:t.copy(i).multiplyScalar(r).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new yi),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var i=t||bn.getNormalMatrix(e),n=this.coplanarPoint(yn).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(r),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var wn=new yi,Sn=new yi,Cn=new yi,Mn=new yi,En=new yi,Tn=new yi,An=new yi,Ln=new yi,On=new yi,Rn=new yi;function kn(e,t,i){this.a=void 0!==e?e:new yi,this.b=void 0!==t?t:new yi,this.c=void 0!==i?i:new yi}Object.assign(kn,{getNormal:function(e,t,i,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new yi),n.subVectors(i,t),wn.subVectors(e,t),n.cross(wn);var r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)},getBarycoord:function(e,t,i,n,r){wn.subVectors(n,t),Sn.subVectors(i,t),Cn.subVectors(e,t);var o=wn.dot(wn),s=wn.dot(Sn),a=wn.dot(Cn),c=Sn.dot(Sn),l=Sn.dot(Cn),h=o*c-s*s;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new yi),0===h)return r.set(-2,-1,-1);var u=1/h,d=(c*a-s*l)*u,p=(o*l-s*a)*u;return r.set(1-d-p,p,d)},containsPoint:function(e,t,i,n){return kn.getBarycoord(e,t,i,n,Mn),Mn.x>=0&&Mn.y>=0&&Mn.x+Mn.y<=1},getUV:function(e,t,i,n,r,o,s,a){return this.getBarycoord(e,t,i,n,Mn),a.set(0,0),a.addScaledVector(r,Mn.x),a.addScaledVector(o,Mn.y),a.addScaledVector(s,Mn.z),a},isFrontFacing:function(e,t,i,n){return wn.subVectors(i,t),Sn.subVectors(e,t),wn.cross(Sn).dot(n)<0}}),Object.assign(kn.prototype,{set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return wn.subVectors(this.c,this.b),Sn.subVectors(this.a,this.b),.5*wn.cross(Sn).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new yi),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return kn.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new xn),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return kn.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,i,n,r){return kn.getUV(e,this.a,this.b,this.c,t,i,n,r)},containsPoint:function(e){return kn.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return kn.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new yi);var i,n,r=this.a,o=this.b,s=this.c;En.subVectors(o,r),Tn.subVectors(s,r),Ln.subVectors(e,r);var a=En.dot(Ln),c=Tn.dot(Ln);if(a<=0&&c<=0)return t.copy(r);On.subVectors(e,o);var l=En.dot(On),h=Tn.dot(On);if(l>=0&&h<=l)return t.copy(o);var u=a*h-l*c;if(u<=0&&a>=0&&l<=0)return i=a/(a-l),t.copy(r).addScaledVector(En,i);Rn.subVectors(e,s);var d=En.dot(Rn),p=Tn.dot(Rn);if(p>=0&&d<=p)return t.copy(s);var f=d*c-a*p;if(f<=0&&c>=0&&p<=0)return n=c/(c-p),t.copy(r).addScaledVector(Tn,n);var m=l*p-d*h;if(m<=0&&h-l>=0&&d-p>=0)return An.subVectors(s,o),n=(h-l)/(h-l+(d-p)),t.copy(o).addScaledVector(An,n);var v=1/(m+f+u);return i=f*v,n=u*v,t.copy(r).addScaledVector(En,i).addScaledVector(Tn,n)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var Pn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Dn={h:0,s:0,l:0},In={h:0,s:0,l:0};function Bn(e,t,i){return void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)}function Nn(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+6*(t-e)*(2/3-i):e}function jn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Hn(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function Fn(e,t,i,n,r,o){this.a=e,this.b=t,this.c=i,this.normal=n&&n.isVector3?n:new yi,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new Bn,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==o?o:0}Object.assign(Bn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSL:function(e,t,i){if(e=si.euclideanModulo(e,1),t=si.clamp(t,0,1),i=si.clamp(i,0,1),0===t)this.r=this.g=this.b=i;else{var n=i<=.5?i*(1+t):i+t-i*t,r=2*i-n;this.r=Nn(r,n,e+1/3),this.g=Nn(r,n,e),this.b=Nn(r,n,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var n,r=i[1],o=i[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var s=parseFloat(n[1])/360,a=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(s,a,c)}break}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=i[1],h=l.length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=Pn[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var i=t>0?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=jn(e.r),this.g=jn(e.g),this.b=jn(e.b),this},copyLinearToSRGB:function(e){return this.r=Hn(e.r),this.g=Hn(e.g),this.b=Hn(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,i,n=this.r,r=this.g,o=this.b,s=Math.max(n,r,o),a=Math.min(n,r,o),c=(a+s)/2;if(a===s)t=0,i=0;else{var l=s-a;switch(i=c<=.5?l/(s+a):l/(2-s-a),s){case n:t=(r-o)/l+(r<o?6:0);break;case r:t=(o-n)/l+2;break;case o:t=(n-r)/l+4;break}t/=6}return e.h=t,e.s=i,e.l=c,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,i){return this.getHSL(Dn),Dn.h+=e,Dn.s+=t,Dn.l+=i,this.setHSL(Dn.h,Dn.s,Dn.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(Dn),e.getHSL(In);var i=si.lerp(Dn.h,In.h,t),n=si.lerp(Dn.s,In.s,t),r=si.lerp(Dn.l,In.l,t);return this.setHSL(i,n,r),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),Bn.NAMES=Pn,Object.assign(Fn.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var zn=0;function Un(){Object.defineProperty(this,"id",{value:zn++}),this.uuid=si.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=m,this.side=h,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=L,this.blendDst=O,this.blendEquation=b,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=H,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Qt,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Kt,this.stencilZFail=Kt,this.stencilZPass=Kt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Vn(e){Un.call(this),this.type="MeshBasicMaterial",this.color=new Bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Un.prototype=Object.assign(Object.create(ii.prototype),{constructor:Un,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i)if("shading"!==t){var n=this[t];void 0!==n?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===p;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){var t=[];for(var i in e){var n=e[i];delete n.metadata,t.push(n)}return t}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(i.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity,i.refractionRatio=this.refractionRatio,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==m&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==h&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.morphNormals&&(i.morphNormals=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),t){var r=n(e.textures),o=n(e.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,i=null;if(null!==t){var n=t.length;i=new Array(n);for(var r=0;r!==n;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Un.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Vn.prototype=Object.create(Un.prototype),Vn.prototype.constructor=Vn,Vn.prototype.isMeshBasicMaterial=!0,Vn.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var Wn=new yi;function Gn(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===i,this.usage=ei,this.updateRange={offset:0,count:-1},this.version=0}function $n(e,t,i){Gn.call(this,new Int8Array(e),t,i)}function qn(e,t,i){Gn.call(this,new Uint8Array(e),t,i)}function Xn(e,t,i){Gn.call(this,new Uint8ClampedArray(e),t,i)}function Yn(e,t,i){Gn.call(this,new Int16Array(e),t,i)}function Zn(e,t,i){Gn.call(this,new Uint16Array(e),t,i)}function Jn(e,t,i){Gn.call(this,new Int32Array(e),t,i)}function Kn(e,t,i){Gn.call(this,new Uint32Array(e),t,i)}function Qn(e,t,i){Gn.call(this,new Float32Array(e),t,i)}function er(e,t,i){Gn.call(this,new Float64Array(e),t,i)}function tr(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function ir(e){if(0===e.length)return-1/0;for(var t=e[0],i=1,n=e.length;i<n;++i)e[i]>t&&(t=e[i]);return t}Object.defineProperty(Gn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Gn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,i){e*=this.itemSize,i*=t.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[e+n]=t.array[i+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new Bn),t[i++]=o.r,t[i++]=o.g,t[i++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new ai),t[i++]=o.x,t[i++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new yi),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var o=e[n];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new di),t[i++]=o.x,t[i++]=o.y,t[i++]=o.z,t[i++]=o.w}return this},applyMatrix3:function(e){for(var t=0,i=this.count;t<i;t++)Wn.x=this.getX(t),Wn.y=this.getY(t),Wn.z=this.getZ(t),Wn.applyMatrix3(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this},applyMatrix4:function(e){for(var t=0,i=this.count;t<i;t++)Wn.x=this.getX(t),Wn.y=this.getY(t),Wn.z=this.getZ(t),Wn.applyMatrix4(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this},applyNormalMatrix:function(e){for(var t=0,i=this.count;t<i;t++)Wn.x=this.getX(t),Wn.y=this.getY(t),Wn.z=this.getZ(t),Wn.applyNormalMatrix(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this},transformDirection:function(e){for(var t=0,i=this.count;t<i;t++)Wn.x=this.getX(t),Wn.y=this.getY(t),Wn.z=this.getZ(t),Wn.transformDirection(e),this.setXYZ(t,Wn.x,Wn.y,Wn.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this},setXYZ:function(e,t,i,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this},setXYZW:function(e,t,i,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),$n.prototype=Object.create(Gn.prototype),$n.prototype.constructor=$n,qn.prototype=Object.create(Gn.prototype),qn.prototype.constructor=qn,Xn.prototype=Object.create(Gn.prototype),Xn.prototype.constructor=Xn,Yn.prototype=Object.create(Gn.prototype),Yn.prototype.constructor=Yn,Zn.prototype=Object.create(Gn.prototype),Zn.prototype.constructor=Zn,Jn.prototype=Object.create(Gn.prototype),Jn.prototype.constructor=Jn,Kn.prototype=Object.create(Gn.prototype),Kn.prototype.constructor=Kn,Qn.prototype=Object.create(Gn.prototype),Qn.prototype.constructor=Qn,er.prototype=Object.create(Gn.prototype),er.prototype.constructor=er,Object.assign(tr.prototype,{computeGroups:function(e){for(var t,i=[],n=void 0,r=e.faces,o=0;o<r.length;o++){var s=r[o];s.materialIndex!==n&&(n=s.materialIndex,void 0!==t&&(t.count=3*o-t.start,i.push(t)),t={start:3*o,materialIndex:n})}void 0!==t&&(t.count=3*o-t.start,i.push(t)),this.groups=i},fromGeometry:function(e){var t,i=e.faces,n=e.vertices,r=e.faceVertexUvs,o=r[0]&&r[0].length>0,s=r[1]&&r[1].length>0,a=e.morphTargets,c=a.length;if(c>0){t=[];for(var l=0;l<c;l++)t[l]={name:a[l].name,data:[]};this.morphTargets.position=t}var h,u=e.morphNormals,d=u.length;if(d>0){h=[];for(l=0;l<d;l++)h[l]={name:u[l].name,data:[]};this.morphTargets.normal=h}var p=e.skinIndices,f=e.skinWeights,m=p.length===n.length,v=f.length===n.length;n.length>0&&0===i.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<i.length;l++){var g=i[l];this.vertices.push(n[g.a],n[g.b],n[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=g.normal;this.normals.push(_,_,_)}var b=g.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var x=g.color;this.colors.push(x,x,x)}if(!0===o){var w=r[0][l];void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new ai,new ai,new ai))}if(!0===s){w=r[1][l];void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new ai,new ai,new ai))}for(var S=0;S<c;S++){var C=a[S].vertices;t[S].data.push(C[g.a],C[g.b],C[g.c])}for(S=0;S<d;S++){var M=u[S].vertexNormals[l];h[S].data.push(M.a,M.b,M.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var nr=1,rr=new Ei,or=new Wi,sr=new yi,ar=new sn,cr=new sn,lr=new yi;function hr(){Object.defineProperty(this,"id",{value:nr+=2}),this.uuid=si.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}hr.prototype=Object.assign(Object.create(ii.prototype),{constructor:hr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(ir(e)>65535?Kn:Zn)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){var n=(new ci).getNormalMatrix(e);i.applyNormalMatrix(n),i.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return rr.makeRotationX(e),this.applyMatrix4(rr),this},rotateY:function(e){return rr.makeRotationY(e),this.applyMatrix4(rr),this},rotateZ:function(e){return rr.makeRotationZ(e),this.applyMatrix4(rr),this},translate:function(e,t,i){return rr.makeTranslation(e,t,i),this.applyMatrix4(rr),this},scale:function(e,t,i){return rr.makeScale(e,t,i),this.applyMatrix4(rr),this},lookAt:function(e){return or.lookAt(e),or.updateMatrix(),this.applyMatrix4(or.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(sr).negate(),this.translate(sr.x,sr.y,sr.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var i=new Qn(3*t.vertices.length,3),n=new Qn(3*t.colors.length,3);if(this.setAttribute("position",i.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new Qn(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Qn(t,3)),this},updateFromObject:function(e){var t,i=e.geometry;if(e.isMesh){var n=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(n=void 0,i.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(i);n.verticesNeedUpdate=i.verticesNeedUpdate,n.normalsNeedUpdate=i.normalsNeedUpdate,n.colorsNeedUpdate=i.colorsNeedUpdate,n.uvsNeedUpdate=i.uvsNeedUpdate,n.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=n}return!0===i.verticesNeedUpdate&&(t=this.attributes.position,void 0!==t&&(t.copyVector3sArray(i.vertices),t.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(t=this.attributes.normal,void 0!==t&&(t.copyVector3sArray(i.normals),t.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(t=this.attributes.color,void 0!==t&&(t.copyColorsArray(i.colors),t.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(t=this.attributes.uv,void 0!==t&&(t.copyVector2sArray(i.uvs),t.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(t=this.attributes.lineDistance,void 0!==t&&(t.copyArray(i.lineDistances),t.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(e.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new tr).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Gn(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var i=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Gn(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var n=new Float32Array(3*e.colors.length);this.setAttribute("color",new Gn(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var r=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Gn(r,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Gn(o,2).copyVector2sArray(e.uvs2))}for(var s in this.groups=e.groups,e.morphTargets){for(var a=[],c=e.morphTargets[s],l=0,h=c.length;l<h;l++){var u=c[l],d=new Qn(3*u.data.length,3);d.name=u.name,a.push(d.copyVector3sArray(u.data))}this.morphAttributes[s]=a}if(e.skinIndices.length>0){var p=new Qn(4*e.skinIndices.length,4);this.setAttribute("skinIndex",p.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var f=new Qn(4*e.skinWeights.length,4);this.setAttribute("skinWeight",f.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new sn);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var i=0,n=t.length;i<n;i++){var r=t[i];ar.setFromBufferAttribute(r),this.morphTargetsRelative?(lr.addVectors(this.boundingBox.min,ar.min),this.boundingBox.expandByPoint(lr),lr.addVectors(this.boundingBox.max,ar.max),this.boundingBox.expandByPoint(lr)):(this.boundingBox.expandByPoint(ar.min),this.boundingBox.expandByPoint(ar.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ln);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var i=this.boundingSphere.center;if(ar.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var o=t[n];cr.setFromBufferAttribute(o),this.morphTargetsRelative?(lr.addVectors(ar.min,cr.min),ar.expandByPoint(lr),lr.addVectors(ar.max,cr.max),ar.expandByPoint(lr)):(ar.expandByPoint(cr.min),ar.expandByPoint(cr.max))}ar.getCenter(i);var s=0;for(n=0,r=e.count;n<r;n++)lr.fromBufferAttribute(e,n),s=Math.max(s,i.distanceToSquared(lr));if(t)for(n=0,r=t.length;n<r;n++){o=t[n];for(var a=this.morphTargetsRelative,c=0,l=o.count;c<l;c++)lr.fromBufferAttribute(o,c),a&&(sr.fromBufferAttribute(e,c),lr.add(sr)),s=Math.max(s,i.distanceToSquared(lr))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var i=t.position.array;if(void 0===t.normal)this.setAttribute("normal",new Gn(new Float32Array(i.length),3));else for(var n=t.normal.array,r=0,o=n.length;r<o;r++)n[r]=0;var s,a,c,l=t.normal.array,h=new yi,u=new yi,d=new yi,p=new yi,f=new yi;if(e){var m=e.array;for(r=0,o=e.count;r<o;r+=3)s=3*m[r+0],a=3*m[r+1],c=3*m[r+2],h.fromArray(i,s),u.fromArray(i,a),d.fromArray(i,c),p.subVectors(d,u),f.subVectors(h,u),p.cross(f),l[s]+=p.x,l[s+1]+=p.y,l[s+2]+=p.z,l[a]+=p.x,l[a+1]+=p.y,l[a+2]+=p.z,l[c]+=p.x,l[c+1]+=p.y,l[c+2]+=p.z}else for(r=0,o=i.length;r<o;r+=9)h.fromArray(i,r),u.fromArray(i,r+3),d.fromArray(i,r+6),p.subVectors(d,u),f.subVectors(h,u),p.cross(f),l[r]=p.x,l[r+1]=p.y,l[r+2]=p.z,l[r+3]=p.x,l[r+4]=p.y,l[r+5]=p.z,l[r+6]=p.x,l[r+7]=p.y,l[r+8]=p.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var i=this.attributes;for(var n in i)if(void 0!==e.attributes[n])for(var r=i[n],o=r.array,s=e.attributes[n],a=s.array,c=s.itemSize*t,l=Math.min(a.length,o.length-c),h=0,u=c;h<l;h++,u++)o[u]=a[h];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,i=e.count;t<i;t++)lr.x=e.getX(t),lr.y=e.getY(t),lr.z=e.getZ(t),lr.normalize(),e.setXYZ(t,lr.x,lr.y,lr.z)},toNonIndexed:function(){function e(e,t){for(var i=e.array,n=e.itemSize,r=new i.constructor(t.length*n),o=0,s=0,a=0,c=t.length;a<c;a++){o=t[a]*n;for(var l=0;l<n;l++)r[s++]=i[o++]}return new Gn(r,n)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new hr,i=this.index.array,n=this.attributes;for(var r in n){var o=n[r],s=e(o,i);t.setAttribute(r,s)}var a=this.morphAttributes;for(r in a){for(var c=[],l=a[r],h=0,u=l.length;h<u;h++){o=l[h],s=e(o,i);c.push(s)}t.morphAttributes[r]=c}t.morphTargetsRelative=this.morphTargetsRelative;for(var d=this.groups,p=(h=0,d.length);h<p;h++){var f=d[h];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};var n=this.index;null!==n&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var r=this.attributes;for(var i in r){var o=r[i],s=o.toJSON();""!==o.name&&(s.name=o.name),e.data.attributes[i]=s}var a={},c=!1;for(var i in this.morphAttributes){for(var l=this.morphAttributes[i],h=[],u=0,d=l.length;u<d;u++){o=l[u],s=o.toJSON();""!==o.name&&(s.name=o.name),h.push(s)}h.length>0&&(a[i]=h,c=!0)}c&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(e.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(e.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),e},clone:function(){return(new hr).copy(this)},copy:function(e){var t,i,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var r=e.index;null!==r&&this.setIndex(r.clone());var o=e.attributes;for(t in o){var s=o[t];this.setAttribute(t,s.clone())}var a=e.morphAttributes;for(t in a){var c=[],l=a[t];for(i=0,n=l.length;i<n;i++)c.push(l[i].clone());this.morphAttributes[t]=c}this.morphTargetsRelative=e.morphTargetsRelative;var h=e.groups;for(i=0,n=h.length;i<n;i++){var u=h[i];this.addGroup(u.start,u.count,u.materialIndex)}var d=e.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var ur=new Ei,dr=new gn,pr=new ln,fr=new yi,mr=new yi,vr=new yi,gr=new yi,yr=new yi,_r=new yi,br=new yi,xr=new yi,wr=new yi,Sr=new ai,Cr=new ai,Mr=new ai,Er=new yi,Tr=new yi;function Ar(e,t){Wi.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new hr,this.material=void 0!==t?t:new Vn,this.updateMorphTargets()}function Lr(e,t,i,n,r,o,s,a){var c;if(c=t.side===u?n.intersectTriangle(s,o,r,!0,a):n.intersectTriangle(r,o,s,t.side!==d,a),null===c)return null;Tr.copy(a),Tr.applyMatrix4(e.matrixWorld);var l=i.ray.origin.distanceTo(Tr);return l<i.near||l>i.far?null:{distance:l,point:Tr.clone(),object:e}}function Or(e,t,i,n,r,o,s,a,c,l,h,u){fr.fromBufferAttribute(r,l),mr.fromBufferAttribute(r,h),vr.fromBufferAttribute(r,u);var d=e.morphTargetInfluences;if(t.morphTargets&&o&&d){br.set(0,0,0),xr.set(0,0,0),wr.set(0,0,0);for(var p=0,f=o.length;p<f;p++){var m=d[p],v=o[p];0!==m&&(gr.fromBufferAttribute(v,l),yr.fromBufferAttribute(v,h),_r.fromBufferAttribute(v,u),s?(br.addScaledVector(gr,m),xr.addScaledVector(yr,m),wr.addScaledVector(_r,m)):(br.addScaledVector(gr.sub(fr),m),xr.addScaledVector(yr.sub(mr),m),wr.addScaledVector(_r.sub(vr),m)))}fr.add(br),mr.add(xr),vr.add(wr)}e.isSkinnedMesh&&(e.boneTransform(l,fr),e.boneTransform(h,mr),e.boneTransform(u,vr));var g=Lr(e,t,i,n,fr,mr,vr,Er);if(g){a&&(Sr.fromBufferAttribute(a,l),Cr.fromBufferAttribute(a,h),Mr.fromBufferAttribute(a,u),g.uv=kn.getUV(Er,fr,mr,vr,Sr,Cr,Mr,new ai)),c&&(Sr.fromBufferAttribute(c,l),Cr.fromBufferAttribute(c,h),Mr.fromBufferAttribute(c,u),g.uv2=kn.getUV(Er,fr,mr,vr,Sr,Cr,Mr,new ai));var y=new Fn(l,h,u);kn.getNormal(fr,mr,vr,y.normal),g.face=y}return g}Ar.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Ar,isMesh:!0,copy:function(e){return Wi.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,i,n=this.geometry;if(n.isBufferGeometry){var r=n.morphAttributes,o=Object.keys(r);if(o.length>0){var s=r[o[0]];if(void 0!==s)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)i=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}}else{var a=n.morphTargets;void 0!==a&&a.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var i,n=this.geometry,r=this.material,o=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),pr.copy(n.boundingSphere),pr.applyMatrix4(o),!1!==e.ray.intersectsSphere(pr)&&(ur.getInverse(o),dr.copy(e.ray).applyMatrix4(ur),null===n.boundingBox||!1!==dr.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var s,a,c,l,h,u,d,p,f,m,v,g=n.index,y=n.attributes.position,_=n.morphAttributes.position,b=n.morphTargetsRelative,x=n.attributes.uv,w=n.attributes.uv2,S=n.groups,C=n.drawRange;if(null!==g)if(Array.isArray(r))for(l=0,u=S.length;l<u;l++)for(p=S[l],f=r[p.materialIndex],m=Math.max(p.start,C.start),v=Math.min(p.start+p.count,C.start+C.count),h=m,d=v;h<d;h+=3)s=g.getX(h),a=g.getX(h+1),c=g.getX(h+2),i=Or(this,f,e,dr,y,_,b,x,w,s,a,c),i&&(i.faceIndex=Math.floor(h/3),i.face.materialIndex=p.materialIndex,t.push(i));else for(m=Math.max(0,C.start),v=Math.min(g.count,C.start+C.count),l=m,u=v;l<u;l+=3)s=g.getX(l),a=g.getX(l+1),c=g.getX(l+2),i=Or(this,r,e,dr,y,_,b,x,w,s,a,c),i&&(i.faceIndex=Math.floor(l/3),t.push(i));else if(void 0!==y)if(Array.isArray(r))for(l=0,u=S.length;l<u;l++)for(p=S[l],f=r[p.materialIndex],m=Math.max(p.start,C.start),v=Math.min(p.start+p.count,C.start+C.count),h=m,d=v;h<d;h+=3)s=h,a=h+1,c=h+2,i=Or(this,f,e,dr,y,_,b,x,w,s,a,c),i&&(i.faceIndex=Math.floor(h/3),i.face.materialIndex=p.materialIndex,t.push(i));else for(m=Math.max(0,C.start),v=Math.min(y.count,C.start+C.count),l=m,u=v;l<u;l+=3)s=l,a=l+1,c=l+2,i=Or(this,r,e,dr,y,_,b,x,w,s,a,c),i&&(i.faceIndex=Math.floor(l/3),t.push(i))}else if(n.isGeometry){var M,E,T,A,L=Array.isArray(r),O=n.vertices,R=n.faces,k=n.faceVertexUvs[0];k.length>0&&(A=k);for(var P=0,D=R.length;P<D;P++){var I=R[P],B=L?r[I.materialIndex]:r;if(void 0!==B&&(M=O[I.a],E=O[I.b],T=O[I.c],i=Lr(this,B,e,dr,M,E,T,Er),i)){if(A&&A[P]){var N=A[P];Sr.copy(N[0]),Cr.copy(N[1]),Mr.copy(N[2]),i.uv=kn.getUV(Er,M,E,T,Sr,Cr,Mr,new ai)}i.face=I,i.faceIndex=P,t.push(i)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Rr=0,kr=new Ei,Pr=new Wi,Dr=new yi;function Ir(){Object.defineProperty(this,"id",{value:Rr+=2}),this.uuid=si.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Ir.prototype=Object.assign(Object.create(ii.prototype),{constructor:Ir,isGeometry:!0,applyMatrix4:function(e){for(var t=(new ci).getNormalMatrix(e),i=0,n=this.vertices.length;i<n;i++){var r=this.vertices[i];r.applyMatrix4(e)}for(i=0,n=this.faces.length;i<n;i++){var o=this.faces[i];o.normal.applyMatrix3(t).normalize();for(var s=0,a=o.vertexNormals.length;s<a;s++)o.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return kr.makeRotationX(e),this.applyMatrix4(kr),this},rotateY:function(e){return kr.makeRotationY(e),this.applyMatrix4(kr),this},rotateZ:function(e){return kr.makeRotationZ(e),this.applyMatrix4(kr),this},translate:function(e,t,i){return kr.makeTranslation(e,t,i),this.applyMatrix4(kr),this},scale:function(e,t,i){return kr.makeScale(e,t,i),this.applyMatrix4(kr),this},lookAt:function(e){return Pr.lookAt(e),Pr.updateMatrix(),this.applyMatrix4(Pr.matrix),this},fromBufferGeometry:function(e){var t=this,i=null!==e.index?e.index.array:void 0,n=e.attributes;if(void 0===n.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var r=n.position.array,o=void 0!==n.normal?n.normal.array:void 0,s=void 0!==n.color?n.color.array:void 0,a=void 0!==n.uv?n.uv.array:void 0,c=void 0!==n.uv2?n.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=0;l<r.length;l+=3)t.vertices.push((new yi).fromArray(r,l)),void 0!==s&&t.colors.push((new Bn).fromArray(s,l));function h(e,i,n,r){var l=void 0===s?[]:[t.colors[e].clone(),t.colors[i].clone(),t.colors[n].clone()],h=void 0===o?[]:[(new yi).fromArray(o,3*e),(new yi).fromArray(o,3*i),(new yi).fromArray(o,3*n)],u=new Fn(e,i,n,h,l,r);t.faces.push(u),void 0!==a&&t.faceVertexUvs[0].push([(new ai).fromArray(a,2*e),(new ai).fromArray(a,2*i),(new ai).fromArray(a,2*n)]),void 0!==c&&t.faceVertexUvs[1].push([(new ai).fromArray(c,2*e),(new ai).fromArray(c,2*i),(new ai).fromArray(c,2*n)])}var u=e.groups;if(u.length>0)for(l=0;l<u.length;l++)for(var d=u[l],p=d.start,f=d.count,m=p,v=p+f;m<v;m+=3)void 0!==i?h(i[m],i[m+1],i[m+2],d.materialIndex):h(m,m+1,m+2,d.materialIndex);else if(void 0!==i)for(l=0;l<i.length;l+=3)h(i[l],i[l+1],i[l+2]);else for(l=0;l<r.length/3;l+=3)h(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Dr).negate(),this.translate(Dr.x,Dr.y,Dr.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,i=0===t?1:1/t,n=new Ei;return n.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){for(var e=new yi,t=new yi,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],o=this.vertices[r.a],s=this.vertices[r.b],a=this.vertices[r.c];e.subVectors(a,s),t.subVectors(o,s),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){var t,i,n,r,o,s;for(void 0===e&&(e=!0),s=new Array(this.vertices.length),t=0,i=this.vertices.length;t<i;t++)s[t]=new yi;if(e){var a,c,l,h=new yi,u=new yi;for(n=0,r=this.faces.length;n<r;n++)o=this.faces[n],a=this.vertices[o.a],c=this.vertices[o.b],l=this.vertices[o.c],h.subVectors(l,c),u.subVectors(a,c),h.cross(u),s[o.a].add(h),s[o.b].add(h),s[o.c].add(h)}else for(this.computeFaceNormals(),n=0,r=this.faces.length;n<r;n++)o=this.faces[n],s[o.a].add(o.normal),s[o.b].add(o.normal),s[o.c].add(o.normal);for(t=0,i=this.vertices.length;t<i;t++)s[t].normalize();for(n=0,r=this.faces.length;n<r;n++){o=this.faces[n];var d=o.vertexNormals;3===d.length?(d[0].copy(s[o.a]),d[1].copy(s[o.b]),d[2].copy(s[o.c])):(d[0]=s[o.a].clone(),d[1]=s[o.b].clone(),d[2]=s[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,i;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){i=this.faces[e];var n=i.vertexNormals;3===n.length?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for(r=this.faces[i],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var o=new Ir;for(o.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var s=this.morphNormals[e].faceNormals,a=this.morphNormals[e].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)c=new yi,l={a:new yi,b:new yi,c:new yi},s.push(c),a.push(l)}var c,l,h=this.morphNormals[e];for(o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals(),i=0,n=this.faces.length;i<n;i++)r=this.faces[i],c=h.faceNormals[i],l=h.vertexNormals[i],c.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new sn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ln),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if(e&&e.isGeometry){var n,r=this.vertices.length,o=this.vertices,s=e.vertices,a=this.faces,c=e.faces,l=this.colors,h=e.colors;void 0===i&&(i=0),void 0!==t&&(n=(new ci).getNormalMatrix(t));for(var u=0,d=s.length;u<d;u++){var p=s[u],f=p.clone();void 0!==t&&f.applyMatrix4(t),o.push(f)}for(u=0,d=h.length;u<d;u++)l.push(h[u].clone());for(u=0,d=c.length;u<d;u++){var m,v,g,y=c[u],_=y.vertexNormals,b=y.vertexColors;m=new Fn(y.a+r,y.b+r,y.c+r),m.normal.copy(y.normal),void 0!==n&&m.normal.applyMatrix3(n).normalize();for(var x=0,w=_.length;x<w;x++)v=_[x].clone(),void 0!==n&&v.applyMatrix3(n).normalize(),m.vertexNormals.push(v);m.color.copy(y.color);for(x=0,w=b.length;x<w;x++)g=b[x],m.vertexColors.push(g.clone());m.materialIndex=y.materialIndex+i,a.push(m)}for(u=0,d=e.faceVertexUvs.length;u<d;u++){var S=e.faceVertexUvs[u];void 0===this.faceVertexUvs[u]&&(this.faceVertexUvs[u]=[]);for(x=0,w=S.length;x<w;x++){for(var C=S[x],M=[],E=0,T=C.length;E<T;E++)M.push(C[E].clone());this.faceVertexUvs[u].push(M)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e,t,i,n,r,o,s,a,c={},l=[],h=[],u=4,d=Math.pow(10,u);for(i=0,n=this.vertices.length;i<n;i++)e=this.vertices[i],t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d),void 0===c[t]?(c[t]=i,l.push(this.vertices[i]),h[i]=l.length-1):h[i]=h[c[t]];var p=[];for(i=0,n=this.faces.length;i<n;i++){r=this.faces[i],r.a=h[r.a],r.b=h[r.b],r.c=h[r.c],o=[r.a,r.b,r.c];for(var f=0;f<3;f++)if(o[f]===o[(f+1)%3]){p.push(i);break}}for(i=p.length-1;i>=0;i--){var m=p[i];for(this.faces.splice(m,1),s=0,a=this.faceVertexUvs.length;s<a;s++)this.faceVertexUvs[s].splice(m,1)}var v=this.vertices.length-l.length;return this.vertices=l,v},setFromPoints:function(e){this.vertices=[];for(var t=0,i=e.length;t<i;t++){var n=e[t];this.vertices.push(new yi(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,i=0;i<t;i++)e[i]._id=i;function n(e,t){return e.materialIndex-t.materialIndex}e.sort(n);var r,o,s=this.faceVertexUvs[0],a=this.faceVertexUvs[1];s&&s.length===t&&(r=[]),a&&a.length===t&&(o=[]);for(i=0;i<t;i++){var c=e[i]._id;r&&r.push(s[c]),o&&o.push(a[c])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}for(var n=[],r=0;r<this.vertices.length;r++){var o=this.vertices[r];n.push(o.x,o.y,o.z)}var s=[],a=[],c={},l=[],h={},u=[],d={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],f=!0,m=!1,v=void 0!==this.faceVertexUvs[0][r],g=p.normal.length()>0,y=p.vertexNormals.length>0,_=1!==p.color.r||1!==p.color.g||1!==p.color.b,b=p.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,f),x=M(x,2,m),x=M(x,3,v),x=M(x,4,g),x=M(x,5,y),x=M(x,6,_),x=M(x,7,b),s.push(x),s.push(p.a,p.b,p.c),s.push(p.materialIndex),v){var w=this.faceVertexUvs[0][r];s.push(A(w[0]),A(w[1]),A(w[2]))}if(g&&s.push(E(p.normal)),y){var S=p.vertexNormals;s.push(E(S[0]),E(S[1]),E(S[2]))}if(_&&s.push(T(p.color)),b){var C=p.vertexColors;s.push(T(C[0]),T(C[1]),T(C[2]))}}function M(e,t,i){return i?e|1<<t:e&~(1<<t)}function E(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==c[t]||(c[t]=a.length/3,a.push(e.x,e.y,e.z)),c[t]}function T(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==h[t]||(h[t]=l.length,l.push(e.getHex())),h[t]}function A(e){var t=e.x.toString()+e.y.toString();return void 0!==d[t]||(d[t]=u.length/2,u.push(e.x,e.y)),d[t]}return e.data={},e.data.vertices=n,e.data.normals=a,l.length>0&&(e.data.colors=l),u.length>0&&(e.data.uvs=[u]),e.data.faces=s,e},clone:function(){return(new Ir).copy(this)},copy:function(e){var t,i,n,r,o,s;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var a=e.vertices;for(t=0,i=a.length;t<i;t++)this.vertices.push(a[t].clone());var c=e.colors;for(t=0,i=c.length;t<i;t++)this.colors.push(c[t].clone());var l=e.faces;for(t=0,i=l.length;t<i;t++)this.faces.push(l[t].clone());for(t=0,i=e.faceVertexUvs.length;t<i;t++){var h=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),n=0,r=h.length;n<r;n++){var u=h[n],d=[];for(o=0,s=u.length;o<s;o++){var p=u[o];d.push(p.clone())}this.faceVertexUvs[t].push(d)}}var f=e.morphTargets;for(t=0,i=f.length;t<i;t++){var m={};if(m.name=f[t].name,void 0!==f[t].vertices)for(m.vertices=[],n=0,r=f[t].vertices.length;n<r;n++)m.vertices.push(f[t].vertices[n].clone());if(void 0!==f[t].normals)for(m.normals=[],n=0,r=f[t].normals.length;n<r;n++)m.normals.push(f[t].normals[n].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,i=v.length;t<i;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],n=0,r=v[t].vertexNormals.length;n<r;n++){var y=v[t].vertexNormals[n],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],n=0,r=v[t].faceNormals.length;n<r;n++)g.faceNormals.push(v[t].faceNormals[n].clone());this.morphNormals.push(g)}var b=e.skinWeights;for(t=0,i=b.length;t<i;t++)this.skinWeights.push(b[t].clone());var x=e.skinIndices;for(t=0,i=x.length;t<i;t++)this.skinIndices.push(x[t].clone());var w=e.lineDistances;for(t=0,i=w.length;t<i;t++)this.lineDistances.push(w[t]);var S=e.boundingBox;null!==S&&(this.boundingBox=S.clone());var C=e.boundingSphere;return null!==C&&(this.boundingSphere=C.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Br extends Ir{constructor(e,t,i,n,r,o){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new Nr(e,t,i,n,r,o)),this.mergeVertices()}}class Nr extends hr{constructor(e,t,i,n,r,o){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:r,depthSegments:o};var s=this;e=e||1,t=t||1,i=i||1,n=Math.floor(n)||1,r=Math.floor(r)||1,o=Math.floor(o)||1;var a=[],c=[],l=[],h=[],u=0,d=0;function p(e,t,i,n,r,o,p,f,m,v,g){var y,_,b=o/m,x=p/v,w=o/2,S=p/2,C=f/2,M=m+1,E=v+1,T=0,A=0,L=new yi;for(_=0;_<E;_++){var O=_*x-S;for(y=0;y<M;y++){var R=y*b-w;L[e]=R*n,L[t]=O*r,L[i]=C,c.push(L.x,L.y,L.z),L[e]=0,L[t]=0,L[i]=f>0?1:-1,l.push(L.x,L.y,L.z),h.push(y/m),h.push(1-_/v),T+=1}}for(_=0;_<v;_++)for(y=0;y<m;y++){var k=u+y+M*_,P=u+y+M*(_+1),D=u+(y+1)+M*(_+1),I=u+(y+1)+M*_;a.push(k,P,I),a.push(P,D,I),A+=6}s.addGroup(d,A,g),d+=A,u+=T}p("z","y","x",-1,-1,i,t,e,o,r,0),p("z","y","x",1,-1,i,t,-e,o,r,1),p("x","z","y",1,1,e,i,t,n,o,2),p("x","z","y",1,-1,e,i,-t,n,o,3),p("x","y","z",1,-1,e,t,i,n,r,4),p("x","y","z",-1,-1,e,t,-i,n,r,5),this.setIndex(a),this.setAttribute("position",new Qn(c,3)),this.setAttribute("normal",new Qn(l,3)),this.setAttribute("uv",new Qn(h,2))}}function jr(e){var t={};for(var i in e)for(var n in t[i]={},e[i]){var r=e[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[i][n]=r.clone():Array.isArray(r)?t[i][n]=r.slice():t[i][n]=r}return t}function Hr(e){for(var t={},i=0;i<e.length;i++){var n=jr(e[i]);for(var r in n)t[r]=n[r]}return t}var Fr={clone:jr,merge:Hr},zr="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",Ur="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Vr(e){Un.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=zr,this.fragmentShader=Ur,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Wr(){Wi.call(this),this.type="Camera",this.matrixWorldInverse=new Ei,this.projectionMatrix=new Ei,this.projectionMatrixInverse=new Ei}function Gr(e,t,i,n){Wr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Vr.prototype=Object.create(Un.prototype),Vr.prototype.constructor=Vr,Vr.prototype.isShaderMaterial=!0,Vr.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=jr(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Vr.prototype.toJSON=function(e){var t=Un.prototype.toJSON.call(this,e);for(var i in t.uniforms={},this.uniforms){var n=this.uniforms[i],r=n.value;r&&r.isTexture?t.uniforms[i]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[i]={type:"m4",value:r.toArray()}:t.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var o={};for(var s in this.extensions)!0===this.extensions[s]&&(o[s]=!0);return Object.keys(o).length>0&&(t.extensions=o),t},Wr.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Wr,isCamera:!0,copy:function(e,t){return Wi.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new yi),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Wi.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){Wi.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Gr.prototype=Object.assign(Object.create(Wr.prototype),{constructor:Gr,isPerspectiveCamera:!0,copy:function(e,t){return Wr.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*si.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*si.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*si.RAD2DEG*Math.atan(Math.tan(.5*si.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,i,n,r,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*si.DEG2RAD*this.fov)/this.zoom,i=2*t,n=this.aspect*i,r=-.5*n,o=this.view;if(null!==this.view&&this.view.enabled){var s=o.fullWidth,a=o.fullHeight;r+=o.offsetX*n/s,t-=o.offsetY*i/a,n*=o.width/s,i*=o.height/a}var c=this.filmOffset;0!==c&&(r+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,t,t-i,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Wi.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var $r=90,qr=1;function Xr(e,t,i,n){Wi.call(this),this.type="CubeCamera";var r=new Gr($r,qr,e,t);r.up.set(0,-1,0),r.lookAt(new yi(1,0,0)),this.add(r);var o=new Gr($r,qr,e,t);o.up.set(0,-1,0),o.lookAt(new yi(-1,0,0)),this.add(o);var s=new Gr($r,qr,e,t);s.up.set(0,0,1),s.lookAt(new yi(0,1,0)),this.add(s);var a=new Gr($r,qr,e,t);a.up.set(0,0,-1),a.lookAt(new yi(0,-1,0)),this.add(a);var c=new Gr($r,qr,e,t);c.up.set(0,-1,0),c.lookAt(new yi(0,0,1)),this.add(c);var l=new Gr($r,qr,e,t);l.up.set(0,-1,0),l.lookAt(new yi(0,0,-1)),this.add(l),n=n||{format:Le,magFilter:pe,minFilter:pe},this.renderTarget=new Yr(i,n),this.renderTarget.texture.name="CubeCamera",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var i=e.getRenderTarget(),n=this.renderTarget,h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,s),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,c),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(i)},this.clear=function(e,t,i,n){for(var r=e.getRenderTarget(),o=this.renderTarget,s=0;s<6;s++)e.setRenderTarget(o,s),e.clear(t,i,n);e.setRenderTarget(r)}}function Yr(e,t,i){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=i),pi.call(this,e,e,t)}function Zr(e,t,i,n,r,o,s,a,c,l,h,u){ui.call(this,null,o,s,a,c,l,n,r,h,u),this.image={data:e||null,width:t||1,height:i||1},this.magFilter=void 0!==c?c:he,this.minFilter=void 0!==l?l:he,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Xr.prototype=Object.create(Wi.prototype),Xr.prototype.constructor=Xr,Yr.prototype=Object.create(pi.prototype),Yr.prototype.constructor=Yr,Yr.prototype.isWebGLCubeRenderTarget=!0,Yr.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var i=new Gi,n={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},r=new Vr({type:"CubemapFromEquirect",uniforms:jr(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:u,blending:f});r.uniforms.tEquirect.value=t;var o=new Ar(new Nr(5,5,5),r);i.add(o);var s=new Xr(1,10,1);return s.renderTarget=this,s.renderTarget.texture.name="CubeCameraTexture",s.update(e,i),o.geometry.dispose(),o.material.dispose(),this},Zr.prototype=Object.create(ui.prototype),Zr.prototype.constructor=Zr,Zr.prototype.isDataTexture=!0;var Jr=new ln,Kr=new yi;function Qr(e,t,i,n,r,o){this.planes=[void 0!==e?e:new xn,void 0!==t?t:new xn,void 0!==i?i:new xn,void 0!==n?n:new xn,void 0!==r?r:new xn,void 0!==o?o:new xn]}Object.assign(Qr.prototype,{set:function(e,t,i,n,r,o){var s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(i),s[3].copy(n),s[4].copy(r),s[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromProjectionMatrix:function(e){var t=this.planes,i=e.elements,n=i[0],r=i[1],o=i[2],s=i[3],a=i[4],c=i[5],l=i[6],h=i[7],u=i[8],d=i[9],p=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return t[0].setComponents(s-n,h-a,f-u,y-m).normalize(),t[1].setComponents(s+n,h+a,f+u,y+m).normalize(),t[2].setComponents(s+r,h+c,f+d,y+v).normalize(),t[3].setComponents(s-r,h-c,f-d,y-v).normalize(),t[4].setComponents(s-o,h-l,f-p,y-g).normalize(),t[5].setComponents(s+o,h+l,f+p,y+g).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Jr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Jr)},intersectsSprite:function(e){return Jr.center.set(0,0,0),Jr.radius=.7071067811865476,Jr.applyMatrix4(e.matrixWorld),this.intersectsSphere(Jr)},intersectsSphere:function(e){for(var t=this.planes,i=e.center,n=-e.radius,r=0;r<6;r++){var o=t[r].distanceToPoint(i);if(o<n)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,i=0;i<6;i++){var n=t[i];if(Kr.x=n.normal.x>0?e.max.x:e.min.x,Kr.y=n.normal.y>0?e.max.y:e.min.y,Kr.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(Kr)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}});var eo={common:{diffuse:{value:new Bn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ci},uv2Transform:{value:new ci},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ai(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Bn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Bn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new ci}},sprite:{diffuse:{value:new Bn(15658734)},opacity:{value:1},center:{value:new ai(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new ci}}};function to(){var e=null,t=!1,i=null;function n(r,o){!1!==t&&(i(r,o),e.requestAnimationFrame(n))}return{start:function(){!0!==t&&null!==i&&(e.requestAnimationFrame(n),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){i=e},setContext:function(t){e=t}}}function io(e,t){var i=t.isWebGL2,n=new WeakMap;function r(t,i){var n=t.array,r=t.usage,o=e.createBuffer();e.bindBuffer(i,o),e.bufferData(i,n,r),t.onUploadCallback();var s=5126;return n instanceof Float32Array?s=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?s=5123:n instanceof Int16Array?s=5122:n instanceof Uint32Array?s=5125:n instanceof Int32Array?s=5124:n instanceof Int8Array?s=5120:n instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:n.BYTES_PER_ELEMENT,version:t.version}}function o(t,n,r){var o=n.array,s=n.updateRange;e.bindBuffer(r,t),-1===s.count?e.bufferSubData(r,0,o):(i?e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o,s.offset,s.count):e.bufferSubData(r,s.offset*o.BYTES_PER_ELEMENT,o.subarray(s.offset,s.offset+s.count)),s.count=-1)}function s(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)}function a(t){t.isInterleavedBufferAttribute&&(t=t.data);var i=n.get(t);i&&(e.deleteBuffer(i.buffer),n.delete(t))}function c(e,t){e.isInterleavedBufferAttribute&&(e=e.data);var i=n.get(e);void 0===i?n.set(e,r(e,t)):i.version<e.version&&(o(i.buffer,e,t),i.version=e.version)}return{get:s,remove:a,update:c}}function no(e,t,i,n){Ir.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new ro(e,t,i,n)),this.mergeVertices()}function ro(e,t,i,n){hr.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n},e=e||1,t=t||1;var r,o,s=e/2,a=t/2,c=Math.floor(i)||1,l=Math.floor(n)||1,h=c+1,u=l+1,d=e/c,p=t/l,f=[],m=[],v=[],g=[];for(o=0;o<u;o++){var y=o*p-a;for(r=0;r<h;r++){var _=r*d-s;m.push(_,-y,0),v.push(0,0,1),g.push(r/c),g.push(1-o/l)}}for(o=0;o<l;o++)for(r=0;r<c;r++){var b=r+h*o,x=r+h*(o+1),w=r+1+h*(o+1),S=r+1+h*o;f.push(b,x,S),f.push(x,w,S)}this.setIndex(f),this.setAttribute("position",new Qn(m,3)),this.setAttribute("normal",new Qn(v,3)),this.setAttribute("uv",new Qn(g,2))}no.prototype=Object.create(Ir.prototype),no.prototype.constructor=no,ro.prototype=Object.create(hr.prototype),ro.prototype.constructor=ro;var oo="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",so="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",ao="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",co="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",lo="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",ho="vec3 transformed = vec3( position );",uo="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",po="vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",fo="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",mo="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",vo="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",go="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",yo="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",_o="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",bo="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",xo="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",wo="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",So="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",Co="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",Mo="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",Eo="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",To="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",Ao="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",Lo="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",Oo="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ro="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",ko="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",Po="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",Do="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",Io="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",Bo="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",No="#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",jo="#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",Ho="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",Fo="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",zo="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",Uo="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",Vo="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Wo="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",Go="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",$o="#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",qo="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Xo="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",Yo="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Zo="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",Jo="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",Ko="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",Qo="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",es="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",ts="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",is="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",ns="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",rs="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",os="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",ss="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",as="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",cs="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",ls="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",hs="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",us="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",ds="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",ps="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",fs="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",ms="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",vs="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",gs="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",ys="#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",_s="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",bs="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",xs="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",ws="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",Ss="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",Cs="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",Ms="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",Es="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",Ts="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",As="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",Ls="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",Os="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",Rs="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",ks="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Ps="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",Ds="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",Is="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",Bs="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Ns="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",js="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",Hs="#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",Fs="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",zs="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",Us="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Vs="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Ws="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",Gs="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",$s="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",qs="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Xs="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",Ys="#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Zs="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Js="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",Ks="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",Qs="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",ea="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",ta="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",ia="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",na="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",ra="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",oa="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",sa="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",aa="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ca="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",la="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ha="#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",ua="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",da="#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",pa="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",fa="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",ma="#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",va="#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",ga="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",ya="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",_a="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",ba="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",xa="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",wa="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Sa="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Ca="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Ma={alphamap_fragment:oo,alphamap_pars_fragment:so,alphatest_fragment:ao,aomap_fragment:co,aomap_pars_fragment:lo,begin_vertex:ho,beginnormal_vertex:uo,bsdfs:po,bumpmap_pars_fragment:fo,clipping_planes_fragment:mo,clipping_planes_pars_fragment:vo,clipping_planes_pars_vertex:go,clipping_planes_vertex:yo,color_fragment:_o,color_pars_fragment:bo,color_pars_vertex:xo,color_vertex:wo,common:So,cube_uv_reflection_fragment:Co,defaultnormal_vertex:Mo,displacementmap_pars_vertex:Eo,displacementmap_vertex:To,emissivemap_fragment:Ao,emissivemap_pars_fragment:Lo,encodings_fragment:Oo,encodings_pars_fragment:Ro,envmap_fragment:ko,envmap_common_pars_fragment:Po,envmap_pars_fragment:Do,envmap_pars_vertex:Io,envmap_physical_pars_fragment:$o,envmap_vertex:Bo,fog_vertex:No,fog_pars_vertex:jo,fog_fragment:Ho,fog_pars_fragment:Fo,gradientmap_pars_fragment:zo,lightmap_fragment:Uo,lightmap_pars_fragment:Vo,lights_lambert_vertex:Wo,lights_pars_begin:Go,lights_toon_fragment:qo,lights_toon_pars_fragment:Xo,lights_phong_fragment:Yo,lights_phong_pars_fragment:Zo,lights_physical_fragment:Jo,lights_physical_pars_fragment:Ko,lights_fragment_begin:Qo,lights_fragment_maps:es,lights_fragment_end:ts,logdepthbuf_fragment:is,logdepthbuf_pars_fragment:ns,logdepthbuf_pars_vertex:rs,logdepthbuf_vertex:os,map_fragment:ss,map_pars_fragment:as,map_particle_fragment:cs,map_particle_pars_fragment:ls,metalnessmap_fragment:hs,metalnessmap_pars_fragment:us,morphnormal_vertex:ds,morphtarget_pars_vertex:ps,morphtarget_vertex:fs,normal_fragment_begin:ms,normal_fragment_maps:vs,normalmap_pars_fragment:gs,clearcoat_normal_fragment_begin:ys,clearcoat_normal_fragment_maps:_s,clearcoat_pars_fragment:bs,packing:xs,premultiplied_alpha_fragment:ws,project_vertex:Ss,dithering_fragment:Cs,dithering_pars_fragment:Ms,roughnessmap_fragment:Es,roughnessmap_pars_fragment:Ts,shadowmap_pars_fragment:As,shadowmap_pars_vertex:Ls,shadowmap_vertex:Os,shadowmask_pars_fragment:Rs,skinbase_vertex:ks,skinning_pars_vertex:Ps,skinning_vertex:Ds,skinnormal_vertex:Is,specularmap_fragment:Bs,specularmap_pars_fragment:Ns,tonemapping_fragment:js,tonemapping_pars_fragment:Hs,uv_pars_fragment:Fs,uv_pars_vertex:zs,uv_vertex:Us,uv2_pars_fragment:Vs,uv2_pars_vertex:Ws,uv2_vertex:Gs,worldpos_vertex:$s,background_frag:qs,background_vert:Xs,cube_frag:Ys,cube_vert:Zs,depth_frag:Js,depth_vert:Ks,distanceRGBA_frag:Qs,distanceRGBA_vert:ea,equirect_frag:ta,equirect_vert:ia,linedashed_frag:na,linedashed_vert:ra,meshbasic_frag:oa,meshbasic_vert:sa,meshlambert_frag:aa,meshlambert_vert:ca,meshmatcap_frag:la,meshmatcap_vert:ha,meshtoon_frag:ua,meshtoon_vert:da,meshphong_frag:pa,meshphong_vert:fa,meshphysical_frag:ma,meshphysical_vert:va,normal_frag:ga,normal_vert:ya,points_frag:_a,points_vert:ba,shadow_frag:xa,shadow_vert:wa,sprite_frag:Sa,sprite_vert:Ca},Ea={basic:{uniforms:Hr([eo.common,eo.specularmap,eo.envmap,eo.aomap,eo.lightmap,eo.fog]),vertexShader:Ma.meshbasic_vert,fragmentShader:Ma.meshbasic_frag},lambert:{uniforms:Hr([eo.common,eo.specularmap,eo.envmap,eo.aomap,eo.lightmap,eo.emissivemap,eo.fog,eo.lights,{emissive:{value:new Bn(0)}}]),vertexShader:Ma.meshlambert_vert,fragmentShader:Ma.meshlambert_frag},phong:{uniforms:Hr([eo.common,eo.specularmap,eo.envmap,eo.aomap,eo.lightmap,eo.emissivemap,eo.bumpmap,eo.normalmap,eo.displacementmap,eo.fog,eo.lights,{emissive:{value:new Bn(0)},specular:{value:new Bn(1118481)},shininess:{value:30}}]),vertexShader:Ma.meshphong_vert,fragmentShader:Ma.meshphong_frag},standard:{uniforms:Hr([eo.common,eo.envmap,eo.aomap,eo.lightmap,eo.emissivemap,eo.bumpmap,eo.normalmap,eo.displacementmap,eo.roughnessmap,eo.metalnessmap,eo.fog,eo.lights,{emissive:{value:new Bn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ma.meshphysical_vert,fragmentShader:Ma.meshphysical_frag},toon:{uniforms:Hr([eo.common,eo.specularmap,eo.aomap,eo.lightmap,eo.emissivemap,eo.bumpmap,eo.normalmap,eo.displacementmap,eo.gradientmap,eo.fog,eo.lights,{emissive:{value:new Bn(0)},specular:{value:new Bn(1118481)},shininess:{value:30}}]),vertexShader:Ma.meshtoon_vert,fragmentShader:Ma.meshtoon_frag},matcap:{uniforms:Hr([eo.common,eo.bumpmap,eo.normalmap,eo.displacementmap,eo.fog,{matcap:{value:null}}]),vertexShader:Ma.meshmatcap_vert,fragmentShader:Ma.meshmatcap_frag},points:{uniforms:Hr([eo.points,eo.fog]),vertexShader:Ma.points_vert,fragmentShader:Ma.points_frag},dashed:{uniforms:Hr([eo.common,eo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ma.linedashed_vert,fragmentShader:Ma.linedashed_frag},depth:{uniforms:Hr([eo.common,eo.displacementmap]),vertexShader:Ma.depth_vert,fragmentShader:Ma.depth_frag},normal:{uniforms:Hr([eo.common,eo.bumpmap,eo.normalmap,eo.displacementmap,{opacity:{value:1}}]),vertexShader:Ma.normal_vert,fragmentShader:Ma.normal_frag},sprite:{uniforms:Hr([eo.sprite,eo.fog]),vertexShader:Ma.sprite_vert,fragmentShader:Ma.sprite_frag},background:{uniforms:{uvTransform:{value:new ci},t2D:{value:null}},vertexShader:Ma.background_vert,fragmentShader:Ma.background_frag},cube:{uniforms:Hr([eo.envmap,{opacity:{value:1}}]),vertexShader:Ma.cube_vert,fragmentShader:Ma.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ma.equirect_vert,fragmentShader:Ma.equirect_frag},distanceRGBA:{uniforms:Hr([eo.common,eo.displacementmap,{referencePosition:{value:new yi},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ma.distanceRGBA_vert,fragmentShader:Ma.distanceRGBA_frag},shadow:{uniforms:Hr([eo.lights,eo.fog,{color:{value:new Bn(0)},opacity:{value:1}}]),vertexShader:Ma.shadow_vert,fragmentShader:Ma.shadow_frag}};function Ta(e,t,i,n){var r,o,s=new Bn(0),a=0,c=null,l=0,d=null;function p(t,n,p,m){var v=n.background,g=e.xr,y=g.getSession&&g.getSession();if(y&&"additive"===y.environmentBlendMode&&(v=null),null===v?f(s,a):v&&v.isColor&&(f(v,1),m=!0),(e.autoClear||m)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.isWebGLCubeRenderTarget||v.mapping===oe)){void 0===o&&(o=new Ar(new Nr(1,1,1),new Vr({type:"BackgroundCubeMaterial",uniforms:jr(Ea.cube.uniforms),vertexShader:Ea.cube.vertexShader,fragmentShader:Ea.cube.fragmentShader,side:u,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(o));var _=v.isWebGLCubeRenderTarget?v.texture:v;o.material.uniforms.envMap.value=_,o.material.uniforms.flipEnvMap.value=_.isCubeTexture?-1:1,c===v&&l===_.version&&d===e.toneMapping||(o.material.needsUpdate=!0,c=v,l=_.version,d=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null)}else v&&v.isTexture&&(void 0===r&&(r=new Ar(new ro(2,2),new Vr({type:"BackgroundMaterial",uniforms:jr(Ea.background.uniforms),vertexShader:Ea.background.vertexShader,fragmentShader:Ea.background.fragmentShader,side:h,depthTest:!1,depthWrite:!1,fog:!1})),r.geometry.deleteAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(r)),r.material.uniforms.t2D.value=v,!0===v.matrixAutoUpdate&&v.updateMatrix(),r.material.uniforms.uvTransform.value.copy(v.matrix),c===v&&l===v.version&&d===e.toneMapping||(r.material.needsUpdate=!0,c=v,l=v.version,d=e.toneMapping),t.unshift(r,r.geometry,r.material,0,0,null))}function f(e,i){t.buffers.color.setClear(e.r,e.g,e.b,i,n)}return{getClearColor:function(){return s},setClearColor:function(e,t){s.set(e),a=void 0!==t?t:1,f(s,a)},getClearAlpha:function(){return a},setClearAlpha:function(e){a=e,f(s,a)},render:p}}function Aa(e,t,i,n){var r,o=n.isWebGL2;function s(e){r=e}function a(t,n){e.drawArrays(r,t,n),i.update(n,r)}function c(n,s,a,c){if(0!==c){var l,h;if(o)l=e,h="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[h](r,s,a,c),i.update(a,r,c)}}this.setMode=s,this.render=a,this.renderInstances=c}function La(e,t,i){var n;function r(){if(void 0!==n)return n;var i=t.get("EXT_texture_filter_anisotropic");return n=null!==i?e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,n}function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var s="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==i.precision?i.precision:"highp",c=o(a);c!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",c,"instead."),a=c);var l=!0===i.logarithmicDepthBuffer,h=e.getParameter(34930),u=e.getParameter(35660),d=e.getParameter(3379),p=e.getParameter(34076),f=e.getParameter(34921),m=e.getParameter(36347),v=e.getParameter(36348),g=e.getParameter(36349),y=u>0,_=s||!!t.get("OES_texture_float"),b=y&&_,x=s?e.getParameter(36183):0;return{isWebGL2:s,getMaxAnisotropy:r,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:l,maxTextures:h,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:_,floatVertexTextures:b,maxSamples:x}}function Oa(){var e=this,t=null,i=0,n=!1,r=!1,o=new xn,s=new ci,a={value:null,needsUpdate:!1};function c(){a.value!==t&&(a.value=t,a.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function l(t,i,n,r){var c=null!==t?t.length:0,l=null;if(0!==c){if(l=a.value,!0!==r||null===l){var h=n+4*c,u=i.matrixWorldInverse;s.getNormalMatrix(u),(null===l||l.length<h)&&(l=new Float32Array(h));for(var d=0,p=n;d!==c;++d,p+=4)o.copy(t[d]).applyMatrix4(u,s),o.normal.toArray(l,p),l[p+3]=o.constant}a.value=l,a.needsUpdate=!0}return e.numPlanes=c,e.numIntersection=0,l}this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(e,r,o){var s=0!==e.length||r||0!==i||n;return n=r,t=l(e,o,0),i=e.length,s},this.beginShadows=function(){r=!0,l(null)},this.endShadows=function(){r=!1,c()},this.setState=function(e,o,s,h,u,d){if(!n||null===e||0===e.length||r&&!s)r?l(null):c();else{var p=r?0:i,f=4*p,m=u.clippingState||null;a.value=m,m=l(e,h,f,d);for(var v=0;v!==f;++v)m[v]=t[v];u.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=p}}}function Ra(e){var t={};return{get:function(i){if(void 0!==t[i])return t[i];var n;switch(i){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(i)}return null===n&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),t[i]=n,n}}}function ka(e,t,i){var n=new WeakMap,r=new WeakMap;function o(e){var s=e.target,a=n.get(s);for(var c in null!==a.index&&t.remove(a.index),a.attributes)t.remove(a.attributes[c]);s.removeEventListener("dispose",o),n.delete(s);var l=r.get(a);l&&(t.remove(l),r.delete(a)),i.memory.geometries--}function s(e,t){var r=n.get(t);return r||(t.addEventListener("dispose",o),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new hr).setFromObject(e)),r=t._bufferGeometry),n.set(t,r),i.memory.geometries++,r)}function a(e){var i=e.index,n=e.attributes;for(var r in null!==i&&t.update(i,34963),n)t.update(n[r],34962);var o=e.morphAttributes;for(var r in o)for(var s=o[r],a=0,c=s.length;a<c;a++)t.update(s[a],34962)}function c(e){var i=[],n=e.index,o=e.attributes.position,s=0;if(null!==n){var a=n.array;s=n.version;for(var c=0,l=a.length;c<l;c+=3){var h=a[c+0],u=a[c+1],d=a[c+2];i.push(h,u,u,d,d,h)}}else{a=o.array;s=o.version;for(c=0,l=a.length/3-1;c<l;c+=3){h=c+0,u=c+1,d=c+2;i.push(h,u,u,d,d,h)}}var p=new(ir(i)>65535?Kn:Zn)(i,1);p.version=s,t.update(p,34963);var f=r.get(e);f&&t.remove(f),r.set(e,p)}function l(e){var t=r.get(e);if(t){var i=e.index;null!==i&&t.version<i.version&&c(e)}else c(e);return r.get(e)}return{get:s,update:a,getWireframeAttribute:l}}function Pa(e,t,i,n){var r,o,s,a=n.isWebGL2;function c(e){r=e}function l(e){o=e.type,s=e.bytesPerElement}function h(t,n){e.drawElements(r,n,o,t*s),i.update(n,r)}function u(n,c,l,h){if(0!==h){var u,d;if(a)u=e,d="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[d](r,l,o,c*s,h),i.update(l,r,h)}}this.setMode=c,this.setIndex=l,this.render=h,this.renderInstances=u}function Da(e){var t={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function n(e,t,n){switch(n=n||1,i.calls++,t){case 4:i.triangles+=n*(e/3);break;case 1:i.lines+=n*(e/2);break;case 3:i.lines+=n*(e-1);break;case 2:i.lines+=n*e;break;case 0:i.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t);break}}function r(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:t,render:i,programs:null,autoReset:!0,reset:r,update:n}}function Ia(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Ba(e){var t={},i=new Float32Array(8);function n(n,r,o,s){var a=n.morphTargetInfluences,c=void 0===a?0:a.length,l=t[r.id];if(void 0===l){l=[];for(var h=0;h<c;h++)l[h]=[h,0];t[r.id]=l}var u=o.morphTargets&&r.morphAttributes.position,d=o.morphNormals&&r.morphAttributes.normal;for(h=0;h<c;h++){var p=l[h];0!==p[1]&&(u&&r.deleteAttribute("morphTarget"+h),d&&r.deleteAttribute("morphNormal"+h))}for(h=0;h<c;h++){p=l[h];p[0]=h,p[1]=a[h]}l.sort(Ia);var f=0;for(h=0;h<8;h++){p=l[h];if(p){var m=p[0],v=p[1];if(v){u&&r.setAttribute("morphTarget"+h,u[m]),d&&r.setAttribute("morphNormal"+h,d[m]),i[h]=v,f+=v;continue}}i[h]=0}var g=r.morphTargetsRelative?1:1-f;s.getUniforms().setValue(e,"morphTargetBaseInfluence",g),s.getUniforms().setValue(e,"morphTargetInfluences",i)}return{update:n}}function Na(e,t,i,n){var r=new WeakMap;function o(e){var o=n.render.frame,s=e.geometry,a=t.get(e,s);return r.get(a)!==o&&(s.isGeometry&&a.updateFromObject(e),t.update(a),r.set(a,o)),e.isInstancedMesh&&i.update(e.instanceMatrix,34962),a}function s(){r=new WeakMap}return{update:o,dispose:s}}function ja(e,t,i,n,r,o,s,a,c,l){e=void 0!==e?e:[],t=void 0!==t?t:ee,s=void 0!==s?s:Le,ui.call(this,e,t,i,n,r,o,s,a,c,l),this.flipY=!1}function Ha(e,t,i,n){ui.call(this,null),this.image={data:e||null,width:t||1,height:i||1,depth:n||1},this.magFilter=he,this.minFilter=he,this.wrapR=ce,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Fa(e,t,i,n){ui.call(this,null),this.image={data:e||null,width:t||1,height:i||1,depth:n||1},this.magFilter=he,this.minFilter=he,this.wrapR=ce,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Ea.physical={uniforms:Hr([Ea.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ai(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Bn(0)},transparency:{value:0}}]),vertexShader:Ma.meshphysical_vert,fragmentShader:Ma.meshphysical_frag},ja.prototype=Object.create(ui.prototype),ja.prototype.constructor=ja,ja.prototype.isCubeTexture=!0,Object.defineProperty(ja.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Ha.prototype=Object.create(ui.prototype),Ha.prototype.constructor=Ha,Ha.prototype.isDataTexture2DArray=!0,Fa.prototype=Object.create(ui.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isDataTexture3D=!0;var za=new ui,Ua=new Ha,Va=new Fa,Wa=new ja,Ga=[],$a=[],qa=new Float32Array(16),Xa=new Float32Array(9),Ya=new Float32Array(4);function Za(e,t,i){var n=e[0];if(n<=0||n>0)return e;var r=t*i,o=Ga[r];if(void 0===o&&(o=new Float32Array(r),Ga[r]=o),0!==t){n.toArray(o,0);for(var s=1,a=0;s!==t;++s)a+=i,e[s].toArray(o,a)}return o}function Ja(e,t){if(e.length!==t.length)return!1;for(var i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Ka(e,t){for(var i=0,n=t.length;i<n;i++)e[i]=t[i]}function Qa(e,t){var i=$a[t];void 0===i&&(i=new Int32Array(t),$a[t]=i);for(var n=0;n!==t;++n)i[n]=e.allocateTextureUnit();return i}function ec(e,t){var i=this.cache;i[0]!==t&&(e.uniform1f(this.addr,t),i[0]=t)}function tc(e,t){var i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Ja(i,t))return;e.uniform2fv(this.addr,t),Ka(i,t)}}function ic(e,t){var i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y&&i[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(void 0!==t.r)i[0]===t.r&&i[1]===t.g&&i[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(Ja(i,t))return;e.uniform3fv(this.addr,t),Ka(i,t)}}function nc(e,t){var i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y&&i[2]===t.z&&i[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Ja(i,t))return;e.uniform4fv(this.addr,t),Ka(i,t)}}function rc(e,t){var i=this.cache,n=t.elements;if(void 0===n){if(Ja(i,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ka(i,t)}else{if(Ja(i,n))return;Ya.set(n),e.uniformMatrix2fv(this.addr,!1,Ya),Ka(i,n)}}function oc(e,t){var i=this.cache,n=t.elements;if(void 0===n){if(Ja(i,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ka(i,t)}else{if(Ja(i,n))return;Xa.set(n),e.uniformMatrix3fv(this.addr,!1,Xa),Ka(i,n)}}function sc(e,t){var i=this.cache,n=t.elements;if(void 0===n){if(Ja(i,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ka(i,t)}else{if(Ja(i,n))return;qa.set(n),e.uniformMatrix4fv(this.addr,!1,qa),Ka(i,n)}}function ac(e,t,i){var n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.safeSetTexture2D(t||za,r)}function cc(e,t,i){var n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture2DArray(t||Ua,r)}function lc(e,t,i){var n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture3D(t||Va,r)}function hc(e,t,i){var n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.safeSetTextureCube(t||Wa,r)}function uc(e,t){var i=this.cache;i[0]!==t&&(e.uniform1i(this.addr,t),i[0]=t)}function dc(e,t){var i=this.cache;Ja(i,t)||(e.uniform2iv(this.addr,t),Ka(i,t))}function pc(e,t){var i=this.cache;Ja(i,t)||(e.uniform3iv(this.addr,t),Ka(i,t))}function fc(e,t){var i=this.cache;Ja(i,t)||(e.uniform4iv(this.addr,t),Ka(i,t))}function mc(e,t){var i=this.cache;i[0]!==t&&(e.uniform1ui(this.addr,t),i[0]=t)}function vc(e){switch(e){case 5126:return ec;case 35664:return tc;case 35665:return ic;case 35666:return nc;case 35674:return rc;case 35675:return oc;case 35676:return sc;case 5124:case 35670:return uc;case 35667:case 35671:return dc;case 35668:case 35672:return pc;case 35669:case 35673:return fc;case 5125:return mc;case 35678:case 36198:case 36298:case 36306:case 35682:return ac;case 35679:case 36299:case 36307:return lc;case 35680:case 36300:case 36308:case 36293:return hc;case 36289:case 36303:case 36311:case 36292:return cc}}function gc(e,t){e.uniform1fv(this.addr,t)}function yc(e,t){e.uniform1iv(this.addr,t)}function _c(e,t){e.uniform2iv(this.addr,t)}function bc(e,t){e.uniform3iv(this.addr,t)}function xc(e,t){e.uniform4iv(this.addr,t)}function wc(e,t){var i=Za(t,this.size,2);e.uniform2fv(this.addr,i)}function Sc(e,t){var i=Za(t,this.size,3);e.uniform3fv(this.addr,i)}function Cc(e,t){var i=Za(t,this.size,4);e.uniform4fv(this.addr,i)}function Mc(e,t){var i=Za(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,i)}function Ec(e,t){var i=Za(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,i)}function Tc(e,t){var i=Za(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,i)}function Ac(e,t,i){var n=t.length,r=Qa(i,n);e.uniform1iv(this.addr,r);for(var o=0;o!==n;++o)i.safeSetTexture2D(t[o]||za,r[o])}function Lc(e,t,i){var n=t.length,r=Qa(i,n);e.uniform1iv(this.addr,r);for(var o=0;o!==n;++o)i.safeSetTextureCube(t[o]||Wa,r[o])}function Oc(e){switch(e){case 5126:return gc;case 35664:return wc;case 35665:return Sc;case 35666:return Cc;case 35674:return Mc;case 35675:return Ec;case 35676:return Tc;case 5124:case 35670:return yc;case 35667:case 35671:return _c;case 35668:case 35672:return bc;case 35669:case 35673:return xc;case 35678:case 36198:case 36298:case 36306:case 35682:return Ac;case 35680:case 36300:case 36308:case 36293:return Lc}}function Rc(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=vc(t.type)}function kc(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=Oc(t.type)}function Pc(e){this.id=e,this.seq=[],this.map={}}kc.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Ka(t,e)},Pc.prototype.setValue=function(e,t,i){for(var n=this.seq,r=0,o=n.length;r!==o;++r){var s=n[r];s.setValue(e,t[s.id],i)}};var Dc=/([\w\d_]+)(\])?(\[|\.)?/g;function Ic(e,t){e.seq.push(t),e.map[t.id]=t}function Bc(e,t,i){var n=e.name,r=n.length;Dc.lastIndex=0;while(1){var o=Dc.exec(n),s=Dc.lastIndex,a=o[1],c="]"===o[2],l=o[3];if(c&&(a|=0),void 0===l||"["===l&&s+2===r){Ic(i,void 0===l?new Rc(a,e,t):new kc(a,e,t));break}var h=i.map,u=h[a];void 0===u&&(u=new Pc(a),Ic(i,u)),i=u}}function Nc(e,t){this.seq=[],this.map={};for(var i=e.getProgramParameter(t,35718),n=0;n<i;++n){var r=e.getActiveUniform(t,n),o=e.getUniformLocation(t,r.name);Bc(r,o,this)}}function jc(e,t,i){var n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),n}Nc.prototype.setValue=function(e,t,i,n){var r=this.map[t];void 0!==r&&r.setValue(e,i,n)},Nc.prototype.setOptional=function(e,t,i){var n=t[i];void 0!==n&&this.setValue(e,i,n)},Nc.upload=function(e,t,i,n){for(var r=0,o=t.length;r!==o;++r){var s=t[r],a=i[s.id];!1!==a.needsUpdate&&s.setValue(e,a.value,n)}},Nc.seqWithValue=function(e,t){for(var i=[],n=0,r=e.length;n!==r;++n){var o=e[n];o.id in t&&i.push(o)}return i};var Hc=0;function Fc(e){for(var t=e.split("\n"),i=0;i<t.length;i++)t[i]=i+1+": "+t[i];return t.join("\n")}function zc(e){switch(e){case Ft:return["Linear","( value )"];case zt:return["sRGB","( value )"];case Vt:return["RGBE","( value )"];case Gt:return["RGBM","( value, 7.0 )"];case $t:return["RGBM","( value, 16.0 )"];case qt:return["RGBD","( value, 256.0 )"];case Ut:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case Wt:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+e)}}function Uc(e,t,i){var n=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(n&&""===r)return"";var o=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+i+"\n"+r+Fc(o)}function Vc(e,t){var i=zc(t);return"vec4 "+e+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Wc(e,t){var i=zc(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Gc(e,t){var i;switch(t){case X:i="Linear";break;case Y:i="Reinhard";break;case Z:i="Uncharted2";break;case J:i="OptimizedCineon";break;case K:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function $c(e){var t=[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return t.filter(Yc).join("\n")}function qc(e){var t=[];for(var i in e){var n=e[i];!1!==n&&t.push("#define "+i+" "+n)}return t.join("\n")}function Xc(e,t){for(var i={},n=e.getProgramParameter(t,35721),r=0;r<n;r++){var o=e.getActiveAttrib(t,r),s=o.name;i[s]=e.getAttribLocation(t,s)}return i}function Yc(e){return""!==e}function Zc(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Jc(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Kc=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qc(e){return e.replace(Kc,el)}function el(e,t){var i=Ma[t];if(void 0===i)throw new Error("Can not resolve #include <"+t+">");return Qc(i)}var tl=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,il=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function nl(e){return e.replace(il,ol).replace(tl,rl)}function rl(e,t,i,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),ol(e,t,i,n)}function ol(e,t,i,n){for(var r="",o=parseInt(t);o<parseInt(i);o++)r+=n.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function sl(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function al(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===a?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===c?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===l&&(t="SHADOWMAP_TYPE_VSM"),t}function cl(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case ee:case te:t="ENVMAP_TYPE_CUBE";break;case oe:case se:t="ENVMAP_TYPE_CUBE_UV";break;case ie:case ne:t="ENVMAP_TYPE_EQUIREC";break;case re:t="ENVMAP_TYPE_SPHERE";break}return t}function ll(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case te:case ne:t="ENVMAP_MODE_REFRACTION";break}return t}function hl(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case W:t="ENVMAP_BLENDING_MULTIPLY";break;case G:t="ENVMAP_BLENDING_MIX";break;case $:t="ENVMAP_BLENDING_ADD";break}return t}function ul(e,t,i){var n,r,o=e.getContext(),s=i.defines,a=i.vertexShader,c=i.fragmentShader,l=al(i),h=cl(i),u=ll(i),d=hl(i),p=e.gammaFactor>0?e.gammaFactor:1,f=i.isWebGL2?"":$c(i),m=qc(s),v=o.createProgram();if(i.isRawShaderMaterial?(n=[m].filter(Yc).join("\n"),n.length>0&&(n+="\n"),r=[f,m].filter(Yc).join("\n"),r.length>0&&(r+="\n")):(n=[sl(i),"#define SHADER_NAME "+i.shaderName,m,i.instancing?"#define USE_INSTANCING":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+u:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Yc).join("\n"),r=[f,sl(i),"#define SHADER_NAME "+i.shaderName,m,i.alphaTest?"#define ALPHATEST "+i.alphaTest+(i.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+h:"",i.envMap?"#define "+u:"",i.envMap?"#define "+d:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.sheen?"#define USE_SHEEN":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==q?"#define TONE_MAPPING":"",i.toneMapping!==q?Ma["tonemapping_pars_fragment"]:"",i.toneMapping!==q?Gc("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.outputEncoding||i.mapEncoding||i.matcapEncoding||i.envMapEncoding||i.emissiveMapEncoding||i.lightMapEncoding?Ma["encodings_pars_fragment"]:"",i.mapEncoding?Vc("mapTexelToLinear",i.mapEncoding):"",i.matcapEncoding?Vc("matcapTexelToLinear",i.matcapEncoding):"",i.envMapEncoding?Vc("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMapEncoding?Vc("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.lightMapEncoding?Vc("lightMapTexelToLinear",i.lightMapEncoding):"",i.outputEncoding?Wc("linearToOutputTexel",i.outputEncoding):"",i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Yc).join("\n")),a=Qc(a),a=Zc(a,i),a=Jc(a,i),c=Qc(c),c=Zc(c,i),c=Jc(c,i),a=nl(a),c=nl(c),i.isWebGL2&&!i.isRawShaderMaterial){var g=!1,y=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==a.match(y)&&null!==c.match(y)&&(g=!0,a=a.replace(y,""),c=c.replace(y,"")),n=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+n,r=["#version 300 es\n","#define varying in",g?"":"out highp vec4 pc_fragColor;",g?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+r}var _,b,x=n+a,w=r+c,S=jc(o,35633,x),C=jc(o,35632,w);if(o.attachShader(v,S),o.attachShader(v,C),void 0!==i.index0AttributeName?o.bindAttribLocation(v,0,i.index0AttributeName):!0===i.morphTargets&&o.bindAttribLocation(v,0,"position"),o.linkProgram(v),e.debug.checkShaderErrors){var M=o.getProgramInfoLog(v).trim(),E=o.getShaderInfoLog(S).trim(),T=o.getShaderInfoLog(C).trim(),A=!0,L=!0;if(!1===o.getProgramParameter(v,35714)){A=!1;var O=Uc(o,S,"vertex"),R=Uc(o,C,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(v,35715),"gl.getProgramInfoLog",M,O,R)}else""!==M?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",M):""!==E&&""!==T||(L=!1);L&&(this.diagnostics={runnable:A,programLog:M,vertexShader:{log:E,prefix:n},fragmentShader:{log:T,prefix:r}})}return o.deleteShader(S),o.deleteShader(C),this.getUniforms=function(){return void 0===_&&(_=new Nc(o,v)),_},this.getAttributes=function(){return void 0===b&&(b=Xc(o,v)),b},this.destroy=function(){o.deleteProgram(v),this.program=void 0},this.name=i.shaderName,this.id=Hc++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=S,this.fragmentShader=C,this}function dl(e,t,i){var n=[],r=i.isWebGL2,o=i.logarithmicDepthBuffer,s=i.floatVertexTextures,a=i.precision,c=i.maxVertexUniforms,l=i.vertexTextures,h={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function f(e,t){var i;if(t){var n=Ea[t];i={name:e.type,uniforms:Fr.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}}else i={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};return i}function m(e){var t=e.skeleton,i=t.bones;if(s)return 1024;var n=c,r=Math.floor((n-20)/4),o=Math.min(r,i.length);return o<i.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+i.length+" bones. This GPU supports "+o+"."),0):o}function v(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=Ft,t}this.getParameters=function(n,c,p,g,y,_,b){var x=g.fog,w=n.isMeshStandardMaterial?g.environment:null,S=n.envMap||w,C=h[n.type],M=b.isSkinnedMesh?m(b):0;null!==n.precision&&(a=i.getMaxPrecision(n.precision),a!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",a,"instead."));var E=f(n,C);n.onBeforeCompile(E,e);var T=e.getRenderTarget(),A={isWebGL2:r,shaderID:C,shaderName:E.name,uniforms:E.uniforms,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,defines:n.defines,isRawShaderMaterial:n.isRawShaderMaterial,isShaderMaterial:n.isShaderMaterial,precision:a,instancing:!0===b.isInstancedMesh,supportsVertexTextures:l,outputEncoding:null!==T?v(T.texture):e.outputEncoding,map:!!n.map,mapEncoding:v(n.map),matcap:!!n.matcap,matcapEncoding:v(n.matcap),envMap:!!S,envMapMode:S&&S.mapping,envMapEncoding:v(S),envMapCubeUV:!!S&&(S.mapping===oe||S.mapping===se),lightMap:!!n.lightMap,lightMapEncoding:v(n.lightMap),aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:v(n.emissiveMap),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,objectSpaceNormalMap:n.normalMapType===Jt,tangentSpaceNormalMap:n.normalMapType===Zt,clearcoatMap:!!n.clearcoatMap,clearcoatRoughnessMap:!!n.clearcoatRoughnessMap,clearcoatNormalMap:!!n.clearcoatNormalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,gradientMap:!!n.gradientMap,sheen:!!n.sheen,combine:n.combine,vertexTangents:n.normalMap&&n.vertexTangents,vertexColors:n.vertexColors,vertexUvs:!!n.map||!!n.bumpMap||!!n.normalMap||!!n.specularMap||!!n.alphaMap||!!n.emissiveMap||!!n.roughnessMap||!!n.metalnessMap||!!n.clearcoatMap||!!n.clearcoatRoughnessMap||!!n.clearcoatNormalMap||!!n.displacementMap,uvsVertexOnly:!(n.map||n.bumpMap||n.normalMap||n.specularMap||n.alphaMap||n.emissiveMap||n.roughnessMap||n.metalnessMap||n.clearcoatNormalMap)&&!!n.displacementMap,fog:!!x,useFog:n.fog,fogExp2:x&&x.isFogExp2,flatShading:n.flatShading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:o,skinning:n.skinning&&M>0,maxBones:M,useVertexTexture:s,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:c.directional.length,numPointLights:c.point.length,numSpotLights:c.spot.length,numRectAreaLights:c.rectArea.length,numHemiLights:c.hemi.length,numDirLightShadows:c.directionalShadowMap.length,numPointLightShadows:c.pointShadowMap.length,numSpotLightShadows:c.spotShadowMap.length,numClippingPlanes:y,numClipIntersection:_,dithering:n.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:n.toneMapped?e.toneMapping:q,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:n.side===d,flipSided:n.side===u,depthPacking:void 0!==n.depthPacking&&n.depthPacking,index0AttributeName:n.index0AttributeName,extensionDerivatives:n.extensions&&n.extensions.derivatives,extensionFragDepth:n.extensions&&n.extensions.fragDepth,extensionDrawBuffers:n.extensions&&n.extensions.drawBuffers,extensionShaderTextureLOD:n.extensions&&n.extensions.shaderTextureLOD,rendererExtensionFragDepth:r||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:r||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:r||null!==t.get("EXT_shader_texture_lod"),onBeforeCompile:n.onBeforeCompile};return A},this.getProgramCacheKey=function(t){var i=[];if(t.shaderID?i.push(t.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)i.push(n),i.push(t.defines[n]);if(void 0===t.isRawShaderMaterial){for(var r=0;r<p.length;r++)i.push(t[p[r]]);i.push(e.outputEncoding),i.push(e.gammaFactor)}return i.push(t.onBeforeCompile.toString()),i.join()},this.acquireProgram=function(t,i){for(var r,o=0,s=n.length;o<s;o++){var a=n[o];if(a.cacheKey===i){r=a,++r.usedTimes;break}}return void 0===r&&(r=new ul(e,i,t),n.push(r)),r},this.releaseProgram=function(e){if(0===--e.usedTimes){var t=n.indexOf(e);n[t]=n[n.length-1],n.pop(),e.destroy()}},this.programs=n}function pl(){var e=new WeakMap;function t(t){var i=e.get(t);return void 0===i&&(i={},e.set(t,i)),i}function i(t){e.delete(t)}function n(t,i,n){e.get(t)[i]=n}function r(){e=new WeakMap}return{get:t,remove:i,update:n,dispose:r}}function fl(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function ml(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function vl(){var e=[],t=0,i=[],n=[],r={id:-1};function o(){t=0,i.length=0,n.length=0}function s(i,n,o,s,a,c){var l=e[t];return void 0===l?(l={id:i.id,object:i,geometry:n,material:o,program:o.program||r,groupOrder:s,renderOrder:i.renderOrder,z:a,group:c},e[t]=l):(l.id=i.id,l.object=i,l.geometry=n,l.material=o,l.program=o.program||r,l.groupOrder=s,l.renderOrder=i.renderOrder,l.z=a,l.group=c),t++,l}function a(e,t,r,o,a,c){var l=s(e,t,r,o,a,c);(!0===r.transparent?n:i).push(l)}function c(e,t,r,o,a,c){var l=s(e,t,r,o,a,c);(!0===r.transparent?n:i).unshift(l)}function l(e,t){i.length>1&&i.sort(e||fl),n.length>1&&n.sort(t||ml)}function h(){for(var i=t,n=e.length;i<n;i++){var r=e[i];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}}return{opaque:i,transparent:n,init:o,push:a,unshift:c,finish:h,sort:l}}function gl(){var e=new WeakMap;function t(i){var n=i.target;n.removeEventListener("dispose",t),e.delete(n)}function i(i,n){var r,o=e.get(i);return void 0===o?(r=new vl,e.set(i,new WeakMap),e.get(i).set(n,r),i.addEventListener("dispose",t)):(r=o.get(n),void 0===r&&(r=new vl,o.set(n,r))),r}function n(){e=new WeakMap}return{get:i,dispose:n}}function yl(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var i;switch(t.type){case"DirectionalLight":i={direction:new yi,color:new Bn};break;case"SpotLight":i={position:new yi,direction:new yi,color:new Bn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new yi,color:new Bn,distance:0,decay:0};break;case"HemisphereLight":i={direction:new yi,skyColor:new Bn,groundColor:new Bn};break;case"RectAreaLight":i={color:new Bn,position:new yi,halfWidth:new yi,halfHeight:new yi};break}return e[t.id]=i,i}}}function _l(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var i;switch(t.type){case"DirectionalLight":i={shadowBias:0,shadowRadius:1,shadowMapSize:new ai};break;case"SpotLight":i={shadowBias:0,shadowRadius:1,shadowMapSize:new ai};break;case"PointLight":i={shadowBias:0,shadowRadius:1,shadowMapSize:new ai,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=i,i}}}var bl=0;function xl(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function wl(){for(var e=new yl,t=_l(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=0;n<9;n++)i.probe.push(new yi);var r=new yi,o=new Ei,s=new Ei;function a(n,a,c){for(var l=0,h=0,u=0,d=0;d<9;d++)i.probe[d].set(0,0,0);var p=0,f=0,m=0,v=0,g=0,y=0,_=0,b=0,x=c.matrixWorldInverse;n.sort(xl);d=0;for(var w=n.length;d<w;d++){var S=n[d],C=S.color,M=S.intensity,E=S.distance,T=S.shadow&&S.shadow.map?S.shadow.map.texture:null;if(S.isAmbientLight)l+=C.r*M,h+=C.g*M,u+=C.b*M;else if(S.isLightProbe)for(var A=0;A<9;A++)i.probe[A].addScaledVector(S.sh.coefficients[A],M);else if(S.isDirectionalLight){var L=e.get(S);if(L.color.copy(S.color).multiplyScalar(S.intensity),L.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(x),S.castShadow){var O=S.shadow,R=t.get(S);R.shadowBias=O.bias,R.shadowRadius=O.radius,R.shadowMapSize=O.mapSize,i.directionalShadow[p]=R,i.directionalShadowMap[p]=T,i.directionalShadowMatrix[p]=S.shadow.matrix,y++}i.directional[p]=L,p++}else if(S.isSpotLight){L=e.get(S);if(L.position.setFromMatrixPosition(S.matrixWorld),L.position.applyMatrix4(x),L.color.copy(C).multiplyScalar(M),L.distance=E,L.direction.setFromMatrixPosition(S.matrixWorld),r.setFromMatrixPosition(S.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(x),L.coneCos=Math.cos(S.angle),L.penumbraCos=Math.cos(S.angle*(1-S.penumbra)),L.decay=S.decay,S.castShadow){O=S.shadow,R=t.get(S);R.shadowBias=O.bias,R.shadowRadius=O.radius,R.shadowMapSize=O.mapSize,i.spotShadow[m]=R,i.spotShadowMap[m]=T,i.spotShadowMatrix[m]=S.shadow.matrix,b++}i.spot[m]=L,m++}else if(S.isRectAreaLight){L=e.get(S);L.color.copy(C).multiplyScalar(M),L.position.setFromMatrixPosition(S.matrixWorld),L.position.applyMatrix4(x),s.identity(),o.copy(S.matrixWorld),o.premultiply(x),s.extractRotation(o),L.halfWidth.set(.5*S.width,0,0),L.halfHeight.set(0,.5*S.height,0),L.halfWidth.applyMatrix4(s),L.halfHeight.applyMatrix4(s),i.rectArea[v]=L,v++}else if(S.isPointLight){L=e.get(S);if(L.position.setFromMatrixPosition(S.matrixWorld),L.position.applyMatrix4(x),L.color.copy(S.color).multiplyScalar(S.intensity),L.distance=S.distance,L.decay=S.decay,S.castShadow){O=S.shadow,R=t.get(S);R.shadowBias=O.bias,R.shadowRadius=O.radius,R.shadowMapSize=O.mapSize,R.shadowCameraNear=O.camera.near,R.shadowCameraFar=O.camera.far,i.pointShadow[f]=R,i.pointShadowMap[f]=T,i.pointShadowMatrix[f]=S.shadow.matrix,_++}i.point[f]=L,f++}else if(S.isHemisphereLight){L=e.get(S);L.direction.setFromMatrixPosition(S.matrixWorld),L.direction.transformDirection(x),L.direction.normalize(),L.skyColor.copy(S.color).multiplyScalar(M),L.groundColor.copy(S.groundColor).multiplyScalar(M),i.hemi[g]=L,g++}}i.ambient[0]=l,i.ambient[1]=h,i.ambient[2]=u;var k=i.hash;k.directionalLength===p&&k.pointLength===f&&k.spotLength===m&&k.rectAreaLength===v&&k.hemiLength===g&&k.numDirectionalShadows===y&&k.numPointShadows===_&&k.numSpotShadows===b||(i.directional.length=p,i.spot.length=m,i.rectArea.length=v,i.point.length=f,i.hemi.length=g,i.directionalShadow.length=y,i.directionalShadowMap.length=y,i.pointShadow.length=_,i.pointShadowMap.length=_,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=y,i.pointShadowMatrix.length=_,i.spotShadowMatrix.length=b,k.directionalLength=p,k.pointLength=f,k.spotLength=m,k.rectAreaLength=v,k.hemiLength=g,k.numDirectionalShadows=y,k.numPointShadows=_,k.numSpotShadows=b,i.version=bl++)}return{setup:a,state:i}}function Sl(){var e=new wl,t=[],i=[];function n(){t.length=0,i.length=0}function r(e){t.push(e)}function o(e){i.push(e)}function s(n){e.setup(t,i,n)}var a={lightsArray:t,shadowsArray:i,lights:e};return{init:n,state:a,setupLights:s,pushLight:r,pushShadow:o}}function Cl(){var e=new WeakMap;function t(i){var n=i.target;n.removeEventListener("dispose",t),e.delete(n)}function i(i,n){var r;return!1===e.has(i)?(r=new Sl,e.set(i,new WeakMap),e.get(i).set(n,r),i.addEventListener("dispose",t)):!1===e.get(i).has(n)?(r=new Sl,e.get(i).set(n,r)):r=e.get(i).get(n),r}function n(){e=new WeakMap}return{get:i,dispose:n}}function Ml(e){Un.call(this),this.type="MeshDepthMaterial",this.depthPacking=Xt,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function El(e){Un.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new yi,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Ml.prototype=Object.create(Un.prototype),Ml.prototype.constructor=Ml,Ml.prototype.isMeshDepthMaterial=!0,Ml.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},El.prototype=Object.create(Un.prototype),El.prototype.constructor=El,El.prototype.isMeshDistanceMaterial=!0,El.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Tl="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",Al="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function Ll(e,t,i){var n=new Qr,r=new ai,o=new ai,s=new di,c=[],p=[],m={},v={0:u,1:h,2:d},g=new Vr({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new ai},radius:{value:4}},vertexShader:Al,fragmentShader:Tl}),y=g.clone();y.defines.HORIZONAL_PASS=1;var _=new hr;_.setAttribute("position",new Gn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var b=new Ar(_,g),x=this;function w(i,n){var r=t.update(b);g.uniforms.shadow_pass.value=i.map.texture,g.uniforms.resolution.value=i.mapSize,g.uniforms.radius.value=i.radius,e.setRenderTarget(i.mapPass),e.clear(),e.renderBufferDirect(n,null,r,g,b,null),y.uniforms.shadow_pass.value=i.mapPass.texture,y.uniforms.resolution.value=i.mapSize,y.uniforms.radius.value=i.radius,e.setRenderTarget(i.map),e.clear(),e.renderBufferDirect(n,null,r,y,b,null)}function S(e,t,i){var n=e<<0|t<<1|i<<2,r=c[n];return void 0===r&&(r=new Ml({depthPacking:Yt,morphTargets:e,skinning:t}),c[n]=r),r}function C(e,t,i){var n=e<<0|t<<1|i<<2,r=p[n];return void 0===r&&(r=new El({morphTargets:e,skinning:t}),p[n]=r),r}function M(t,i,n,r,o,s,a){var c=null,h=S,u=t.customDepthMaterial;if(!0===r.isPointLight&&(h=C,u=t.customDistanceMaterial),void 0===u){var d=!1;!0===n.morphTargets&&(d=i.morphAttributes&&i.morphAttributes.position&&i.morphAttributes.position.length>0);var p=!1;!0===t.isSkinnedMesh&&(!0===n.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t));var f=!0===t.isInstancedMesh;c=h(d,p,f)}else c=u;if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var g=c.uuid,y=n.uuid,_=m[g];void 0===_&&(_={},m[g]=_);var b=_[y];void 0===b&&(b=c.clone(),_[y]=b),c=b}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=a===l?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:v[n.side],c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=o,c.farDistance=s),c}function E(i,r,o,s,a){if(!1!==i.visible){var c=i.layers.test(r.layers);if(c&&(i.isMesh||i.isLine||i.isPoints)&&(i.castShadow||i.receiveShadow&&a===l)&&(!i.frustumCulled||n.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,i.matrixWorld);var h=t.update(i),u=i.material;if(Array.isArray(u))for(var d=h.groups,p=0,f=d.length;p<f;p++){var m=d[p],v=u[m.materialIndex];if(v&&v.visible){var g=M(i,h,v,s,o.near,o.far,a);e.renderBufferDirect(o,null,h,g,i,m)}}else if(u.visible){g=M(i,h,u,s,o.near,o.far,a);e.renderBufferDirect(o,null,h,g,i,null)}}for(var y=i.children,_=0,b=y.length;_<b;_++)E(y[_],r,o,s,a)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=a,this.render=function(t,a,c){if(!1!==x.enabled&&(!1!==x.autoUpdate||!1!==x.needsUpdate)&&0!==t.length){var h=e.getRenderTarget(),u=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),p=e.state;p.setBlending(f),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(var m=0,v=t.length;m<v;m++){var g=t[m],y=g.shadow;if(void 0!==y){r.copy(y.mapSize);var _=y.getFrameExtents();if(r.multiply(_),o.copy(y.mapSize),(r.x>i||r.y>i)&&(r.x>i&&(o.x=Math.floor(i/_.x),r.x=o.x*_.x,y.mapSize.x=o.x),r.y>i&&(o.y=Math.floor(i/_.y),r.y=o.y*_.y,y.mapSize.y=o.y)),null===y.map&&!y.isPointLightShadow&&this.type===l){var b={minFilter:pe,magFilter:pe,format:Oe};y.map=new pi(r.x,r.y,b),y.map.texture.name=g.name+".shadowMap",y.mapPass=new pi(r.x,r.y,b),y.camera.updateProjectionMatrix()}if(null===y.map){b={minFilter:he,magFilter:he,format:Oe};y.map=new pi(r.x,r.y,b),y.map.texture.name=g.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var S=y.getViewportCount(),C=0;C<S;C++){var M=y.getViewport(C);s.set(o.x*M.x,o.y*M.y,o.x*M.z,o.y*M.w),p.viewport(s),y.updateMatrices(g,C),n=y.getFrustum(),E(a,c,y.camera,g,this.type)}y.isPointLightShadow||this.type!==l||w(y,c)}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}x.needsUpdate=!1,e.setRenderTarget(h,u,d)}}}function Ol(e,t,i){var n=i.isWebGL2;function a(){var t=!1,i=new di,n=null,r=new di(0,0,0,0);return{setMask:function(i){n===i||t||(e.colorMask(i,i,i,i),n=i)},setLocked:function(e){t=e},setClear:function(t,n,o,s,a){!0===a&&(t*=s,n*=s,o*=s),i.set(t,n,o,s),!1===r.equals(i)&&(e.clearColor(t,n,o,s),r.copy(i))},reset:function(){t=!1,n=null,r.set(-1,0,0,0)}}}function c(){var t=!1,i=null,n=null,r=null;return{setTest:function(e){e?Ee(2929):Te(2929)},setMask:function(n){i===n||t||(e.depthMask(n),i=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case B:e.depthFunc(512);break;case N:e.depthFunc(519);break;case j:e.depthFunc(513);break;case H:e.depthFunc(515);break;case F:e.depthFunc(514);break;case z:e.depthFunc(518);break;case U:e.depthFunc(516);break;case V:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,i=null,n=null,r=null}}}function l(){var t=!1,i=null,n=null,r=null,o=null,s=null,a=null,c=null,l=null;return{setTest:function(e){t||(e?Ee(2960):Te(2960))},setMask:function(n){i===n||t||(e.stencilMask(n),i=n)},setFunc:function(t,i,s){n===t&&r===i&&o===s||(e.stencilFunc(t,i,s),n=t,r=i,o=s)},setOp:function(t,i,n){s===t&&a===i&&c===n||(e.stencilOp(t,i,n),s=t,a=i,c=n)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,i=null,n=null,r=null,o=null,s=null,a=null,c=null,l=null}}}var h=new a,p=new c,W=new l,G=e.getParameter(34921),$=new Uint8Array(G),q=new Uint8Array(G),X=new Uint8Array(G),Y={},Z=null,J=null,K=null,Q=null,ee=null,te=null,ie=null,ne=null,re=null,oe=!1,se=null,ae=null,ce=null,le=null,he=null,ue=e.getParameter(35661),de=!1,pe=0,fe=e.getParameter(7938);-1!==fe.indexOf("WebGL")?(pe=parseFloat(/^WebGL\ ([0-9])/.exec(fe)[1]),de=pe>=1):-1!==fe.indexOf("OpenGL ES")&&(pe=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(fe)[1]),de=pe>=2);var me=null,ve={},ge=new di,ye=new di;function _e(t,i,n){var r=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var s=0;s<n;s++)e.texImage2D(i+s,0,6408,1,1,0,6408,5121,r);return o}var be={};function xe(){for(var e=0,t=$.length;e<t;e++)$[e]=0}function we(e){Se(e,0)}function Se(i,r){if($[i]=1,0===q[i]&&(e.enableVertexAttribArray(i),q[i]=1),X[i]!==r){var o=n?e:t.get("ANGLE_instanced_arrays");o[n?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,r),X[i]=r}}function Ce(){for(var t=0,i=q.length;t!==i;++t)q[t]!==$[t]&&(e.disableVertexAttribArray(t),q[t]=0)}function Me(t,i,r,o,s,a){!0!==n||5124!==r&&5125!==r?e.vertexAttribPointer(t,i,r,o,s,a):e.vertexAttribIPointer(t,i,r,o,s,a)}function Ee(t){!0!==Y[t]&&(e.enable(t),Y[t]=!0)}function Te(t){!1!==Y[t]&&(e.disable(t),Y[t]=!1)}function Ae(t){return Z!==t&&(e.useProgram(t),Z=t,!0)}be[3553]=_e(3553,3553,1),be[34067]=_e(34067,34069,6),h.setClear(0,0,0,1),p.setClear(1),W.setClear(0),Ee(2929),p.setFunc(H),De(!1),Ie(o),Ee(2884),ke(f);var Le={[b]:32774,[x]:32778,[w]:32779};if(n)Le[S]=32775,Le[C]=32776;else{var Oe=t.get("EXT_blend_minmax");null!==Oe&&(Le[S]=Oe.MIN_EXT,Le[C]=Oe.MAX_EXT)}var Re={[M]:0,[E]:1,[T]:768,[L]:770,[I]:776,[P]:774,[R]:772,[A]:769,[O]:771,[D]:775,[k]:773};function ke(t,i,n,r,o,s,a,c){if(t!==f){if(J||(Ee(3042),J=!0),t===_)o=o||i,s=s||n,a=a||r,i===Q&&o===ie||(e.blendEquationSeparate(Le[i],Le[o]),Q=i,ie=o),n===ee&&r===te&&s===ne&&a===re||(e.blendFuncSeparate(Re[n],Re[r],Re[s],Re[a]),ee=n,te=r,ne=s,re=a),K=t,oe=null;else if(t!==K||c!==oe){if(Q===b&&ie===b||(e.blendEquation(32774),Q=b,ie=b),c)switch(t){case m:e.blendFuncSeparate(1,771,1,771);break;case v:e.blendFunc(1,1);break;case g:e.blendFuncSeparate(0,0,769,771);break;case y:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}else switch(t){case m:e.blendFuncSeparate(770,771,1,771);break;case v:e.blendFunc(770,1);break;case g:e.blendFunc(0,769);break;case y:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}ee=null,te=null,ne=null,re=null,K=t,oe=c}}else J&&(Te(3042),J=!1)}function Pe(e,t){e.side===d?Te(2884):Ee(2884);var i=e.side===u;t&&(i=!i),De(i),e.blending===m&&!1===e.transparent?ke(f):ke(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),p.setFunc(e.depthFunc),p.setTest(e.depthTest),p.setMask(e.depthWrite),h.setMask(e.colorWrite);var n=e.stencilWrite;W.setTest(n),n&&(W.setMask(e.stencilWriteMask),W.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),W.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Ne(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function De(t){se!==t&&(t?e.frontFace(2304):e.frontFace(2305),se=t)}function Ie(t){t!==r?(Ee(2884),t!==ae&&(t===o?e.cullFace(1029):t===s?e.cullFace(1028):e.cullFace(1032))):Te(2884),ae=t}function Be(t){t!==ce&&(de&&e.lineWidth(t),ce=t)}function Ne(t,i,n){t?(Ee(32823),le===i&&he===n||(e.polygonOffset(i,n),le=i,he=n)):Te(32823)}function je(e){e?Ee(3089):Te(3089)}function He(t){void 0===t&&(t=33984+ue-1),me!==t&&(e.activeTexture(t),me=t)}function Fe(t,i){null===me&&He();var n=ve[me];void 0===n&&(n={type:void 0,texture:void 0},ve[me]=n),n.type===t&&n.texture===i||(e.bindTexture(t,i||be[t]),n.type=t,n.texture=i)}function ze(){var t=ve[me];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)}function Ue(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ve(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function We(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ge(t){!1===ge.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),ge.copy(t))}function $e(t){!1===ye.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),ye.copy(t))}function qe(){for(var t=0;t<q.length;t++)1===q[t]&&(e.disableVertexAttribArray(t),q[t]=0);Y={},me=null,ve={},Z=null,K=null,se=null,ae=null,h.reset(),p.reset(),W.reset()}return{buffers:{color:h,depth:p,stencil:W},initAttributes:xe,enableAttribute:we,enableAttributeAndDivisor:Se,disableUnusedAttributes:Ce,vertexAttribPointer:Me,enable:Ee,disable:Te,useProgram:Ae,setBlending:ke,setMaterial:Pe,setFlipSided:De,setCullFace:Ie,setLineWidth:Be,setPolygonOffset:Ne,setScissorTest:je,activeTexture:He,bindTexture:Fe,unbindTexture:ze,compressedTexImage2D:Ue,texImage2D:Ve,texImage3D:We,scissor:Ge,viewport:$e,reset:qe}}function Rl(e,t,i,n,r,o,s){var a,c=r.isWebGL2,l=r.maxTextures,h=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,p=new WeakMap,f=!1;try{f="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(Q){}function m(e,t){return f?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(e,t,i,n){var r=1;if((e.width>n||e.height>n)&&(r=n/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?si.floorPowerOfTwo:Math.floor,s=o(r*e.width),c=o(r*e.height);void 0===a&&(a=m(s,c));var l=i?m(s,c):a;l.width=s,l.height=c;var h=l.getContext("2d");return h.drawImage(e,0,0,s,c),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+s+"x"+c+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function g(e){return si.isPowerOfTwo(e.width)&&si.isPowerOfTwo(e.height)}function y(e){return!c&&(e.wrapS!==ce||e.wrapT!==ce||e.minFilter!==he&&e.minFilter!==pe)}function _(e,t){return e.generateMipmaps&&t&&e.minFilter!==he&&e.minFilter!==pe}function b(t,i,r,o){e.generateMipmap(t);var s=n.get(i);s.__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function x(i,n,r){if(!1===c)return n;if(null!==i){if(void 0!==e[i])return e[i];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+i+"'")}var o=n;return 6403===n&&(5126===r&&(o=33326),5131===r&&(o=33325),5121===r&&(o=33321)),6407===n&&(5126===r&&(o=34837),5131===r&&(o=34843),5121===r&&(o=32849)),6408===n&&(5126===r&&(o=34836),5131===r&&(o=34842),5121===r&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function w(e){return e===he||e===ue||e===de?9728:9729}function S(e){var t=e.target;t.removeEventListener("dispose",S),M(t),t.isVideoTexture&&p.delete(t),s.memory.textures--}function C(e){var t=e.target;t.removeEventListener("dispose",C),E(t),s.memory.textures--}function M(t){var i=n.get(t);void 0!==i.__webglInit&&(e.deleteTexture(i.__webglTexture),n.remove(t))}function E(t){var i=n.get(t),r=n.get(t.texture);if(t){if(void 0!==r.__webglTexture&&e.deleteTexture(r.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)e.deleteFramebuffer(i.__webglFramebuffer[o]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[o]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);n.remove(t.texture),n.remove(t)}}var T=0;function A(){T=0}function L(){var e=T;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),T+=1,e}function O(e,t){var r=n.get(e);if(e.isVideoTexture&&X(e),e.version>0&&r.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void H(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(33984+t),i.bindTexture(3553,r.__webglTexture)}function R(e,t){var r=n.get(e);e.version>0&&r.__version!==e.version?H(r,e,t):(i.activeTexture(33984+t),i.bindTexture(35866,r.__webglTexture))}function k(e,t){var r=n.get(e);e.version>0&&r.__version!==e.version?H(r,e,t):(i.activeTexture(33984+t),i.bindTexture(32879,r.__webglTexture))}function P(t,r){if(6===t.image.length){var s=n.get(t);if(t.version>0&&s.__version!==t.version){j(s,t),i.activeTexture(33984+r),i.bindTexture(34067,s.__webglTexture),e.pixelStorei(37440,t.flipY);for(var a=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),l=t.image[0]&&t.image[0].isDataTexture,u=[],d=0;d<6;d++)u[d]=a||l?l?t.image[d].image:t.image[d]:v(t.image[d],!1,!0,h);var p,f=u[0],m=g(f)||c,y=o.convert(t.format),w=o.convert(t.type),S=x(t.internalFormat,y,w);if(N(34067,t,m),a){for(d=0;d<6;d++){p=u[d].mipmaps;for(var C=0;C<p.length;C++){var M=p[C];t.format!==Oe&&t.format!==Le?null!==y?i.compressedTexImage2D(34069+d,C,S,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(34069+d,C,S,M.width,M.height,0,y,w,M.data)}}s.__maxMipLevel=p.length-1}else{p=t.mipmaps;for(d=0;d<6;d++)if(l){i.texImage2D(34069+d,0,S,u[d].width,u[d].height,0,y,w,u[d].data);for(C=0;C<p.length;C++){M=p[C];var E=M.image[d].image;i.texImage2D(34069+d,C+1,S,E.width,E.height,0,y,w,E.data)}}else{i.texImage2D(34069+d,0,S,y,w,u[d]);for(C=0;C<p.length;C++){M=p[C];i.texImage2D(34069+d,C+1,S,y,w,M.image[d])}}s.__maxMipLevel=p.length}_(t,m)&&b(34067,t,f.width,f.height),s.__version=t.version,t.onUpdate&&t.onUpdate(t)}else i.activeTexture(33984+r),i.bindTexture(34067,s.__webglTexture)}}function D(e,t){i.activeTexture(33984+t),i.bindTexture(34067,n.get(e).__webglTexture)}var I={[ae]:10497,[ce]:33071,[le]:33648},B={[he]:9728,[ue]:9984,[de]:9986,[pe]:9729,[fe]:9985,[me]:9987};function N(i,o,s){s?(e.texParameteri(i,10242,I[o.wrapS]),e.texParameteri(i,10243,I[o.wrapT]),32879!==i&&35866!==i||e.texParameteri(i,32882,I[o.wrapR]),e.texParameteri(i,10240,B[o.magFilter]),e.texParameteri(i,10241,B[o.minFilter])):(e.texParameteri(i,10242,33071),e.texParameteri(i,10243,33071),32879!==i&&35866!==i||e.texParameteri(i,32882,33071),o.wrapS===ce&&o.wrapT===ce||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(i,10240,w(o.magFilter)),e.texParameteri(i,10241,w(o.minFilter)),o.minFilter!==he&&o.minFilter!==pe&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var a=t.get("EXT_texture_filter_anisotropic");if(a){if(o.type===we&&null===t.get("OES_texture_float_linear"))return;if(o.type===Se&&null===(c||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(e.texParameterf(i,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function j(t,i){void 0===t.__webglInit&&(t.__webglInit=!0,i.addEventListener("dispose",S),t.__webglTexture=e.createTexture(),s.memory.textures++)}function H(t,n,r){var s=3553;n.isDataTexture2DArray&&(s=35866),n.isDataTexture3D&&(s=32879),j(t,n),i.activeTexture(33984+r),i.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment);var a=y(n)&&!1===g(n.image),l=v(n.image,a,!1,u),h=g(l)||c,d=o.convert(n.format),p=o.convert(n.type),f=x(n.internalFormat,d,p);N(s,n,h);var m,w=n.mipmaps;if(n.isDepthTexture)f=6402,c?f=n.type===we?36012:n.type===xe?33190:n.type===Te?35056:33189:n.type===we&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),n.format===De&&6402===f&&n.type!==_e&&n.type!==xe&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=_e,p=o.convert(n.type)),n.format===Ie&&6402===f&&(f=34041,n.type!==Te&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Te,p=o.convert(n.type))),i.texImage2D(3553,0,f,l.width,l.height,0,d,p,null);else if(n.isDataTexture)if(w.length>0&&h){for(var S=0,C=w.length;S<C;S++)m=w[S],i.texImage2D(3553,S,f,m.width,m.height,0,d,p,m.data);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else i.texImage2D(3553,0,f,l.width,l.height,0,d,p,l.data),t.__maxMipLevel=0;else if(n.isCompressedTexture){for(S=0,C=w.length;S<C;S++)m=w[S],n.format!==Oe&&n.format!==Le?null!==d?i.compressedTexImage2D(3553,S,f,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(3553,S,f,m.width,m.height,0,d,p,m.data);t.__maxMipLevel=w.length-1}else if(n.isDataTexture2DArray)i.texImage3D(35866,0,f,l.width,l.height,l.depth,0,d,p,l.data),t.__maxMipLevel=0;else if(n.isDataTexture3D)i.texImage3D(32879,0,f,l.width,l.height,l.depth,0,d,p,l.data),t.__maxMipLevel=0;else if(w.length>0&&h){for(S=0,C=w.length;S<C;S++)m=w[S],i.texImage2D(3553,S,f,d,p,m);n.generateMipmaps=!1,t.__maxMipLevel=w.length-1}else i.texImage2D(3553,0,f,d,p,l),t.__maxMipLevel=0;_(n,h)&&b(s,n,l.width,l.height),t.__version=n.version,n.onUpdate&&n.onUpdate(n)}function F(t,r,s,a){var c=o.convert(r.texture.format),l=o.convert(r.texture.type),h=x(r.texture.internalFormat,c,l);i.texImage2D(a,0,h,r.width,r.height,0,c,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,s,a,n.get(r.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function z(t,i,n){if(e.bindRenderbuffer(36161,t),i.depthBuffer&&!i.stencilBuffer){var r=33189;if(n){var s=i.depthTexture;s&&s.isDepthTexture&&(s.type===we?r=36012:s.type===xe&&(r=33190));var a=q(i);e.renderbufferStorageMultisample(36161,a,r,i.width,i.height)}else e.renderbufferStorage(36161,r,i.width,i.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(i.depthBuffer&&i.stencilBuffer){if(n){a=q(i);e.renderbufferStorageMultisample(36161,a,35056,i.width,i.height)}else e.renderbufferStorage(36161,34041,i.width,i.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var c=o.convert(i.texture.format),l=o.convert(i.texture.type);r=x(i.texture.internalFormat,c,l);if(n){a=q(i);e.renderbufferStorageMultisample(36161,a,r,i.width,i.height)}else e.renderbufferStorage(36161,r,i.width,i.height)}e.bindRenderbuffer(36161,null)}function U(t,i){var r=i&&i.isWebGLCubeRenderTarget;if(r)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),O(i.depthTexture,0);var o=n.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===De)e.framebufferTexture2D(36160,36096,3553,o,0);else{if(i.depthTexture.format!==Ie)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,o,0)}}function V(t){var i=n.get(t),r=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");U(i.__webglFramebuffer,t)}else if(r){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),z(i.__webglDepthbuffer[o],t,!1)}else e.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),z(i.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function W(t){var r=n.get(t),a=n.get(t.texture);t.addEventListener("dispose",C),a.__webglTexture=e.createTexture(),s.memory.textures++;var l=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultisampleRenderTarget,u=g(t)||c;if(!c||t.texture.format!==Le||t.texture.type!==we&&t.texture.type!==Se||(t.texture.format=Oe,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){r.__webglFramebuffer=[];for(var d=0;d<6;d++)r.__webglFramebuffer[d]=e.createFramebuffer()}else if(r.__webglFramebuffer=e.createFramebuffer(),h)if(c){r.__webglMultisampledFramebuffer=e.createFramebuffer(),r.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,r.__webglColorRenderbuffer);var p=o.convert(t.texture.format),f=o.convert(t.texture.type),m=x(t.texture.internalFormat,p,f),v=q(t);e.renderbufferStorageMultisample(36161,v,m,t.width,t.height),e.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(r.__webglDepthRenderbuffer=e.createRenderbuffer(),z(r.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){i.bindTexture(34067,a.__webglTexture),N(34067,t.texture,u);for(d=0;d<6;d++)F(r.__webglFramebuffer[d],t,36064,34069+d);_(t.texture,u)&&b(34067,t.texture,t.width,t.height),i.bindTexture(34067,null)}else i.bindTexture(3553,a.__webglTexture),N(3553,t.texture,u),F(r.__webglFramebuffer,t,36064,3553),_(t.texture,u)&&b(3553,t.texture,t.width,t.height),i.bindTexture(3553,null);t.depthBuffer&&V(t)}function G(e){var t=e.texture,r=g(e)||c;if(_(t,r)){var o=e.isWebGLCubeRenderTarget?34067:3553,s=n.get(t).__webglTexture;i.bindTexture(o,s),b(o,t,e.width,e.height),i.bindTexture(o,null)}}function $(t){if(t.isWebGLMultisampleRenderTarget)if(c){var i=n.get(t);e.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,i.__webglFramebuffer);var r=t.width,o=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,r,o,0,0,r,o,s,9728),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function q(e){return c&&e.isWebGLMultisampleRenderTarget?Math.min(d,e.samples):0}function X(e){var t=s.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}var Y=!1,Z=!1;function J(e,t){e&&e.isWebGLRenderTarget&&(!1===Y&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Y=!0),e=e.texture),O(e,t)}function K(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===Z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Z=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?P(e,t):D(e,t)}this.allocateTextureUnit=L,this.resetTextureUnits=A,this.setTexture2D=O,this.setTexture2DArray=R,this.setTexture3D=k,this.setTextureCube=P,this.setTextureCubeDynamic=D,this.setupRenderTarget=W,this.updateRenderTargetMipmap=G,this.updateMultisampleRenderTarget=$,this.safeSetTexture2D=J,this.safeSetTextureCube=K}function kl(e,t,i){var n=i.isWebGL2;function r(e){var i;if(e===ve)return 5121;if(e===Ce)return 32819;if(e===Me)return 32820;if(e===Ee)return 33635;if(e===ge)return 5120;if(e===ye)return 5122;if(e===_e)return 5123;if(e===be)return 5124;if(e===xe)return 5125;if(e===we)return 5126;if(e===Se)return n?5131:(i=t.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(e===Ae)return 6406;if(e===Le)return 6407;if(e===Oe)return 6408;if(e===Re)return 6409;if(e===ke)return 6410;if(e===De)return 6402;if(e===Ie)return 34041;if(e===Be)return 6403;if(e===Ne)return 36244;if(e===je)return 33319;if(e===He)return 33320;if(e===Fe)return 36248;if(e===ze)return 36249;if(e===Ue||e===Ve||e===We||e===Ge){if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(e===Ue)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ve)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===We)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Ge)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===$e||e===qe||e===Xe||e===Ye){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(e===$e)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===qe)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Xe)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Ye)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===Ze)return i=t.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===Je||e===Ke)&&(i=t.get("WEBGL_compressed_texture_etc"),null!==i)){if(e===Je)return i.COMPRESSED_RGB8_ETC2;if(e===Ke)return i.COMPRESSED_RGBA8_ETC2_EAC}return e===Qe||e===et||e===tt||e===it||e===nt||e===rt||e===ot||e===st||e===at||e===ct||e===lt||e===ht||e===ut||e===dt||e===ft||e===mt||e===vt||e===gt||e===yt||e===_t||e===bt||e===xt||e===wt||e===St||e===Ct||e===Mt||e===Et||e===Tt?(i=t.get("WEBGL_compressed_texture_astc"),null!==i?e:null):e===pt?(i=t.get("EXT_texture_compression_bptc"),null!==i?e:null):e===Te?n?34042:(i=t.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0}return{convert:r}}function Pl(e){Gr.call(this),this.cameras=e||[]}function Dl(){Wi.call(this),this.type="Group"}function Il(){this._targetRay=null,this._grip=null}function Bl(e,t){var i=this,n=null,r=1,o=null,s="local-floor",a=null,c=[],l=new Map,h=new Gr;h.layers.enable(1),h.viewport=new di;var u=new Gr;u.layers.enable(2),u.viewport=new di;var d=[h,u],p=new Pl;p.layers.enable(1),p.layers.enable(2);var f=null,m=null;function v(e){var t=l.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function g(){l.forEach((function(e,t){e.disconnect(t)})),l.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),E.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function y(e){o=e,E.setContext(n),E.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}function _(e){for(var t=n.inputSources,i=0;i<c.length;i++)l.set(t[i],c[i]);for(i=0;i<e.removed.length;i++){var r=e.removed[i],o=l.get(r);o&&(o.dispatchEvent({type:"disconnected",data:r}),l.delete(r))}for(i=0;i<e.added.length;i++){r=e.added[i],o=l.get(r);o&&o.dispatchEvent({type:"connected",data:r})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=c[e];return void 0===t&&(t=new Il,c[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=c[e];return void 0===t&&(t=new Il,c[e]=t),t.getGripSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return n},this.setSession=function(e){if(n=e,null!==n){n.addEventListener("select",v),n.addEventListener("selectstart",v),n.addEventListener("selectend",v),n.addEventListener("squeeze",v),n.addEventListener("squeezestart",v),n.addEventListener("squeezeend",v),n.addEventListener("end",g);var i=t.getContextAttributes(),o={antialias:i.antialias,alpha:i.alpha,depth:i.depth,stencil:i.stencil,framebufferScaleFactor:r},a=new XRWebGLLayer(n,t,o);n.updateRenderState({baseLayer:a}),n.requestReferenceSpace(s).then(y),n.addEventListener("inputsourceschange",_)}};var b=new yi,x=new yi;function w(e,t,i){b.setFromMatrixPosition(t.matrixWorld),x.setFromMatrixPosition(i.matrixWorld);var n=b.distanceTo(x),r=t.projectionMatrix.elements,o=i.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),c=(r[9]+1)/r[5],l=(r[9]-1)/r[5],h=(r[8]-1)/r[0],u=(o[8]+1)/o[0],d=s*h,p=s*u,f=n/(-h+u),m=f*-h;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(f),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=s+f,g=a+f,y=d-m,_=p+(n-m),w=c*a/g*v,S=l*a/g*v;e.projectionMatrix.makePerspective(y,_,w,S,v,g)}function S(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){p.near=u.near=h.near=e.near,p.far=u.far=h.far=e.far,f===p.near&&m===p.far||(n.updateRenderState({depthNear:p.near,depthFar:p.far}),f=p.near,m=p.far);var t=e.parent,i=p.cameras;S(p,t);for(var r=0;r<i.length;r++)S(i[r],t);e.matrixWorld.copy(p.matrixWorld);for(var o=e.children,s=(r=0,o.length);r<s;r++)o[r].updateMatrixWorld(!0);return 2===i.length?w(p,h,u):p.projectionMatrix.copy(h.projectionMatrix),p};var C=null;function M(t,i){if(a=i.getViewerPose(o),null!==a){var r=a.views,s=n.renderState.baseLayer;e.setFramebuffer(s.framebuffer);var l=!1;r.length!==p.cameras.length&&(p.cameras.length=0,l=!0);for(var h=0;h<r.length;h++){var u=r[h],f=s.getViewport(u),m=d[h];m.matrix.fromArray(u.transform.matrix),m.projectionMatrix.fromArray(u.projectionMatrix),m.viewport.set(f.x,f.y,f.width,f.height),0===h&&p.matrix.copy(m.matrix),!0===l&&p.cameras.push(m)}}var v=n.inputSources;for(h=0;h<c.length;h++){var g=c[h],y=v[h];g.update(y,i,o)}C&&C(t,i)}var E=new to;E.setAnimationLoop(M),this.setAnimationLoop=function(e){C=e},this.dispose=function(){}}function Nl(e){e=e||{};var t=void 0!==e.canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==e.context?e.context:null,n=void 0!==e.alpha&&e.alpha,r=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,s=void 0!==e.antialias&&e.antialias,a=void 0===e.premultipliedAlpha||e.premultipliedAlpha,c=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:"default",h=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,d=null,p=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Ft,this.physicallyCorrectLights=!1,this.toneMapping=q,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,v,g,y,_,b,x,w,S,C,M,E,T,A,L,O,R,k=this,P=!1,D=null,I=0,B=0,N=null,j=null,H=-1,F={geometry:null,program:null,wireframe:!1},z=null,U=null,V=new di,W=new di,G=null,$=t.width,X=t.height,Y=1,Z=null,J=null,K=new di(0,0,$,X),Q=new di(0,0,$,X),ee=!1,te=new Qr,ie=new Oa,ne=!1,re=!1,oe=new Ei,se=new yi;function ae(){return null===N?Y:1}try{var ce={alpha:n,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(t.addEventListener("webglcontextlost",de,!1),t.addEventListener("webglcontextrestored",pe,!1),f=i||t.getContext("webgl",ce)||t.getContext("experimental-webgl",ce),null===f)throw null!==t.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ye){throw console.error("THREE.WebGLRenderer: "+Ye.message),Ye}function le(){m=new Ra(f),v=new La(f,m,e),!1===v.isWebGL2&&(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),R=new kl(f,m,v),g=new Ol(f,m,v),g.scissor(W.copy(Q).multiplyScalar(Y).floor()),g.viewport(V.copy(K).multiplyScalar(Y).floor()),y=new Da(f),_=new pl,b=new Rl(f,m,g,_,v,R,y),x=new io(f,v),w=new ka(f,x,y),S=new Na(f,w,x,y),A=new Ba(f),C=new dl(k,m,v),M=new gl,E=new Cl,T=new Ta(k,g,S,a),L=new Aa(f,m,y,v),O=new Pa(f,m,y,v),y.programs=C.programs,k.capabilities=v,k.extensions=m,k.properties=_,k.renderLists=M,k.state=g,k.info=y}le();var he=new Bl(k,f);this.xr=he;var ue=new Ll(k,S,v.maxTextureSize);function de(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function pe(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1,le()}function fe(e){var t=e.target;t.removeEventListener("dispose",fe),me(t)}function me(e){ge(e),_.remove(e)}function ge(e){var t=_.get(e).program;e.program=void 0,void 0!==t&&C.releaseProgram(t)}function ye(e,t){e.render((function(e){k.renderBufferImmediate(e,t)}))}this.shadowMap=ue,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var e=m.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=m.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize($,X,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new ai),e.set($,X)},this.setSize=function(e,i,n){he.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):($=e,X=i,t.width=Math.floor(e*Y),t.height=Math.floor(i*Y),!1!==n&&(t.style.width=e+"px",t.style.height=i+"px"),this.setViewport(0,0,e,i))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new ai),e.set($*Y,X*Y).floor()},this.setDrawingBufferSize=function(e,i,n){$=e,X=i,Y=n,t.width=Math.floor(e*n),t.height=Math.floor(i*n),this.setViewport(0,0,e,i)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new di),e.copy(V)},this.getViewport=function(e){return e.copy(K)},this.setViewport=function(e,t,i,n){e.isVector4?K.set(e.x,e.y,e.z,e.w):K.set(e,t,i,n),g.viewport(V.copy(K).multiplyScalar(Y).floor())},this.getScissor=function(e){return e.copy(Q)},this.setScissor=function(e,t,i,n){e.isVector4?Q.set(e.x,e.y,e.z,e.w):Q.set(e,t,i,n),g.scissor(W.copy(Q).multiplyScalar(Y).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(e){g.setScissorTest(ee=e)},this.setOpaqueSort=function(e){Z=e},this.setTransparentSort=function(e){J=e},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(e,t,i){var n=0;(void 0===e||e)&&(n|=16384),(void 0===t||t)&&(n|=256),(void 0===i||i)&&(n|=1024),f.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",de,!1),t.removeEventListener("webglcontextrestored",pe,!1),M.dispose(),E.dispose(),_.dispose(),S.dispose(),he.dispose(),Me.stop()},this.renderBufferImmediate=function(e,t){g.initAttributes();var i=_.get(e);e.hasPositions&&!i.position&&(i.position=f.createBuffer()),e.hasNormals&&!i.normal&&(i.normal=f.createBuffer()),e.hasUvs&&!i.uv&&(i.uv=f.createBuffer()),e.hasColors&&!i.color&&(i.color=f.createBuffer());var n=t.getAttributes();e.hasPositions&&(f.bindBuffer(34962,i.position),f.bufferData(34962,e.positionArray,35048),g.enableAttribute(n.position),f.vertexAttribPointer(n.position,3,5126,!1,0,0)),e.hasNormals&&(f.bindBuffer(34962,i.normal),f.bufferData(34962,e.normalArray,35048),g.enableAttribute(n.normal),f.vertexAttribPointer(n.normal,3,5126,!1,0,0)),e.hasUvs&&(f.bindBuffer(34962,i.uv),f.bufferData(34962,e.uvArray,35048),g.enableAttribute(n.uv),f.vertexAttribPointer(n.uv,2,5126,!1,0,0)),e.hasColors&&(f.bindBuffer(34962,i.color),f.bufferData(34962,e.colorArray,35048),g.enableAttribute(n.color),f.vertexAttribPointer(n.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),f.drawArrays(4,0,e.count),e.count=0};var _e=new Gi;function be(e,t,i,n){if(!1!==v.isWebGL2||!e.isInstancedMesh&&!t.isInstancedBufferGeometry||null!==m.get("ANGLE_instanced_arrays")){g.initAttributes();var r=t.attributes,o=n.getAttributes(),s=i.defaultAttributeValues;for(var a in o){var c=o[a];if(c>=0){var l=r[a];if(void 0!==l){var h=l.normalized,u=l.itemSize,d=x.get(l);if(void 0===d)continue;var p=d.buffer,y=d.type,_=d.bytesPerElement;if(l.isInterleavedBufferAttribute){var b=l.data,w=b.stride,S=l.offset;b&&b.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(c,b.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=b.meshPerAttribute*b.count)):g.enableAttribute(c),f.bindBuffer(34962,p),g.vertexAttribPointer(c,u,y,h,w*_,S*_)}else l.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(c,l.meshPerAttribute),void 0===t.maxInstancedCount&&(t.maxInstancedCount=l.meshPerAttribute*l.count)):g.enableAttribute(c),f.bindBuffer(34962,p),g.vertexAttribPointer(c,u,y,h,0,0)}else if("instanceMatrix"===a){d=x.get(e.instanceMatrix);if(void 0===d)continue;p=d.buffer,y=d.type;g.enableAttributeAndDivisor(c+0,1),g.enableAttributeAndDivisor(c+1,1),g.enableAttributeAndDivisor(c+2,1),g.enableAttributeAndDivisor(c+3,1),f.bindBuffer(34962,p),f.vertexAttribPointer(c+0,4,y,!1,64,0),f.vertexAttribPointer(c+1,4,y,!1,64,16),f.vertexAttribPointer(c+2,4,y,!1,64,32),f.vertexAttribPointer(c+3,4,y,!1,64,48)}else if(void 0!==s){var C=s[a];if(void 0!==C)switch(C.length){case 2:f.vertexAttrib2fv(c,C);break;case 3:f.vertexAttrib3fv(c,C);break;case 4:f.vertexAttrib4fv(c,C);break;default:f.vertexAttrib1fv(c,C)}}}}g.disableUnusedAttributes()}}this.renderBufferDirect=function(e,t,i,n,r,o){null===t&&(t=_e);var s=r.isMesh&&r.matrixWorld.determinant()<0,a=Re(e,t,n,r);g.setMaterial(n,s);var c=!1;F.geometry===i.id&&F.program===a.id&&F.wireframe===(!0===n.wireframe)||(F.geometry=i.id,F.program=a.id,F.wireframe=!0===n.wireframe,c=!0),(n.morphTargets||n.morphNormals)&&(A.update(r,i,n,a),c=!0),!0===r.isInstancedMesh&&(c=!0);var l=i.index,h=i.attributes.position;if(null===l){if(void 0===h||0===h.count)return}else if(0===l.count)return;var u,d=1;!0===n.wireframe&&(l=w.getWireframeAttribute(i),d=2);var p=L;null!==l&&(u=x.get(l),p=O,p.setIndex(u)),c&&(be(r,i,n,a),null!==l&&f.bindBuffer(34963,u.buffer));var m=null!==l?l.count:h.count,v=i.drawRange.start*d,y=i.drawRange.count*d,_=null!==o?o.start*d:0,b=null!==o?o.count*d:1/0,S=Math.max(v,_),C=Math.min(m,v+y,_+b)-1,M=Math.max(0,C-S+1);if(0!==M){if(r.isMesh)!0===n.wireframe?(g.setLineWidth(n.wireframeLinewidth*ae()),p.setMode(1)):p.setMode(4);else if(r.isLine){var E=n.linewidth;void 0===E&&(E=1),g.setLineWidth(E*ae()),r.isLineSegments?p.setMode(1):r.isLineLoop?p.setMode(2):p.setMode(3)}else r.isPoints?p.setMode(0):r.isSprite&&p.setMode(4);r.isInstancedMesh?p.renderInstances(i,S,M,r.count):i.isInstancedBufferGeometry?p.renderInstances(i,S,M,i.maxInstancedCount):p.render(S,M)}},this.compile=function(e,t){p=E.get(e,t),p.init(),e.traverse((function(e){e.isLight&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))})),p.setupLights(t);var i={};e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)t.material[n].uuid in i===!1&&(Le(t.material[n],e,t),i[t.material[n].uuid]=!0);else t.material.uuid in i===!1&&(Le(t.material,e,t),i[t.material.uuid]=!0)}))};var xe=null;function Ce(e){he.isPresenting||xe&&xe(e)}var Me=new to;function Ee(e,t,i,n){if(!1!==e.visible){var r=e.layers.test(t.layers);if(r)if(e.isGroup)i=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)p.pushLight(e),e.castShadow&&p.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||te.intersectsSprite(e)){n&&se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe);var o=S.update(e),s=e.material;s.visible&&d.push(e,o,s,i,se.z,null)}}else if(e.isImmediateRenderObject)n&&se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe),d.push(e,null,e.material,i,se.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==y.render.frame&&(e.skeleton.update(),e.skeleton.frame=y.render.frame),!e.frustumCulled||te.intersectsObject(e))){n&&se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(oe);o=S.update(e),s=e.material;if(Array.isArray(s))for(var a=o.groups,c=0,l=a.length;c<l;c++){var h=a[c],u=s[h.materialIndex];u&&u.visible&&d.push(e,o,u,i,se.z,h)}else s.visible&&d.push(e,o,s,i,se.z,null)}var f=e.children;for(c=0,l=f.length;c<l;c++)Ee(f[c],t,i,n)}}function Te(e,t,i,n){for(var r=0,o=e.length;r<o;r++){var s=e[r],a=s.object,c=s.geometry,l=void 0===n?s.material:n,h=s.group;if(i.isArrayCamera){U=i;for(var u=i.cameras,d=0,f=u.length;d<f;d++){var m=u[d];a.layers.test(m.layers)&&(g.viewport(V.copy(m.viewport)),p.setupLights(m),Ae(a,t,m,c,l,h))}}else U=null,Ae(a,t,i,c,l,h)}}function Ae(e,t,i,n,r,o){if(e.onBeforeRender(k,t,i,n,r,o),p=E.get(t,U||i),e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var s=Re(i,t,r,e);g.setMaterial(r),F.geometry=null,F.program=null,F.wireframe=!1,ye(e,s)}else k.renderBufferDirect(i,t,n,r,e,o);e.onAfterRender(k,t,i,n,r,o),p=E.get(t,U||i)}function Le(e,t,i){var n=_.get(e),r=p.state.lights,o=p.state.shadowsArray,s=r.state.version,a=C.getParameters(e,r.state,o,t,ie.numPlanes,ie.numIntersection,i),c=C.getProgramCacheKey(a),l=n.program,h=!0;if(void 0===l)e.addEventListener("dispose",fe);else if(l.cacheKey!==c)ge(e);else if(n.lightsStateVersion!==s)n.lightsStateVersion=s,h=!1;else{if(void 0!==a.shaderID)return;h=!1}h&&(l=C.acquireProgram(a,c),n.program=l,n.uniforms=a.uniforms,n.outputEncoding=a.outputEncoding,e.program=l);var u=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<k.maxMorphTargets;d++)u["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(d=0;d<k.maxMorphNormals;d++)u["morphNormal"+d]>=0&&e.numSupportedMorphNormals++}var f=n.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(n.numClippingPlanes=ie.numPlanes,n.numIntersection=ie.numIntersection,f.clippingPlanes=ie.uniform),n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.needsLights=Xe(e),n.lightsStateVersion=s,n.needsLights&&(f.ambientLightColor.value=r.state.ambient,f.lightProbe.value=r.state.probe,f.directionalLights.value=r.state.directional,f.directionalLightShadows.value=r.state.directionalShadow,f.spotLights.value=r.state.spot,f.spotLightShadows.value=r.state.spotShadow,f.rectAreaLights.value=r.state.rectArea,f.pointLights.value=r.state.point,f.pointLightShadows.value=r.state.pointShadow,f.hemisphereLights.value=r.state.hemi,f.directionalShadowMap.value=r.state.directionalShadowMap,f.directionalShadowMatrix.value=r.state.directionalShadowMatrix,f.spotShadowMap.value=r.state.spotShadowMap,f.spotShadowMatrix.value=r.state.spotShadowMatrix,f.pointShadowMap.value=r.state.pointShadowMap,f.pointShadowMatrix.value=r.state.pointShadowMatrix);var m=n.program.getUniforms(),v=Nc.seqWithValue(m.seq,f);n.uniformsList=v}function Re(e,t,i,n){b.resetTextureUnits();var r=t.fog,o=i.isMeshStandardMaterial?t.environment:null,s=null===N?k.outputEncoding:N.texture.encoding,a=_.get(i),c=p.state.lights;if(ne&&(re||e!==z)){var l=e===z&&i.id===H;ie.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,e,a,l)}i.version===a.__version?void 0===a.program||i.fog&&a.fog!==r||a.environment!==o||a.needsLights&&a.lightsStateVersion!==c.state.version?Le(i,t,n):void 0===a.numClippingPlanes||a.numClippingPlanes===ie.numPlanes&&a.numIntersection===ie.numIntersection?a.outputEncoding!==s&&Le(i,t,n):Le(i,t,n):(Le(i,t,n),a.__version=i.version);var h=!1,u=!1,d=!1,m=a.program,y=m.getUniforms(),x=a.uniforms;if(g.useProgram(m.program)&&(h=!0,u=!0,d=!0),i.id!==H&&(H=i.id,u=!0),h||z!==e){if(y.setValue(f,"projectionMatrix",e.projectionMatrix),v.logarithmicDepthBuffer&&y.setValue(f,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),z!==e&&(z=e,u=!0,d=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap){var w=y.map.cameraPosition;void 0!==w&&w.setValue(f,se.setFromMatrixPosition(e.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&y.setValue(f,"isOrthographic",!0===e.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&y.setValue(f,"viewMatrix",e.matrixWorldInverse)}if(i.skinning){y.setOptional(f,n,"bindMatrix"),y.setOptional(f,n,"bindMatrixInverse");var S=n.skeleton;if(S){var C=S.bones;if(v.floatVertexTextures){if(void 0===S.boneTexture){var M=Math.sqrt(4*C.length);M=si.ceilPowerOfTwo(M),M=Math.max(M,4);var E=new Float32Array(M*M*4);E.set(S.boneMatrices);var T=new Zr(E,M,M,Oe,we);S.boneMatrices=E,S.boneTexture=T,S.boneTextureSize=M}y.setValue(f,"boneTexture",S.boneTexture,b),y.setValue(f,"boneTextureSize",S.boneTextureSize)}else y.setOptional(f,S,"boneMatrices")}}return(u||a.receiveShadow!==n.receiveShadow)&&(a.receiveShadow=n.receiveShadow,y.setValue(f,"receiveShadow",n.receiveShadow)),u&&(y.setValue(f,"toneMappingExposure",k.toneMappingExposure),y.setValue(f,"toneMappingWhitePoint",k.toneMappingWhitePoint),a.needsLights&&qe(x,d),r&&i.fog&&Ne(x,r),i.isMeshBasicMaterial?ke(x,i):i.isMeshLambertMaterial?(ke(x,i),je(x,i)):i.isMeshToonMaterial?(ke(x,i),Fe(x,i)):i.isMeshPhongMaterial?(ke(x,i),He(x,i)):i.isMeshStandardMaterial?(ke(x,i,o),i.isMeshPhysicalMaterial?Ue(x,i,o):ze(x,i,o)):i.isMeshMatcapMaterial?(ke(x,i),Ve(x,i)):i.isMeshDepthMaterial?(ke(x,i),We(x,i)):i.isMeshDistanceMaterial?(ke(x,i),Ge(x,i)):i.isMeshNormalMaterial?(ke(x,i),$e(x,i)):i.isLineBasicMaterial?(Pe(x,i),i.isLineDashedMaterial&&De(x,i)):i.isPointsMaterial?Ie(x,i):i.isSpriteMaterial?Be(x,i):i.isShadowMaterial&&(x.color.value.copy(i.color),x.opacity.value=i.opacity),void 0!==x.ltc_1&&(x.ltc_1.value=eo.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=eo.LTC_2),Nc.upload(f,a.uniformsList,x,b),i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Nc.upload(f,a.uniformsList,x,b),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&y.setValue(f,"center",n.center),y.setValue(f,"modelViewMatrix",n.modelViewMatrix),y.setValue(f,"normalMatrix",n.normalMatrix),y.setValue(f,"modelMatrix",n.matrixWorld),m}function ke(e,t,i){e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap);var n,r,o=t.envMap||i;o&&(e.envMap.value=o,e.flipEnvMap.value=o.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=_.get(o).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix)),t.aoMap?r=t.aoMap:t.lightMap&&(r=t.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uv2Transform.value.copy(r.matrix))}function Pe(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}function De(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function Ie(e,t){var i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Y,e.scale.value=.5*X,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}function Be(e,t){var i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}function Ne(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}function je(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}function He(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Fe(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.gradientMap&&(e.gradientMap.value=t.gradientMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function ze(e,t,i){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||i)&&(e.envMapIntensity.value=t.envMapIntensity)}function Ue(e,t,i){ze(e,t,i),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen),t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===u&&e.clearcoatNormalScale.value.negate()),e.transparency.value=t.transparency}function Ve(e,t){t.matcap&&(e.matcap.value=t.matcap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function We(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Ge(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}function $e(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function qe(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function Xe(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Me.setAnimationLoop(Ce),"undefined"!==typeof window&&Me.setContext(window),this.setAnimationLoop=function(e){xe=e,he.setAnimationLoop(e),Me.start()},this.render=function(e,t){var i,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),i=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),t&&t.isCamera){if(!P){F.geometry=null,F.program=null,F.wireframe=!1,H=-1,z=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),he.enabled&&he.isPresenting&&(t=he.getCamera(t)),e.onBeforeRender(k,e,t,i||N),p=E.get(e,t),p.init(),oe.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),te.setFromProjectionMatrix(oe),re=this.localClippingEnabled,ne=ie.init(this.clippingPlanes,re,t),d=M.get(e,t),d.init(),Ee(e,t,0,k.sortObjects),d.finish(),!0===k.sortObjects&&d.sort(Z,J),ne&&ie.beginShadows();var r=p.state.shadowsArray;ue.render(r,e,t),p.setupLights(t),ne&&ie.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),T.render(d,e,t,n);var o=d.opaque,s=d.transparent;if(e.overrideMaterial){var a=e.overrideMaterial;o.length&&Te(o,e,t,a),s.length&&Te(s,e,t,a)}else o.length&&Te(o,e,t),s.length&&Te(s,e,t);e.onAfterRender(k,e,t),null!==N&&(b.updateRenderTargetMipmap(N),b.updateMultisampleRenderTarget(N)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),d=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){D!==e&&null===N&&f.bindFramebuffer(36160,e),D=e},this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return B},this.getRenderTarget=function(){return N},this.setRenderTarget=function(e,t,i){N=e,I=t,B=i,e&&void 0===_.get(e).__webglFramebuffer&&b.setupRenderTarget(e);var n=D,r=!1;if(e){var o=_.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(n=o[t||0],r=!0):n=e.isWebGLMultisampleRenderTarget?_.get(e).__webglMultisampledFramebuffer:o,V.copy(e.viewport),W.copy(e.scissor),G=e.scissorTest}else V.copy(K).multiplyScalar(Y).floor(),W.copy(Q).multiplyScalar(Y).floor(),G=ee;if(j!==n&&(f.bindFramebuffer(36160,n),j=n),g.viewport(V),g.scissor(W),g.setScissorTest(G),r){var s=_.get(e.texture);f.framebufferTexture2D(36160,36064,34069+(t||0),s.__webglTexture,i||0)}},this.readRenderTargetPixels=function(e,t,i,n,r,o,s){if(e&&e.isWebGLRenderTarget){var a=_.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){var c=!1;a!==j&&(f.bindFramebuffer(36160,a),c=!0);try{var l=e.texture,h=l.format,u=l.type;if(h!==Oe&&R.convert(h)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(u!==ve&&R.convert(u)!==f.getParameter(35738)&&(u!==we||!(v.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float")))&&(u!==Se||!(v.isWebGL2?m.get("EXT_color_buffer_float"):m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?t>=0&&t<=e.width-n&&i>=0&&i<=e.height-r&&f.readPixels(t,i,n,r,R.convert(h),R.convert(u),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&f.bindFramebuffer(36160,j)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,i){void 0===i&&(i=0);var n=Math.pow(2,-i),r=Math.floor(t.image.width*n),o=Math.floor(t.image.height*n),s=R.convert(t.format);b.setTexture2D(t,0),f.copyTexImage2D(3553,i,s,e.x,e.y,r,o,0),g.unbindTexture()},this.copyTextureToTexture=function(e,t,i,n){void 0===n&&(n=0);var r=t.image.width,o=t.image.height,s=R.convert(i.format),a=R.convert(i.type);b.setTexture2D(i,0),t.isDataTexture?f.texSubImage2D(3553,n,e.x,e.y,r,o,s,a,t.image.data):t.isCompressedTexture?f.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,s,t.mipmaps[0].data):f.texSubImage2D(3553,n,e.x,e.y,s,a,t.image),0===n&&i.generateMipmaps&&f.generateMipmap(3553),g.unbindTexture()},this.initTexture=function(e){b.setTexture2D(e,0),g.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function jl(e,t){this.name="",this.color=new Bn(e),this.density=void 0!==t?t:25e-5}function Hl(e,t,i){this.name="",this.color=new Bn(e),this.near=void 0!==t?t:1,this.far=void 0!==i?i:1e3}function Fl(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=ei,this.updateRange={offset:0,count:-1},this.version=0}Pl.prototype=Object.assign(Object.create(Gr.prototype),{constructor:Pl,isArrayCamera:!0}),Dl.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Dl,isGroup:!0}),Object.assign(Il.prototype,{constructor:Il,getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Dl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Dl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),this},update:function(e,t,i){var n=null,r=null,o=this._targetRay,s=this._grip;return e&&(null!==o&&(n=t.getPose(e.targetRaySpace,i),null!==n&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==s&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)))),null!==o&&(o.visible=null!==n),null!==s&&(s.visible=null!==r),this}}),Object.assign(Bl.prototype,ii.prototype),Object.assign(jl.prototype,{isFogExp2:!0,clone:function(){return new jl(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Hl.prototype,{isFog:!0,clone:function(){return new Hl(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Fl.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Fl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,i){e*=this.stride,i*=t.stride;for(var n=0,r=this.stride;n<r;n++)this.array[e+n]=t.array[i+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var zl,Ul=new yi;function Vl(e,t,i,n){this.data=e,this.itemSize=t,this.offset=i,this.normalized=!0===n}function Wl(e){Un.call(this),this.type="SpriteMaterial",this.color=new Bn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(Vl.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Vl.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,i=this.data.count;t<i;t++)Ul.x=this.getX(t),Ul.y=this.getY(t),Ul.z=this.getZ(t),Ul.applyMatrix4(e),this.setXYZ(t,Ul.x,Ul.y,Ul.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this},setXYZ:function(e,t,i,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this},setXYZW:function(e,t,i,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this.data.array[e+3]=r,this}}),Wl.prototype=Object.create(Un.prototype),Wl.prototype.constructor=Wl,Wl.prototype.isSpriteMaterial=!0,Wl.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Gl=new yi,$l=new yi,ql=new yi,Xl=new ai,Yl=new ai,Zl=new Ei,Jl=new yi,Kl=new yi,Ql=new yi,eh=new ai,th=new ai,ih=new ai;function nh(e){if(Wi.call(this),this.type="Sprite",void 0===zl){zl=new hr;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Fl(t,5);zl.setIndex([0,1,2,0,2,3]),zl.setAttribute("position",new Vl(i,3,0,!1)),zl.setAttribute("uv",new Vl(i,2,3,!1))}this.geometry=zl,this.material=void 0!==e?e:new Wl,this.center=new ai(.5,.5)}function rh(e,t,i,n,r,o){Xl.subVectors(e,i).addScalar(.5).multiply(n),void 0!==r?(Yl.x=o*Xl.x-r*Xl.y,Yl.y=r*Xl.x+o*Xl.y):Yl.copy(Xl),e.copy(t),e.x+=Yl.x,e.y+=Yl.y,e.applyMatrix4(Zl)}nh.prototype=Object.assign(Object.create(Wi.prototype),{constructor:nh,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),$l.setFromMatrixScale(this.matrixWorld),Zl.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ql.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&$l.multiplyScalar(-ql.z);var i,n,r=this.material.rotation;0!==r&&(n=Math.cos(r),i=Math.sin(r));var o=this.center;rh(Jl.set(-.5,-.5,0),ql,o,$l,i,n),rh(Kl.set(.5,-.5,0),ql,o,$l,i,n),rh(Ql.set(.5,.5,0),ql,o,$l,i,n),eh.set(0,0),th.set(1,0),ih.set(1,1);var s=e.ray.intersectTriangle(Jl,Kl,Ql,!1,Gl);if(null!==s||(rh(Kl.set(-.5,.5,0),ql,o,$l,i,n),th.set(0,1),s=e.ray.intersectTriangle(Jl,Ql,Kl,!1,Gl),null!==s)){var a=e.ray.origin.distanceTo(Gl);a<e.near||a>e.far||t.push({distance:a,point:Gl.clone(),uv:kn.getUV(Gl,Jl,Kl,Ql,eh,th,ih,new ai),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Wi.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var oh=new yi,sh=new yi;function ah(){Wi.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function ch(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Ar.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ei,this.bindMatrixInverse=new Ei}ah.prototype=Object.assign(Object.create(Wi.prototype),{constructor:ah,isLOD:!0,copy:function(e){Wi.prototype.copy.call(this,e,!1);for(var t=e.levels,i=0,n=t.length;i<n;i++){var r=t[i];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var i=this.levels,n=0;n<i.length;n++)if(t<i[n].distance)break;return i.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){for(var i=1,n=t.length;i<n;i++)if(e<t[i].distance)break;return t[i-1].object}return null},raycast:function(e,t){var i=this.levels;if(i.length>0){oh.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(oh);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){oh.setFromMatrixPosition(e.matrixWorld),sh.setFromMatrixPosition(this.matrixWorld);var i=oh.distanceTo(sh)/e.zoom;t[0].object.visible=!0;for(var n=1,r=t.length;n<r;n++){if(!(i>=t[n].distance))break;t[n-1].object.visible=!1,t[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}},toJSON:function(e){var t=Wi.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var i=this.levels,n=0,r=i.length;n<r;n++){var o=i[n];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),ch.prototype=Object.assign(Object.create(Ar.prototype),{constructor:ch,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new di,t=this.geometry.attributes.skinWeight,i=0,n=t.count;i<n;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);var r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Ar.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:function(){var e=new yi,t=new di,i=new di,n=new yi,r=new Ei;return function(o,s){var a=this.skeleton,c=this.geometry;t.fromBufferAttribute(c.attributes.skinIndex,o),i.fromBufferAttribute(c.attributes.skinWeight,o),e.fromBufferAttribute(c.attributes.position,o).applyMatrix4(this.bindMatrix),s.set(0,0,0);for(var l=0;l<4;l++){var h=i.getComponent(l);if(0!==h){var u=t.getComponent(l);r.multiplyMatrices(a.bones[u].matrixWorld,a.boneInverses[u]),s.addScaledVector(n.copy(e).applyMatrix4(r),h)}}return s.applyMatrix4(this.bindMatrixInverse)}}()});var lh=new Ei,hh=new Ei;function uh(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new Ei)}}function dh(){Wi.call(this),this.type="Bone"}Object.assign(uh.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var i=new Ei;this.bones[e]&&i.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(i)}},pose:function(){var e,t,i;for(t=0,i=this.bones.length;t<i;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,i=this.bones.length;t<i;t++)e=this.bones[t],e&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,i=this.boneMatrices,n=this.boneTexture,r=0,o=e.length;r<o;r++){var s=e[r]?e[r].matrixWorld:hh;lh.multiplyMatrices(s,t[r]),lh.toArray(i,16*r)}void 0!==n&&(n.needsUpdate=!0)},clone:function(){return new uh(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,i=this.bones.length;t<i;t++){var n=this.bones[t];if(n.name===e)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),dh.prototype=Object.assign(Object.create(Wi.prototype),{constructor:dh,isBone:!0});var ph=new Ei,fh=new Ei,mh=[],vh=new Ar;function gh(e,t,i){Ar.call(this,e,t),this.instanceMatrix=new Gn(new Float32Array(16*i),16),this.count=i,this.frustumCulled=!1}function yh(e){Un.call(this),this.type="LineBasicMaterial",this.color=new Bn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}gh.prototype=Object.assign(Object.create(Ar.prototype),{constructor:gh,isInstancedMesh:!0,getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var i=this.matrixWorld,n=this.count;if(vh.geometry=this.geometry,vh.material=this.material,void 0!==vh.material)for(var r=0;r<n;r++){this.getMatrixAt(r,ph),fh.multiplyMatrices(i,ph),vh.matrixWorld=fh,vh.raycast(e,mh);for(var o=0,s=mh.length;o<s;o++){var a=mh[o];a.instanceId=r,a.object=this,t.push(a)}mh.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),yh.prototype=Object.create(Un.prototype),yh.prototype.constructor=yh,yh.prototype.isLineBasicMaterial=!0,yh.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var _h=new yi,bh=new yi,xh=new Ei,wh=new gn,Sh=new ln;function Ch(e,t,i){1===i&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Wi.call(this),this.type="Line",this.geometry=void 0!==e?e:new hr,this.material=void 0!==t?t:new yh}Ch.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Ch,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,i=[0],n=1,r=t.count;n<r;n++)_h.fromBufferAttribute(t,n-1),bh.fromBufferAttribute(t,n),i[n]=i[n-1],i[n]+=_h.distanceTo(bh);e.setAttribute("lineDistance",new Qn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;i=e.lineDistances;i[0]=0;for(n=1,r=o.length;n<r;n++)i[n]=i[n-1],i[n]+=o[n-1].distanceTo(o[n])}return this},raycast:function(e,t){var i=this.geometry,n=this.matrixWorld,r=e.params.Line.threshold;if(null===i.boundingSphere&&i.computeBoundingSphere(),Sh.copy(i.boundingSphere),Sh.applyMatrix4(n),Sh.radius+=r,!1!==e.ray.intersectsSphere(Sh)){xh.getInverse(n),wh.copy(e.ray).applyMatrix4(xh);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,a=new yi,c=new yi,l=new yi,h=new yi,u=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var d=i.index,p=i.attributes,f=p.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length-1;v<g;v+=u){var y=m[v],_=m[v+1];a.fromArray(f,3*y),c.fromArray(f,3*_);var b=wh.distanceSqToSegment(a,c,h,l);if(!(b>s)){h.applyMatrix4(this.matrixWorld);var x=e.ray.origin.distanceTo(h);x<e.near||x>e.far||t.push({distance:x,point:l.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(v=0,g=f.length/3-1;v<g;v+=u){a.fromArray(f,3*v),c.fromArray(f,3*v+3);b=wh.distanceSqToSegment(a,c,h,l);if(!(b>s)){h.applyMatrix4(this.matrixWorld);x=e.ray.origin.distanceTo(h);x<e.near||x>e.far||t.push({distance:x,point:l.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}else if(i.isGeometry){var w=i.vertices,S=w.length;for(v=0;v<S-1;v+=u){b=wh.distanceSqToSegment(w[v],w[v+1],h,l);if(!(b>s)){h.applyMatrix4(this.matrixWorld);x=e.ray.origin.distanceTo(h);x<e.near||x>e.far||t.push({distance:x,point:l.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Mh=new yi,Eh=new yi;function Th(e,t){Ch.call(this,e,t),this.type="LineSegments"}function Ah(e,t){Ch.call(this,e,t),this.type="LineLoop"}function Lh(e){Un.call(this),this.type="PointsMaterial",this.color=new Bn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Th.prototype=Object.assign(Object.create(Ch.prototype),{constructor:Th,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,i=[],n=0,r=t.count;n<r;n+=2)Mh.fromBufferAttribute(t,n),Eh.fromBufferAttribute(t,n+1),i[n]=0===n?0:i[n-1],i[n+1]=i[n]+Mh.distanceTo(Eh);e.setAttribute("lineDistance",new Qn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices;for(i=e.lineDistances,n=0,r=o.length;n<r;n+=2)Mh.copy(o[n]),Eh.copy(o[n+1]),i[n]=0===n?0:i[n-1],i[n+1]=i[n]+Mh.distanceTo(Eh)}return this}}),Ah.prototype=Object.assign(Object.create(Ch.prototype),{constructor:Ah,isLineLoop:!0}),Lh.prototype=Object.create(Un.prototype),Lh.prototype.constructor=Lh,Lh.prototype.isPointsMaterial=!0,Lh.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Oh=new Ei,Rh=new gn,kh=new ln,Ph=new yi;function Dh(e,t){Wi.call(this),this.type="Points",this.geometry=void 0!==e?e:new hr,this.material=void 0!==t?t:new Lh,this.updateMorphTargets()}function Ih(e,t,i,n,r,o,s){var a=Rh.distanceSqToPoint(e);if(a<i){var c=new yi;Rh.closestPointToPoint(e,c),c.applyMatrix4(n);var l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:c,index:t,face:null,object:s})}}function Bh(e,t,i,n,r,o,s,a,c){ui.call(this,e,t,i,n,r,o,s,a,c),this.format=void 0!==s?s:Le,this.minFilter=void 0!==o?o:pe,this.magFilter=void 0!==r?r:pe,this.generateMipmaps=!1}function Nh(e,t,i,n,r,o,s,a,c,l,h,u){ui.call(this,null,o,s,a,c,l,n,r,h,u),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function jh(e,t,i,n,r,o,s,a,c){ui.call(this,e,t,i,n,r,o,s,a,c),this.needsUpdate=!0}function Hh(e,t,i,n,r,o,s,a,c,l){if(l=void 0!==l?l:De,l!==De&&l!==Ie)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===De&&(i=_e),void 0===i&&l===Ie&&(i=Te),ui.call(this,null,n,r,o,s,a,l,i,c),this.image={width:e,height:t},this.magFilter=void 0!==s?s:he,this.minFilter=void 0!==a?a:he,this.flipY=!1,this.generateMipmaps=!1}function Fh(e){hr.call(this),this.type="WireframeGeometry";var t,i,n,r,o,s,a,c,l,h,u=[],d=[0,0],p={},f=["a","b","c"];if(e&&e.isGeometry){var m=e.faces;for(t=0,n=m.length;t<n;t++){var v=m[t];for(i=0;i<3;i++)a=v[f[i]],c=v[f[(i+1)%3]],d[0]=Math.min(a,c),d[1]=Math.max(a,c),l=d[0]+","+d[1],void 0===p[l]&&(p[l]={index1:d[0],index2:d[1]})}for(l in p)s=p[l],h=e.vertices[s.index1],u.push(h.x,h.y,h.z),h=e.vertices[s.index2],u.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var g,y,_,b,x,w,S,C;if(h=new yi,null!==e.index){for(g=e.attributes.position,y=e.index,_=e.groups,0===_.length&&(_=[{start:0,count:y.count,materialIndex:0}]),r=0,o=_.length;r<o;++r)for(b=_[r],x=b.start,w=b.count,t=x,n=x+w;t<n;t+=3)for(i=0;i<3;i++)a=y.getX(t+i),c=y.getX(t+(i+1)%3),d[0]=Math.min(a,c),d[1]=Math.max(a,c),l=d[0]+","+d[1],void 0===p[l]&&(p[l]={index1:d[0],index2:d[1]});for(l in p)s=p[l],h.fromBufferAttribute(g,s.index1),u.push(h.x,h.y,h.z),h.fromBufferAttribute(g,s.index2),u.push(h.x,h.y,h.z)}else for(g=e.attributes.position,t=0,n=g.count/3;t<n;t++)for(i=0;i<3;i++)S=3*t+i,h.fromBufferAttribute(g,S),u.push(h.x,h.y,h.z),C=3*t+(i+1)%3,h.fromBufferAttribute(g,C),u.push(h.x,h.y,h.z)}this.setAttribute("position",new Qn(u,3))}function zh(e,t,i){Ir.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:i},this.fromBufferGeometry(new Uh(e,t,i)),this.mergeVertices()}function Uh(e,t,i){hr.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:i};var n,r,o=[],s=[],a=[],c=[],l=1e-5,h=new yi,u=new yi,d=new yi,p=new yi,f=new yi;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=t+1;for(n=0;n<=i;n++){var v=n/i;for(r=0;r<=t;r++){var g=r/t;e(g,v,u),s.push(u.x,u.y,u.z),g-l>=0?(e(g-l,v,d),p.subVectors(u,d)):(e(g+l,v,d),p.subVectors(d,u)),v-l>=0?(e(g,v-l,d),f.subVectors(u,d)):(e(g,v+l,d),f.subVectors(d,u)),h.crossVectors(p,f).normalize(),a.push(h.x,h.y,h.z),c.push(g,v)}}for(n=0;n<i;n++)for(r=0;r<t;r++){var y=n*m+r,_=n*m+r+1,b=(n+1)*m+r+1,x=(n+1)*m+r;o.push(y,_,x),o.push(_,b,x)}this.setIndex(o),this.setAttribute("position",new Qn(s,3)),this.setAttribute("normal",new Qn(a,3)),this.setAttribute("uv",new Qn(c,2))}function Vh(e,t,i,n){Ir.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:n},this.fromBufferGeometry(new Wh(e,t,i,n)),this.mergeVertices()}function Wh(e,t,i,n){hr.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:n},i=i||1,n=n||0;var r=[],o=[];function s(e){for(var i=new yi,n=new yi,r=new yi,o=0;o<t.length;o+=3)d(t[o+0],i),d(t[o+1],n),d(t[o+2],r),a(i,n,r,e)}function a(e,t,i,n){var r,o,s=Math.pow(2,n),a=[];for(r=0;r<=s;r++){a[r]=[];var c=e.clone().lerp(i,r/s),l=t.clone().lerp(i,r/s),h=s-r;for(o=0;o<=h;o++)a[r][o]=0===o&&r===s?c:c.clone().lerp(l,o/h)}for(r=0;r<s;r++)for(o=0;o<2*(s-r)-1;o++){var d=Math.floor(o/2);o%2===0?(u(a[r][d+1]),u(a[r+1][d]),u(a[r][d])):(u(a[r][d+1]),u(a[r+1][d+1]),u(a[r+1][d]))}}function c(e){for(var t=new yi,i=0;i<r.length;i+=3)t.x=r[i+0],t.y=r[i+1],t.z=r[i+2],t.normalize().multiplyScalar(e),r[i+0]=t.x,r[i+1]=t.y,r[i+2]=t.z}function l(){for(var e=new yi,t=0;t<r.length;t+=3){e.x=r[t+0],e.y=r[t+1],e.z=r[t+2];var i=m(e)/2/Math.PI+.5,n=v(e)/Math.PI+.5;o.push(i,1-n)}p(),h()}function h(){for(var e=0;e<o.length;e+=6){var t=o[e+0],i=o[e+2],n=o[e+4],r=Math.max(t,i,n),s=Math.min(t,i,n);r>.9&&s<.1&&(t<.2&&(o[e+0]+=1),i<.2&&(o[e+2]+=1),n<.2&&(o[e+4]+=1))}}function u(e){r.push(e.x,e.y,e.z)}function d(t,i){var n=3*t;i.x=e[n+0],i.y=e[n+1],i.z=e[n+2]}function p(){for(var e=new yi,t=new yi,i=new yi,n=new yi,s=new ai,a=new ai,c=new ai,l=0,h=0;l<r.length;l+=9,h+=6){e.set(r[l+0],r[l+1],r[l+2]),t.set(r[l+3],r[l+4],r[l+5]),i.set(r[l+6],r[l+7],r[l+8]),s.set(o[h+0],o[h+1]),a.set(o[h+2],o[h+3]),c.set(o[h+4],o[h+5]),n.copy(e).add(t).add(i).divideScalar(3);var u=m(n);f(s,h+0,e,u),f(a,h+2,t,u),f(c,h+4,i,u)}}function f(e,t,i,n){n<0&&1===e.x&&(o[t]=e.x-1),0===i.x&&0===i.z&&(o[t]=n/2/Math.PI+.5)}function m(e){return Math.atan2(e.z,-e.x)}function v(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}s(n),c(i),l(),this.setAttribute("position",new Qn(r,3)),this.setAttribute("normal",new Qn(r.slice(),3)),this.setAttribute("uv",new Qn(o,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function Gh(e,t){Ir.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new $h(e,t)),this.mergeVertices()}function $h(e,t){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];Wh.call(this,i,n,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function qh(e,t){Ir.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Xh(e,t)),this.mergeVertices()}function Xh(e,t){var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Wh.call(this,i,n,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Yh(e,t){Ir.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Zh(e,t)),this.mergeVertices()}function Zh(e,t){var i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Wh.call(this,n,r,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Jh(e,t){Ir.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Kh(e,t)),this.mergeVertices()}function Kh(e,t){var i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Wh.call(this,r,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Qh(e,t,i,n,r,o){Ir.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:n,closed:r},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var s=new eu(e,t,i,n,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}function eu(e,t,i,n,r){hr.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:n,closed:r},t=t||64,i=i||1,n=n||8,r=r||!1;var o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var s,a,c=new yi,l=new yi,h=new ai,u=new yi,d=[],p=[],f=[],m=[];function v(){for(s=0;s<t;s++)g(s);g(!1===r?t:0),_(),y()}function g(r){u=e.getPointAt(r/t,u);var s=o.normals[r],h=o.binormals[r];for(a=0;a<=n;a++){var f=a/n*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*s.x+m*h.x,l.y=v*s.y+m*h.y,l.z=v*s.z+m*h.z,l.normalize(),p.push(l.x,l.y,l.z),c.x=u.x+i*l.x,c.y=u.y+i*l.y,c.z=u.z+i*l.z,d.push(c.x,c.y,c.z)}}function y(){for(a=1;a<=t;a++)for(s=1;s<=n;s++){var e=(n+1)*(a-1)+(s-1),i=(n+1)*a+(s-1),r=(n+1)*a+s,o=(n+1)*(a-1)+s;m.push(e,i,o),m.push(i,r,o)}}function _(){for(s=0;s<=t;s++)for(a=0;a<=n;a++)h.x=s/t,h.y=a/n,f.push(h.x,h.y)}v(),this.setIndex(m),this.setAttribute("position",new Qn(d,3)),this.setAttribute("normal",new Qn(p,3)),this.setAttribute("uv",new Qn(f,2))}function tu(e,t,i,n,r,o,s){Ir.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:r,q:o},void 0!==s&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new iu(e,t,i,n,r,o)),this.mergeVertices()}function iu(e,t,i,n,r,o){hr.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:r,q:o},e=e||1,t=t||.4,i=Math.floor(i)||64,n=Math.floor(n)||8,r=r||2,o=o||3;var s,a,c=[],l=[],h=[],u=[],d=new yi,p=new yi,f=new yi,m=new yi,v=new yi,g=new yi,y=new yi;for(s=0;s<=i;++s){var _=s/i*r*Math.PI*2;for(T(_,r,o,e,f),T(_+.01,r,o,e,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),a=0;a<=n;++a){var b=a/n*Math.PI*2,x=-t*Math.cos(b),w=t*Math.sin(b);d.x=f.x+(x*y.x+w*v.x),d.y=f.y+(x*y.y+w*v.y),d.z=f.z+(x*y.z+w*v.z),l.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),h.push(p.x,p.y,p.z),u.push(s/i),u.push(a/n)}}for(a=1;a<=i;a++)for(s=1;s<=n;s++){var S=(n+1)*(a-1)+(s-1),C=(n+1)*a+(s-1),M=(n+1)*a+s,E=(n+1)*(a-1)+s;c.push(S,C,E),c.push(C,M,E)}function T(e,t,i,n,r){var o=Math.cos(e),s=Math.sin(e),a=i/t*e,c=Math.cos(a);r.x=n*(2+c)*.5*o,r.y=n*(2+c)*s*.5,r.z=n*Math.sin(a)*.5}this.setIndex(c),this.setAttribute("position",new Qn(l,3)),this.setAttribute("normal",new Qn(h,3)),this.setAttribute("uv",new Qn(u,2))}function nu(e,t,i,n,r){Ir.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:r},this.fromBufferGeometry(new ru(e,t,i,n,r)),this.mergeVertices()}function ru(e,t,i,n,r){hr.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:r},e=e||1,t=t||.4,i=Math.floor(i)||8,n=Math.floor(n)||6,r=r||2*Math.PI;var o,s,a=[],c=[],l=[],h=[],u=new yi,d=new yi,p=new yi;for(o=0;o<=i;o++)for(s=0;s<=n;s++){var f=s/n*r,m=o/i*Math.PI*2;d.x=(e+t*Math.cos(m))*Math.cos(f),d.y=(e+t*Math.cos(m))*Math.sin(f),d.z=t*Math.sin(m),c.push(d.x,d.y,d.z),u.x=e*Math.cos(f),u.y=e*Math.sin(f),p.subVectors(d,u).normalize(),l.push(p.x,p.y,p.z),h.push(s/n),h.push(o/i)}for(o=1;o<=i;o++)for(s=1;s<=n;s++){var v=(n+1)*o+s-1,g=(n+1)*(o-1)+s-1,y=(n+1)*(o-1)+s,_=(n+1)*o+s;a.push(v,g,_),a.push(g,y,_)}this.setIndex(a),this.setAttribute("position",new Qn(c,3)),this.setAttribute("normal",new Qn(l,3)),this.setAttribute("uv",new Qn(h,2))}Dh.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Dh,isPoints:!0,raycast:function(e,t){var i=this.geometry,n=this.matrixWorld,r=e.params.Points.threshold;if(null===i.boundingSphere&&i.computeBoundingSphere(),kh.copy(i.boundingSphere),kh.applyMatrix4(n),kh.radius+=r,!1!==e.ray.intersectsSphere(kh)){Oh.getInverse(n),Rh.copy(e.ray).applyMatrix4(Oh);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(i.isBufferGeometry){var a=i.index,c=i.attributes,l=c.position.array;if(null!==a)for(var h=a.array,u=0,d=h.length;u<d;u++){var p=h[u];Ph.fromArray(l,3*p),Ih(Ph,p,s,n,e,t,this)}else{u=0;for(var f=l.length/3;u<f;u++)Ph.fromArray(l,3*u),Ih(Ph,u,s,n,e,t,this)}}else{var m=i.vertices;for(u=0,f=m.length;u<f;u++)Ih(m[u],u,s,n,e,t,this)}}},updateMorphTargets:function(){var e,t,i,n=this.geometry;if(n.isBufferGeometry){var r=n.morphAttributes,o=Object.keys(r);if(o.length>0){var s=r[o[0]];if(void 0!==s)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=s.length;e<t;e++)i=s[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}}else{var a=n.morphTargets;void 0!==a&&a.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Bh.prototype=Object.assign(Object.create(ui.prototype),{constructor:Bh,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Nh.prototype=Object.create(ui.prototype),Nh.prototype.constructor=Nh,Nh.prototype.isCompressedTexture=!0,jh.prototype=Object.create(ui.prototype),jh.prototype.constructor=jh,jh.prototype.isCanvasTexture=!0,Hh.prototype=Object.create(ui.prototype),Hh.prototype.constructor=Hh,Hh.prototype.isDepthTexture=!0,Fh.prototype=Object.create(hr.prototype),Fh.prototype.constructor=Fh,zh.prototype=Object.create(Ir.prototype),zh.prototype.constructor=zh,Uh.prototype=Object.create(hr.prototype),Uh.prototype.constructor=Uh,Vh.prototype=Object.create(Ir.prototype),Vh.prototype.constructor=Vh,Wh.prototype=Object.create(hr.prototype),Wh.prototype.constructor=Wh,Gh.prototype=Object.create(Ir.prototype),Gh.prototype.constructor=Gh,$h.prototype=Object.create(Wh.prototype),$h.prototype.constructor=$h,qh.prototype=Object.create(Ir.prototype),qh.prototype.constructor=qh,Xh.prototype=Object.create(Wh.prototype),Xh.prototype.constructor=Xh,Yh.prototype=Object.create(Ir.prototype),Yh.prototype.constructor=Yh,Zh.prototype=Object.create(Wh.prototype),Zh.prototype.constructor=Zh,Jh.prototype=Object.create(Ir.prototype),Jh.prototype.constructor=Jh,Kh.prototype=Object.create(Wh.prototype),Kh.prototype.constructor=Kh,Qh.prototype=Object.create(Ir.prototype),Qh.prototype.constructor=Qh,eu.prototype=Object.create(hr.prototype),eu.prototype.constructor=eu,eu.prototype.toJSON=function(){var e=hr.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},tu.prototype=Object.create(Ir.prototype),tu.prototype.constructor=tu,iu.prototype=Object.create(hr.prototype),iu.prototype.constructor=iu,nu.prototype=Object.create(Ir.prototype),nu.prototype.constructor=nu,ru.prototype=Object.create(hr.prototype),ru.prototype.constructor=ru;var ou={triangulate:function(e,t,i){i=i||2;var n,r,o,s,a,c,l,h=t&&t.length,u=h?t[0]*i:e.length,d=su(e,0,u,i,!0),p=[];if(!d||d.next===d.prev)return p;if(h&&(d=pu(e,t,d,i)),e.length>80*i){n=o=e[0],r=s=e[1];for(var f=i;f<u;f+=i)a=e[f],c=e[f+1],a<n&&(n=a),c<r&&(r=c),a>o&&(o=a),c>s&&(s=c);l=Math.max(o-n,s-r),l=0!==l?1/l:0}return cu(d,p,i,n,r,l),p}};function su(e,t,i,n,r){var o,s;if(r===Bu(e,t,i,n)>0)for(o=t;o<i;o+=n)s=Pu(o,e[o],e[o+1],s);else for(o=i-n;o>=t;o-=n)s=Pu(o,e[o],e[o+1],s);return s&&Mu(s,s.next)&&(Du(s),s=s.next),s}function au(e,t){if(!e)return e;t||(t=e);var i,n=e;do{if(i=!1,n.steiner||!Mu(n,n.next)&&0!==Cu(n.prev,n,n.next))n=n.next;else{if(Du(n),n=t=n.prev,n===n.next)break;i=!0}}while(i||n!==t);return t}function cu(e,t,i,n,r,o,s){if(e){!s&&o&&yu(e,n,r,o);var a,c,l=e;while(e.prev!==e.next)if(a=e.prev,c=e.next,o?hu(e,n,r,o):lu(e))t.push(a.i/i),t.push(e.i/i),t.push(c.i/i),Du(e),e=c.next,l=c.next;else if(e=c,e===l){s?1===s?(e=uu(au(e),t,i),cu(e,t,i,n,r,o,2)):2===s&&du(e,t,i,n,r,o):cu(au(e),t,i,n,r,o,1);break}}}function lu(e){var t=e.prev,i=e,n=e.next;if(Cu(t,i,n)>=0)return!1;var r=e.next.next;while(r!==e.prev){if(wu(t.x,t.y,i.x,i.y,n.x,n.y,r.x,r.y)&&Cu(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function hu(e,t,i,n){var r=e.prev,o=e,s=e.next;if(Cu(r,o,s)>=0)return!1;var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,c=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,h=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,u=bu(a,c,t,i,n),d=bu(l,h,t,i,n),p=e.prevZ,f=e.nextZ;while(p&&p.z>=u&&f&&f.z<=d){if(p!==e.prev&&p!==e.next&&wu(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Cu(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==e.prev&&f!==e.next&&wu(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Cu(f.prev,f,f.next)>=0)return!1;f=f.nextZ}while(p&&p.z>=u){if(p!==e.prev&&p!==e.next&&wu(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&Cu(p.prev,p,p.next)>=0)return!1;p=p.prevZ}while(f&&f.z<=d){if(f!==e.prev&&f!==e.next&&wu(r.x,r.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Cu(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function uu(e,t,i){var n=e;do{var r=n.prev,o=n.next.next;!Mu(r,o)&&Eu(r,n,n.next,o)&&Ou(r,o)&&Ou(o,r)&&(t.push(r.i/i),t.push(n.i/i),t.push(o.i/i),Du(n),Du(n.next),n=e=o),n=n.next}while(n!==e);return au(n)}function du(e,t,i,n,r,o){var s=e;do{var a=s.next.next;while(a!==s.prev){if(s.i!==a.i&&Su(s,a)){var c=ku(s,a);return s=au(s,s.next),c=au(c,c.next),cu(s,t,i,n,r,o),void cu(c,t,i,n,r,o)}a=a.next}s=s.next}while(s!==e)}function pu(e,t,i,n){var r,o,s,a,c,l=[];for(r=0,o=t.length;r<o;r++)s=t[r]*n,a=r<o-1?t[r+1]*n:e.length,c=su(e,s,a,n,!1),c===c.next&&(c.steiner=!0),l.push(xu(c));for(l.sort(fu),r=0;r<l.length;r++)mu(l[r],i),i=au(i,i.next);return i}function fu(e,t){return e.x-t.x}function mu(e,t){if(t=vu(e,t),t){var i=ku(t,e);au(t,t.next),au(i,i.next)}}function vu(e,t){var i,n=t,r=e.x,o=e.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s){if(s=a,a===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(r===s)return i;var c,l=i,h=i.x,u=i.y,d=1/0;n=i;do{r>=n.x&&n.x>=h&&r!==n.x&&wu(o<u?r:s,o,h,u,o<u?s:r,o,n.x,n.y)&&(c=Math.abs(o-n.y)/(r-n.x),Ou(n,e)&&(c<d||c===d&&(n.x>i.x||n.x===i.x&&gu(i,n)))&&(i=n,d=c)),n=n.next}while(n!==l);return i}function gu(e,t){return Cu(e.prev,e,t.prev)<0&&Cu(t.next,e,e.next)<0}function yu(e,t,i,n){var r=e;do{null===r.z&&(r.z=bu(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,_u(r)}function _u(e){var t,i,n,r,o,s,a,c,l=1;do{i=e,e=null,o=null,s=0;while(i){for(s++,n=i,a=0,t=0;t<l;t++)if(a++,n=n.nextZ,!n)break;c=l;while(a>0||c>0&&n)0!==a&&(0===c||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,c--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;i=n}o.nextZ=null,l*=2}while(s>1);return e}function bu(e,t,i,n,r){return e=32767*(e-i)*r,t=32767*(t-n)*r,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function xu(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function wu(e,t,i,n,r,o,s,a){return(r-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(n-a)-(i-s)*(t-a)>=0&&(i-s)*(o-a)-(r-s)*(n-a)>=0}function Su(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Lu(e,t)&&(Ou(e,t)&&Ou(t,e)&&Ru(e,t)&&(Cu(e.prev,e,t.prev)||Cu(e,t.prev,t))||Mu(e,t)&&Cu(e.prev,e,e.next)>0&&Cu(t.prev,t,t.next)>0)}function Cu(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function Mu(e,t){return e.x===t.x&&e.y===t.y}function Eu(e,t,i,n){var r=Au(Cu(e,t,i)),o=Au(Cu(e,t,n)),s=Au(Cu(i,n,e)),a=Au(Cu(i,n,t));return r!==o&&s!==a||(!(0!==r||!Tu(e,i,t))||(!(0!==o||!Tu(e,n,t))||(!(0!==s||!Tu(i,e,n))||!(0!==a||!Tu(i,t,n)))))}function Tu(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function Au(e){return e>0?1:e<0?-1:0}function Lu(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&Eu(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}function Ou(e,t){return Cu(e.prev,e,e.next)<0?Cu(e,t,e.next)>=0&&Cu(e,e.prev,t)>=0:Cu(e,t,e.prev)<0||Cu(e,e.next,t)<0}function Ru(e,t){var i=e,n=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{i.y>o!==i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==e);return n}function ku(e,t){var i=new Iu(e.i,e.x,e.y),n=new Iu(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function Pu(e,t,i,n){var r=new Iu(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Du(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Iu(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Bu(e,t,i,n){for(var r=0,o=t,s=i-n;o<i;o+=n)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}var Nu={area:function(e){for(var t=e.length,i=0,n=t-1,r=0;r<t;n=r++)i+=e[n].x*e[r].y-e[r].x*e[n].y;return.5*i},isClockWise:function(e){return Nu.area(e)<0},triangulateShape:function(e,t){var i=[],n=[],r=[];ju(e),Hu(i,e);var o=e.length;t.forEach(ju);for(var s=0;s<t.length;s++)n.push(o),o+=t[s].length,Hu(i,t[s]);var a=ou.triangulate(i,n);for(s=0;s<a.length;s+=3)r.push(a.slice(s,s+3));return r}};function ju(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Hu(e,t){for(var i=0;i<t.length;i++)e.push(t[i].x),e.push(t[i].y)}function Fu(e,t){Ir.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new zu(e,t)),this.mergeVertices()}function zu(e,t){hr.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var i=this,n=[],r=[],o=0,s=e.length;o<s;o++){var a=e[o];c(a)}function c(e){var o=[],s=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1,c=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,h=void 0!==t.bevelThickness?t.bevelThickness:6,u=void 0!==t.bevelSize?t.bevelSize:h-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3,f=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Uu;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=t.amount);var v,g,y,_,b,x,w,S,C=!1;f&&(v=f.getSpacedPoints(a),C=!0,l=!1,g=f.computeFrenetFrames(a,!1),y=new yi,_=new yi,b=new yi),l||(p=0,h=0,u=0,d=0);var M=e.extractPoints(s),E=M.shape,T=M.holes,A=!Nu.isClockWise(E);if(A)for(E=E.reverse(),w=0,S=T.length;w<S;w++)x=T[w],Nu.isClockWise(x)&&(T[w]=x.reverse());var L=Nu.triangulateShape(E,T),O=E;for(w=0,S=T.length;w<S;w++)x=T[w],E=E.concat(x);function R(e,t,i){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(i).add(e)}var k,P,D,I,B,N,j=E.length,H=L.length;function F(e,t,i){var n,r,o,s=e.x-t.x,a=e.y-t.y,c=i.x-e.x,l=i.y-e.y,h=s*s+a*a,u=s*l-a*c;if(Math.abs(u)>Number.EPSILON){var d=Math.sqrt(h),p=Math.sqrt(c*c+l*l),f=t.x-a/d,m=t.y+s/d,v=i.x-l/p,g=i.y+c/p,y=((v-f)*l-(g-m)*c)/(s*l-a*c);n=f+s*y-e.x,r=m+a*y-e.y;var _=n*n+r*r;if(_<=2)return new ai(n,r);o=Math.sqrt(_/2)}else{var b=!1;s>Number.EPSILON?c>Number.EPSILON&&(b=!0):s<-Number.EPSILON?c<-Number.EPSILON&&(b=!0):Math.sign(a)===Math.sign(l)&&(b=!0),b?(n=-a,r=s,o=Math.sqrt(h)):(n=s,r=a,o=Math.sqrt(h/2))}return new ai(n/o,r/o)}for(var z=[],U=0,V=O.length,W=V-1,G=U+1;U<V;U++,W++,G++)W===V&&(W=0),G===V&&(G=0),z[U]=F(O[U],O[W],O[G]);var $,q,X=[],Y=z.concat();for(w=0,S=T.length;w<S;w++){for(x=T[w],$=[],U=0,V=x.length,W=V-1,G=U+1;U<V;U++,W++,G++)W===V&&(W=0),G===V&&(G=0),$[U]=F(x[U],x[W],x[G]);X.push($),Y=Y.concat($)}for(k=0;k<p;k++){for(D=k/p,I=h*Math.cos(D*Math.PI/2),P=u*Math.sin(D*Math.PI/2)+d,U=0,V=O.length;U<V;U++)B=R(O[U],z[U],P),Q(B.x,B.y,-I);for(w=0,S=T.length;w<S;w++)for(x=T[w],$=X[w],U=0,V=x.length;U<V;U++)B=R(x[U],$[U],P),Q(B.x,B.y,-I)}for(P=u+d,U=0;U<j;U++)B=l?R(E[U],Y[U],P):E[U],C?(_.copy(g.normals[0]).multiplyScalar(B.x),y.copy(g.binormals[0]).multiplyScalar(B.y),b.copy(v[0]).add(_).add(y),Q(b.x,b.y,b.z)):Q(B.x,B.y,0);for(q=1;q<=a;q++)for(U=0;U<j;U++)B=l?R(E[U],Y[U],P):E[U],C?(_.copy(g.normals[q]).multiplyScalar(B.x),y.copy(g.binormals[q]).multiplyScalar(B.y),b.copy(v[q]).add(_).add(y),Q(b.x,b.y,b.z)):Q(B.x,B.y,c/a*q);for(k=p-1;k>=0;k--){for(D=k/p,I=h*Math.cos(D*Math.PI/2),P=u*Math.sin(D*Math.PI/2)+d,U=0,V=O.length;U<V;U++)B=R(O[U],z[U],P),Q(B.x,B.y,c+I);for(w=0,S=T.length;w<S;w++)for(x=T[w],$=X[w],U=0,V=x.length;U<V;U++)B=R(x[U],$[U],P),C?Q(B.x,B.y+v[a-1].y,v[a-1].x+I):Q(B.x,B.y,c+I)}function Z(){var e=n.length/3;if(l){var t=0,r=j*t;for(U=0;U<H;U++)N=L[U],ee(N[2]+r,N[1]+r,N[0]+r);for(t=a+2*p,r=j*t,U=0;U<H;U++)N=L[U],ee(N[0]+r,N[1]+r,N[2]+r)}else{for(U=0;U<H;U++)N=L[U],ee(N[2],N[1],N[0]);for(U=0;U<H;U++)N=L[U],ee(N[0]+j*a,N[1]+j*a,N[2]+j*a)}i.addGroup(e,n.length/3-e,0)}function J(){var e=n.length/3,t=0;for(K(O,t),t+=O.length,w=0,S=T.length;w<S;w++)x=T[w],K(x,t),t+=x.length;i.addGroup(e,n.length/3-e,1)}function K(e,t){var i,n;U=e.length;while(--U>=0){i=U,n=U-1,n<0&&(n=e.length-1);var r=0,o=a+2*p;for(r=0;r<o;r++){var s=j*r,c=j*(r+1),l=t+i+s,h=t+n+s,u=t+n+c,d=t+i+c;te(l,h,u,d)}}}function Q(e,t,i){o.push(e),o.push(t),o.push(i)}function ee(e,t,r){ie(e),ie(t),ie(r);var o=n.length/3,s=m.generateTopUV(i,n,o-3,o-2,o-1);ne(s[0]),ne(s[1]),ne(s[2])}function te(e,t,r,o){ie(e),ie(t),ie(o),ie(t),ie(r),ie(o);var s=n.length/3,a=m.generateSideWallUV(i,n,s-6,s-3,s-2,s-1);ne(a[0]),ne(a[1]),ne(a[3]),ne(a[1]),ne(a[2]),ne(a[3])}function ie(e){n.push(o[3*e+0]),n.push(o[3*e+1]),n.push(o[3*e+2])}function ne(e){r.push(e.x),r.push(e.y)}Z(),J()}this.setAttribute("position",new Qn(n,3)),this.setAttribute("uv",new Qn(r,2)),this.computeVertexNormals()}Fu.prototype=Object.create(Ir.prototype),Fu.prototype.constructor=Fu,Fu.prototype.toJSON=function(){var e=Ir.prototype.toJSON.call(this),t=this.parameters.shapes,i=this.parameters.options;return Vu(t,i,e)},zu.prototype=Object.create(hr.prototype),zu.prototype.constructor=zu,zu.prototype.toJSON=function(){var e=hr.prototype.toJSON.call(this),t=this.parameters.shapes,i=this.parameters.options;return Vu(t,i,e)};var Uu={generateTopUV:function(e,t,i,n,r){var o=t[3*i],s=t[3*i+1],a=t[3*n],c=t[3*n+1],l=t[3*r],h=t[3*r+1];return[new ai(o,s),new ai(a,c),new ai(l,h)]},generateSideWallUV:function(e,t,i,n,r,o){var s=t[3*i],a=t[3*i+1],c=t[3*i+2],l=t[3*n],h=t[3*n+1],u=t[3*n+2],d=t[3*r],p=t[3*r+1],f=t[3*r+2],m=t[3*o],v=t[3*o+1],g=t[3*o+2];return Math.abs(a-h)<.01?[new ai(s,1-c),new ai(l,1-u),new ai(d,1-f),new ai(m,1-g)]:[new ai(a,1-c),new ai(h,1-u),new ai(p,1-f),new ai(v,1-g)]}};function Vu(e,t,i){if(i.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var o=e[n];i.shapes.push(o.uuid)}else i.shapes.push(e.uuid);return void 0!==t.extrudePath&&(i.options.extrudePath=t.extrudePath.toJSON()),i}function Wu(e,t){Ir.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Gu(e,t)),this.mergeVertices()}function Gu(e,t){t=t||{};var i=t.font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Ir;var n=i.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),zu.call(this,n,t),this.type="TextBufferGeometry"}function $u(e,t,i,n,r,o,s){Ir.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:r,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new qu(e,t,i,n,r,o,s)),this.mergeVertices()}function qu(e,t,i,n,r,o,s){hr.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:r,thetaStart:o,thetaLength:s},e=e||1,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI,o=void 0!==o?o:0,s=void 0!==s?s:Math.PI;var a,c,l=Math.min(o+s,Math.PI),h=0,u=[],d=new yi,p=new yi,f=[],m=[],v=[],g=[];for(c=0;c<=i;c++){var y=[],_=c/i,b=0;for(0==c&&0==o?b=.5/t:c==i&&l==Math.PI&&(b=-.5/t),a=0;a<=t;a++){var x=a/t;d.x=-e*Math.cos(n+x*r)*Math.sin(o+_*s),d.y=e*Math.cos(o+_*s),d.z=e*Math.sin(n+x*r)*Math.sin(o+_*s),m.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),g.push(x+b,1-_),y.push(h++)}u.push(y)}for(c=0;c<i;c++)for(a=0;a<t;a++){var w=u[c][a+1],S=u[c][a],C=u[c+1][a],M=u[c+1][a+1];(0!==c||o>0)&&f.push(w,S,M),(c!==i-1||l<Math.PI)&&f.push(S,C,M)}this.setIndex(f),this.setAttribute("position",new Qn(m,3)),this.setAttribute("normal",new Qn(v,3)),this.setAttribute("uv",new Qn(g,2))}function Xu(e,t,i,n,r,o){Ir.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new Yu(e,t,i,n,r,o)),this.mergeVertices()}function Yu(e,t,i,n,r,o){hr.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:o},e=e||.5,t=t||1,r=void 0!==r?r:0,o=void 0!==o?o:2*Math.PI,i=void 0!==i?Math.max(3,i):8,n=void 0!==n?Math.max(1,n):1;var s,a,c,l=[],h=[],u=[],d=[],p=e,f=(t-e)/n,m=new yi,v=new ai;for(a=0;a<=n;a++){for(c=0;c<=i;c++)s=r+c/i*o,m.x=p*Math.cos(s),m.y=p*Math.sin(s),h.push(m.x,m.y,m.z),u.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,d.push(v.x,v.y);p+=f}for(a=0;a<n;a++){var g=a*(i+1);for(c=0;c<i;c++){s=c+g;var y=s,_=s+i+1,b=s+i+2,x=s+1;l.push(y,_,x),l.push(_,b,x)}}this.setIndex(l),this.setAttribute("position",new Qn(h,3)),this.setAttribute("normal",new Qn(u,3)),this.setAttribute("uv",new Qn(d,2))}function Zu(e,t,i,n){Ir.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:n},this.fromBufferGeometry(new Ju(e,t,i,n)),this.mergeVertices()}function Ju(e,t,i,n){hr.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:n},t=Math.floor(t)||12,i=i||0,n=n||2*Math.PI,n=si.clamp(n,0,2*Math.PI);var r,o,s,a=[],c=[],l=[],h=1/t,u=new yi,d=new ai;for(o=0;o<=t;o++){var p=i+o*h*n,f=Math.sin(p),m=Math.cos(p);for(s=0;s<=e.length-1;s++)u.x=e[s].x*f,u.y=e[s].y,u.z=e[s].x*m,c.push(u.x,u.y,u.z),d.x=o/t,d.y=s/(e.length-1),l.push(d.x,d.y)}for(o=0;o<t;o++)for(s=0;s<e.length-1;s++){r=s+o*e.length;var v=r,g=r+e.length,y=r+e.length+1,_=r+1;a.push(v,g,_),a.push(g,y,_)}if(this.setIndex(a),this.setAttribute("position",new Qn(c,3)),this.setAttribute("uv",new Qn(l,2)),this.computeVertexNormals(),n===2*Math.PI){var b=this.attributes.normal.array,x=new yi,w=new yi,S=new yi;for(r=t*e.length*3,o=0,s=0;o<e.length;o++,s+=3)x.x=b[s+0],x.y=b[s+1],x.z=b[s+2],w.x=b[r+s+0],w.y=b[r+s+1],w.z=b[r+s+2],S.addVectors(x,w).normalize(),b[s+0]=b[r+s+0]=S.x,b[s+1]=b[r+s+1]=S.y,b[s+2]=b[r+s+2]=S.z}}function Ku(e,t){Ir.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Qu(e,t)),this.mergeVertices()}function Qu(e,t){hr.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var i=[],n=[],r=[],o=[],s=0,a=0;if(!1===Array.isArray(e))l(e);else for(var c=0;c<e.length;c++)l(e[c]),this.addGroup(s,a,c),s+=a,a=0;function l(e){var s,c,l,h=n.length/3,u=e.extractPoints(t),d=u.shape,p=u.holes;for(!1===Nu.isClockWise(d)&&(d=d.reverse()),s=0,c=p.length;s<c;s++)l=p[s],!0===Nu.isClockWise(l)&&(p[s]=l.reverse());var f=Nu.triangulateShape(d,p);for(s=0,c=p.length;s<c;s++)l=p[s],d=d.concat(l);for(s=0,c=d.length;s<c;s++){var m=d[s];n.push(m.x,m.y,0),r.push(0,0,1),o.push(m.x,m.y)}for(s=0,c=f.length;s<c;s++){var v=f[s],g=v[0]+h,y=v[1]+h,_=v[2]+h;i.push(g,y,_),a+=3}}this.setIndex(i),this.setAttribute("position",new Qn(n,3)),this.setAttribute("normal",new Qn(r,3)),this.setAttribute("uv",new Qn(o,2))}function ed(e,t){if(t.shapes=[],Array.isArray(e))for(var i=0,n=e.length;i<n;i++){var r=e[i];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function td(e,t){hr.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var i,n,r,o,s=[],a=Math.cos(si.DEG2RAD*t),c=[0,0],l={},h=["a","b","c"];e.isBufferGeometry?(o=new Ir,o.fromBufferGeometry(e)):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var u=o.vertices,d=o.faces,p=0,f=d.length;p<f;p++)for(var m=d[p],v=0;v<3;v++)i=m[h[v]],n=m[h[(v+1)%3]],c[0]=Math.min(i,n),c[1]=Math.max(i,n),r=c[0]+","+c[1],void 0===l[r]?l[r]={index1:c[0],index2:c[1],face1:p,face2:void 0}:l[r].face2=p;for(r in l){var g=l[r];if(void 0===g.face2||d[g.face1].normal.dot(d[g.face2].normal)<=a){var y=u[g.index1];s.push(y.x,y.y,y.z),y=u[g.index2],s.push(y.x,y.y,y.z)}}this.setAttribute("position",new Qn(s,3))}function id(e,t,i,n,r,o,s,a){Ir.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a},this.fromBufferGeometry(new nd(e,t,i,n,r,o,s,a)),this.mergeVertices()}function nd(e,t,i,n,r,o,s,a){hr.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a};var c=this;e=void 0!==e?e:1,t=void 0!==t?t:1,i=i||1,n=Math.floor(n)||8,r=Math.floor(r)||1,o=void 0!==o&&o,s=void 0!==s?s:0,a=void 0!==a?a:2*Math.PI;var l=[],h=[],u=[],d=[],p=0,f=[],m=i/2,v=0;function g(){var o,g,y=new yi,_=new yi,b=0,x=(t-e)/i;for(g=0;g<=r;g++){var w=[],S=g/r,C=S*(t-e)+e;for(o=0;o<=n;o++){var M=o/n,E=M*a+s,T=Math.sin(E),A=Math.cos(E);_.x=C*T,_.y=-S*i+m,_.z=C*A,h.push(_.x,_.y,_.z),y.set(T,x,A).normalize(),u.push(y.x,y.y,y.z),d.push(M,1-S),w.push(p++)}f.push(w)}for(o=0;o<n;o++)for(g=0;g<r;g++){var L=f[g][o],O=f[g+1][o],R=f[g+1][o+1],k=f[g][o+1];l.push(L,O,k),l.push(O,R,k),b+=6}c.addGroup(v,b,0),v+=b}function y(i){var r,o,f,g=new ai,y=new yi,_=0,b=!0===i?e:t,x=!0===i?1:-1;for(o=p,r=1;r<=n;r++)h.push(0,m*x,0),u.push(0,x,0),d.push(.5,.5),p++;for(f=p,r=0;r<=n;r++){var w=r/n,S=w*a+s,C=Math.cos(S),M=Math.sin(S);y.x=b*M,y.y=m*x,y.z=b*C,h.push(y.x,y.y,y.z),u.push(0,x,0),g.x=.5*C+.5,g.y=.5*M*x+.5,d.push(g.x,g.y),p++}for(r=0;r<n;r++){var E=o+r,T=f+r;!0===i?l.push(T,T+1,E):l.push(T+1,T,E),_+=3}c.addGroup(v,_,!0===i?1:2),v+=_}g(),!1===o&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(l),this.setAttribute("position",new Qn(h,3)),this.setAttribute("normal",new Qn(u,3)),this.setAttribute("uv",new Qn(d,2))}function rd(e,t,i,n,r,o,s){id.call(this,0,e,t,i,n,r,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:o,thetaLength:s}}function od(e,t,i,n,r,o,s){nd.call(this,0,e,t,i,n,r,o,s),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:o,thetaLength:s}}function sd(e,t,i,n){Ir.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new ad(e,t,i,n)),this.mergeVertices()}function ad(e,t,i,n){hr.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},e=e||1,t=void 0!==t?Math.max(3,t):8,i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI;var r,o,s=[],a=[],c=[],l=[],h=new yi,u=new ai;for(a.push(0,0,0),c.push(0,0,1),l.push(.5,.5),o=0,r=3;o<=t;o++,r+=3){var d=i+o/t*n;h.x=e*Math.cos(d),h.y=e*Math.sin(d),a.push(h.x,h.y,h.z),c.push(0,0,1),u.x=(a[r]/e+1)/2,u.y=(a[r+1]/e+1)/2,l.push(u.x,u.y)}for(r=1;r<=t;r++)s.push(r,r+1,0);this.setIndex(s),this.setAttribute("position",new Qn(a,3)),this.setAttribute("normal",new Qn(c,3)),this.setAttribute("uv",new Qn(l,2))}Wu.prototype=Object.create(Ir.prototype),Wu.prototype.constructor=Wu,Gu.prototype=Object.create(zu.prototype),Gu.prototype.constructor=Gu,$u.prototype=Object.create(Ir.prototype),$u.prototype.constructor=$u,qu.prototype=Object.create(hr.prototype),qu.prototype.constructor=qu,Xu.prototype=Object.create(Ir.prototype),Xu.prototype.constructor=Xu,Yu.prototype=Object.create(hr.prototype),Yu.prototype.constructor=Yu,Zu.prototype=Object.create(Ir.prototype),Zu.prototype.constructor=Zu,Ju.prototype=Object.create(hr.prototype),Ju.prototype.constructor=Ju,Ku.prototype=Object.create(Ir.prototype),Ku.prototype.constructor=Ku,Ku.prototype.toJSON=function(){var e=Ir.prototype.toJSON.call(this),t=this.parameters.shapes;return ed(t,e)},Qu.prototype=Object.create(hr.prototype),Qu.prototype.constructor=Qu,Qu.prototype.toJSON=function(){var e=hr.prototype.toJSON.call(this),t=this.parameters.shapes;return ed(t,e)},td.prototype=Object.create(hr.prototype),td.prototype.constructor=td,id.prototype=Object.create(Ir.prototype),id.prototype.constructor=id,nd.prototype=Object.create(hr.prototype),nd.prototype.constructor=nd,rd.prototype=Object.create(id.prototype),rd.prototype.constructor=rd,od.prototype=Object.create(nd.prototype),od.prototype.constructor=od,sd.prototype=Object.create(Ir.prototype),sd.prototype.constructor=sd,ad.prototype=Object.create(hr.prototype),ad.prototype.constructor=ad;var cd=Object.freeze({__proto__:null,WireframeGeometry:Fh,ParametricGeometry:zh,ParametricBufferGeometry:Uh,TetrahedronGeometry:Gh,TetrahedronBufferGeometry:$h,OctahedronGeometry:qh,OctahedronBufferGeometry:Xh,IcosahedronGeometry:Yh,IcosahedronBufferGeometry:Zh,DodecahedronGeometry:Jh,DodecahedronBufferGeometry:Kh,PolyhedronGeometry:Vh,PolyhedronBufferGeometry:Wh,TubeGeometry:Qh,TubeBufferGeometry:eu,TorusKnotGeometry:tu,TorusKnotBufferGeometry:iu,TorusGeometry:nu,TorusBufferGeometry:ru,TextGeometry:Wu,TextBufferGeometry:Gu,SphereGeometry:$u,SphereBufferGeometry:qu,RingGeometry:Xu,RingBufferGeometry:Yu,PlaneGeometry:no,PlaneBufferGeometry:ro,LatheGeometry:Zu,LatheBufferGeometry:Ju,ShapeGeometry:Ku,ShapeBufferGeometry:Qu,ExtrudeGeometry:Fu,ExtrudeBufferGeometry:zu,EdgesGeometry:td,ConeGeometry:rd,ConeBufferGeometry:od,CylinderGeometry:id,CylinderBufferGeometry:nd,CircleGeometry:sd,CircleBufferGeometry:ad,BoxGeometry:Br,BoxBufferGeometry:Nr});function ld(e){Un.call(this),this.type="ShadowMaterial",this.color=new Bn(0),this.transparent=!0,this.setValues(e)}function hd(e){Vr.call(this,e),this.type="RawShaderMaterial"}function ud(e){Un.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Bn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zt,this.normalScale=new ai(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function dd(e){ud.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ai(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}function pd(e){Un.call(this),this.type="MeshPhongMaterial",this.color=new Bn(16777215),this.specular=new Bn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zt,this.normalScale=new ai(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function fd(e){Un.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Bn(16777215),this.specular=new Bn(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zt,this.normalScale=new ai(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function md(e){Un.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zt,this.normalScale=new ai(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function vd(e){Un.call(this),this.type="MeshLambertMaterial",this.color=new Bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function gd(e){Un.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Bn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Zt,this.normalScale=new ai(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function yd(e){yh.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}ld.prototype=Object.create(Un.prototype),ld.prototype.constructor=ld,ld.prototype.isShadowMaterial=!0,ld.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.color.copy(e.color),this},hd.prototype=Object.create(Vr.prototype),hd.prototype.constructor=hd,hd.prototype.isRawShaderMaterial=!0,ud.prototype=Object.create(Un.prototype),ud.prototype.constructor=ud,ud.prototype.isMeshStandardMaterial=!0,ud.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},dd.prototype=Object.create(ud.prototype),dd.prototype.constructor=dd,dd.prototype.isMeshPhysicalMaterial=!0,dd.prototype.copy=function(e){return ud.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new Bn).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this},pd.prototype=Object.create(Un.prototype),pd.prototype.constructor=pd,pd.prototype.isMeshPhongMaterial=!0,pd.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},fd.prototype=Object.create(Un.prototype),fd.prototype.constructor=fd,fd.prototype.isMeshToonMaterial=!0,fd.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},md.prototype=Object.create(Un.prototype),md.prototype.constructor=md,md.prototype.isMeshNormalMaterial=!0,md.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},vd.prototype=Object.create(Un.prototype),vd.prototype.constructor=vd,vd.prototype.isMeshLambertMaterial=!0,vd.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},gd.prototype=Object.create(Un.prototype),gd.prototype.constructor=gd,gd.prototype.isMeshMatcapMaterial=!0,gd.prototype.copy=function(e){return Un.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},yd.prototype=Object.create(yh.prototype),yd.prototype.constructor=yd,yd.prototype.isLineDashedMaterial=!0,yd.prototype.copy=function(e){return yh.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var _d=Object.freeze({__proto__:null,ShadowMaterial:ld,SpriteMaterial:Wl,RawShaderMaterial:hd,ShaderMaterial:Vr,PointsMaterial:Lh,MeshPhysicalMaterial:dd,MeshStandardMaterial:ud,MeshPhongMaterial:pd,MeshToonMaterial:fd,MeshNormalMaterial:md,MeshLambertMaterial:vd,MeshDepthMaterial:Ml,MeshDistanceMaterial:El,MeshBasicMaterial:Vn,MeshMatcapMaterial:gd,LineDashedMaterial:yd,LineBasicMaterial:yh,Material:Un}),bd={arraySlice:function(e,t,i){return bd.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==i?i:e.length)):e.slice(t,i)},convertArray:function(e,t,i){return!e||!i&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,i){return e[t]-e[i]}for(var i=e.length,n=new Array(i),r=0;r!==i;++r)n[r]=r;return n.sort(t),n},sortedArray:function(e,t,i){for(var n=e.length,r=new e.constructor(n),o=0,s=0;s!==n;++o)for(var a=i[o]*t,c=0;c!==t;++c)r[s++]=e[a+c];return r},flattenJSON:function(e,t,i,n){var r=1,o=e[0];while(void 0!==o&&void 0===o[n])o=e[r++];if(void 0!==o){var s=o[n];if(void 0!==s)if(Array.isArray(s))do{s=o[n],void 0!==s&&(t.push(o.time),i.push.apply(i,s)),o=e[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[n],void 0!==s&&(t.push(o.time),s.toArray(i,i.length)),o=e[r++]}while(void 0!==o);else do{s=o[n],void 0!==s&&(t.push(o.time),i.push(s)),o=e[r++]}while(void 0!==o)}},subclip:function(e,t,i,n,r){r=r||30;var o=e.clone();o.name=t;for(var s=[],a=0;a<o.tracks.length;++a){for(var c=o.tracks[a],l=c.getValueSize(),h=[],u=[],d=0;d<c.times.length;++d){var p=c.times[d]*r;if(!(p<i||p>=n)){h.push(c.times[d]);for(var f=0;f<l;++f)u.push(c.values[d*l+f])}}0!==h.length&&(c.times=bd.convertArray(h,c.times.constructor),c.values=bd.convertArray(u,c.values.constructor),s.push(c))}o.tracks=s;var m=1/0;for(a=0;a<o.tracks.length;++a)m>o.tracks[a].times[0]&&(m=o.tracks[a].times[0]);for(a=0;a<o.tracks.length;++a)o.tracks[a].shift(-1*m);return o.resetDuration(),o},makeClipAdditive:function(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=e),(void 0===n||n<=0)&&(n=30);for(var r=e.tracks.length,o=t/n,s=0;s<r;++s){var a=i.tracks[s],c=a.ValueTypeName;if("bool"!==c&&"string"!==c){var l=e.tracks.find((function(e){return e.name===a.name&&e.ValueTypeName===c}));if(void 0!==l){var h,u=a.getValueSize(),d=a.times.length-1;if(o<=a.times[0])h=bd.arraySlice(a.values,0,a.valueSize);else if(o>=a.times[d]){var p=d*u;h=bd.arraySlice(a.values,p)}else{var f=a.createInterpolant();f.evaluate(o),h=f.resultBuffer}if("quaternion"===c){var m=new mi(h[0],h[1],h[2],h[3]).normalize().conjugate();m.toArray(h)}for(var v=l.times.length,g=0;g<v;++g){var y=g*u;if("quaternion"===c)mi.multiplyQuaternionsFlat(l.values,y,h,0,l.values,y);else for(var _=0;_<u;++_)l.values[y+_]-=h[_]}}}}return e.blendMode=jt,e}};function xd(e,t,i,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(i),this.sampleValues=t,this.valueSize=i}function wd(e,t,i,n){xd.call(this,e,t,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Sd(e,t,i,n){xd.call(this,e,t,i,n)}function Cd(e,t,i,n){xd.call(this,e,t,i,n)}function Md(e,t,i,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=bd.convertArray(t,this.TimeBufferType),this.values=bd.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function Ed(e,t,i){Md.call(this,e,t,i)}function Td(e,t,i,n){Md.call(this,e,t,i,n)}function Ad(e,t,i,n){Md.call(this,e,t,i,n)}function Ld(e,t,i,n){xd.call(this,e,t,i,n)}function Od(e,t,i,n){Md.call(this,e,t,i,n)}function Rd(e,t,i,n){Md.call(this,e,t,i,n)}function kd(e,t,i,n){Md.call(this,e,t,i,n)}function Pd(e,t,i,n){this.name=e,this.tracks=i,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==n?n:Nt,this.uuid=si.generateUUID(),this.duration<0&&this.resetDuration()}function Dd(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ad;case"vector":case"vector2":case"vector3":case"vector4":return kd;case"color":return Td;case"quaternion":return Od;case"bool":case"boolean":return Ed;case"string":return Rd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function Id(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=Dd(e.type);if(void 0===e.times){var i=[],n=[];bd.flattenJSON(e.keys,i,n,"value"),e.times=i,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(xd.prototype,{evaluate:function(e){var t=this.parameterPositions,i=this._cachedIndex,n=t[i],r=t[i-1];e:{t:{var o;i:{n:if(!(e<n)){for(var s=i+2;;){if(void 0===n){if(e<r)break n;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,r)}if(i===s)break;if(r=n,n=t[++i],e<n)break t}o=t.length;break i}if(e>=r)break e;var a=t[1];e<a&&(i=2,r=a);for(s=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(i===s)break;if(n=r,r=t[--i-1],e>=r)break t}o=i,i=0}while(i<o){var c=i+o>>>1;e<t[c]?o=c:i=c+1}if(n=t[i],r=t[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,r,e)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=e*n,o=0;o!==n;++o)t[o]=i[r+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(xd.prototype,{beforeStart_:xd.prototype.copySampleValue_,afterEnd_:xd.prototype.copySampleValue_}),wd.prototype=Object.assign(Object.create(xd.prototype),{constructor:wd,DefaultSettings_:{endingStart:Dt,endingEnd:Dt},intervalChanged_:function(e,t,i){var n=this.parameterPositions,r=e-2,o=e+1,s=n[r],a=n[o];if(void 0===s)switch(this.getSettings_().endingStart){case It:r=e,s=2*t-i;break;case Bt:r=n.length-2,s=t+n[r]-n[r+1];break;default:r=e,s=i}if(void 0===a)switch(this.getSettings_().endingEnd){case It:o=e,a=2*i-t;break;case Bt:o=1,a=i+n[1]-n[0];break;default:o=e-1,a=t}var c=.5*(i-t),l=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(a-i),this._offsetPrev=r*l,this._offsetNext=o*l},interpolate_:function(e,t,i,n){for(var r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,c=a-s,l=this._offsetPrev,h=this._offsetNext,u=this._weightPrev,d=this._weightNext,p=(i-t)/(n-t),f=p*p,m=f*p,v=-u*m+2*u*f-u*p,g=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,_=d*m-d*f,b=0;b!==s;++b)r[b]=v*o[l+b]+g*o[c+b]+y*o[a+b]+_*o[h+b];return r}}),Sd.prototype=Object.assign(Object.create(xd.prototype),{constructor:Sd,interpolate_:function(e,t,i,n){for(var r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,c=a-s,l=(i-t)/(n-t),h=1-l,u=0;u!==s;++u)r[u]=o[c+u]*h+o[a+u]*l;return r}}),Cd.prototype=Object.assign(Object.create(xd.prototype),{constructor:Cd,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Md,{toJSON:function(e){var t,i=e.constructor;if(void 0!==i.toJSON)t=i.toJSON(e);else{t={name:e.name,times:bd.convertArray(e.times,Array),values:bd.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t}}),Object.assign(Md.prototype,{constructor:Md,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:kt,InterpolantFactoryMethodDiscrete:function(e){return new Cd(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Sd(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new wd(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Rt:t=this.InterpolantFactoryMethodDiscrete;break;case kt:t=this.InterpolantFactoryMethodLinear;break;case Pt:t=this.InterpolantFactoryMethodSmooth;break}if(void 0===t){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Rt;case this.InterpolantFactoryMethodLinear:return kt;case this.InterpolantFactoryMethodSmooth:return Pt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,i=0,n=t.length;i!==n;++i)t[i]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,i=0,n=t.length;i!==n;++i)t[i]*=e;return this},trim:function(e,t){var i=this.times,n=i.length,r=0,o=n-1;while(r!==n&&i[r]<e)++r;while(-1!==o&&i[o]>t)--o;if(++o,0!==r||o!==n){r>=o&&(o=Math.max(o,1),r=o-1);var s=this.getValueSize();this.times=bd.arraySlice(i,r,o),this.values=bd.arraySlice(this.values,r*s,o*s)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var i=this.times,n=this.values,r=i.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,s=0;s!==r;s++){var a=i[s];if("number"===typeof a&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,a),e=!1;break}if(null!==o&&o>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,a,o),e=!1;break}o=a}if(void 0!==n&&bd.isTypedArray(n)){s=0;for(var c=n.length;s!==c;++s){var l=n[s];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,l),e=!1;break}}}return e},optimize:function(){for(var e=bd.arraySlice(this.times),t=bd.arraySlice(this.values),i=this.getValueSize(),n=this.getInterpolation()===Pt,r=1,o=e.length-1,s=1;s<o;++s){var a=!1,c=e[s],l=e[s+1];if(c!==l&&(1!==s||c!==c[0]))if(n)a=!0;else for(var h=s*i,u=h-i,d=h+i,p=0;p!==i;++p){var f=t[h+p];if(f!==t[u+p]||f!==t[d+p]){a=!0;break}}if(a){if(s!==r){e[r]=e[s];var m=s*i,v=r*i;for(p=0;p!==i;++p)t[v+p]=t[m+p]}++r}}if(o>0){e[r]=e[o];for(m=o*i,v=r*i,p=0;p!==i;++p)t[v+p]=t[m+p];++r}return r!==e.length?(this.times=bd.arraySlice(e,0,r),this.values=bd.arraySlice(t,0,r*i)):(this.times=e,this.values=t),this},clone:function(){var e=bd.arraySlice(this.times,0),t=bd.arraySlice(this.values,0),i=this.constructor,n=new i(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Ed.prototype=Object.assign(Object.create(Md.prototype),{constructor:Ed,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Rt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Td.prototype=Object.assign(Object.create(Md.prototype),{constructor:Td,ValueTypeName:"color"}),Ad.prototype=Object.assign(Object.create(Md.prototype),{constructor:Ad,ValueTypeName:"number"}),Ld.prototype=Object.assign(Object.create(xd.prototype),{constructor:Ld,interpolate_:function(e,t,i,n){for(var r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,c=(i-t)/(n-t),l=a+s;a!==l;a+=4)mi.slerpFlat(r,0,o,a-s,o,a,c);return r}}),Od.prototype=Object.assign(Object.create(Md.prototype),{constructor:Od,ValueTypeName:"quaternion",DefaultInterpolation:kt,InterpolantFactoryMethodLinear:function(e){return new Ld(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Rd.prototype=Object.assign(Object.create(Md.prototype),{constructor:Rd,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Rt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),kd.prototype=Object.assign(Object.create(Md.prototype),{constructor:kd,ValueTypeName:"vector"}),Object.assign(Pd,{parse:function(e){for(var t=[],i=e.tracks,n=1/(e.fps||1),r=0,o=i.length;r!==o;++r)t.push(Id(i[r]).scale(n));return new Pd(e.name,e.duration,t,e.blendMode)},toJSON:function(e){for(var t=[],i=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},r=0,o=i.length;r!==o;++r)t.push(Md.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(e,t,i,n){for(var r=t.length,o=[],s=0;s<r;s++){var a=[],c=[];a.push((s+r-1)%r,s,(s+1)%r),c.push(0,1,0);var l=bd.getKeyframeOrder(a);a=bd.sortedArray(a,1,l),c=bd.sortedArray(c,1,l),n||0!==a[0]||(a.push(r),c.push(c[0])),o.push(new Ad(".morphTargetInfluences["+t[s].name+"]",a,c).scale(1/i))}return new Pd(e,-1,o)},findByName:function(e,t){var i=e;if(!Array.isArray(e)){var n=e;i=n.geometry&&n.geometry.animations||n.animations}for(var r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,i){for(var n={},r=/^([\w-]*?)([\d]+)$/,o=0,s=e.length;o<s;o++){var a=e[o],c=a.name.match(r);if(c&&c.length>1){var l=c[1],h=n[l];h||(n[l]=h=[]),h.push(a)}}var u=[];for(var l in n)u.push(Pd.CreateFromMorphTargetSequence(l,n[l],t,i));return u},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var i=function(e,t,i,n,r){if(0!==i.length){var o=[],s=[];bd.flattenJSON(i,o,s,n),0!==o.length&&r.push(new e(t,o,s))}},n=[],r=e.name||"default",o=e.length||-1,s=e.fps||30,a=e.blendMode,c=e.hierarchy||[],l=0;l<c.length;l++){var h=c[l].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var u={},d=0;d<h.length;d++)if(h[d].morphTargets)for(var p=0;p<h[d].morphTargets.length;p++)u[h[d].morphTargets[p]]=-1;for(var f in u){var m=[],v=[];for(p=0;p!==h[d].morphTargets.length;++p){var g=h[d];m.push(g.time),v.push(g.morphTarget===f?1:0)}n.push(new Ad(".morphTargetInfluence["+f+"]",m,v))}o=u.length*(s||1)}else{var y=".bones["+t[l].name+"]";i(kd,y+".position",h,"pos",n),i(Od,y+".quaternion",h,"rot",n),i(kd,y+".scale",h,"scl",n)}}if(0===n.length)return null;var _=new Pd(r,o,n,a);return _}}),Object.assign(Pd.prototype,{resetDuration:function(){for(var e=this.tracks,t=0,i=0,n=e.length;i!==n;++i){var r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Pd(this.name,this.duration,e,this.blendMode)}});var Bd={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Nd(e,t,i){var n=this,r=!1,o=0,s=0,a=void 0,c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){s++,!1===r&&void 0!==n.onStart&&n.onStart(e,o,s),r=!0},this.itemEnd=function(e){o++,void 0!==n.onProgress&&n.onProgress(e,o,s),o===s&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,i=c.length;t<i;t+=2){var n=c[t],r=c[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}var jd=new Nd;function Hd(e){this.manager=void 0!==e?e:jd,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(Hd.prototype,{load:function(){},loadAsync:function(e,t){var i=this;return new Promise((function(n,r){i.load(e,n,t,r)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}});var Fd={};function zd(e){Hd.call(this,e)}function Ud(e){Hd.call(this,e)}function Vd(e){Hd.call(this,e)}function Wd(e){Hd.call(this,e)}function Gd(e){Hd.call(this,e)}function $d(e){Hd.call(this,e)}function qd(e){Hd.call(this,e)}function Xd(){this.type="Curve",this.arcLengthDivisions=200}function Yd(e,t,i,n,r,o,s,a){Xd.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=i||1,this.yRadius=n||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}function Zd(e,t,i,n,r,o){Yd.call(this,e,t,i,i,n,r,o),this.type="ArcCurve"}function Jd(){var e=0,t=0,i=0,n=0;function r(r,o,s,a){e=r,t=s,i=-3*r+3*o-2*s-a,n=2*r-2*o+s+a}return{initCatmullRom:function(e,t,i,n,o){r(t,i,o*(i-e),o*(n-t))},initNonuniformCatmullRom:function(e,t,i,n,o,s,a){var c=(t-e)/o-(i-e)/(o+s)+(i-t)/s,l=(i-t)/s-(n-t)/(s+a)+(n-i)/a;c*=s,l*=s,r(t,i,c,l)},calc:function(r){var o=r*r,s=o*r;return e+t*r+i*o+n*s}}}zd.prototype=Object.assign(Object.create(Hd.prototype),{constructor:zd,load:function(e,t,i,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,o=Bd.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;if(void 0===Fd[e]){var s=/^data:(.*?)(;base64)?,(.*)$/,a=e.match(s);if(a){var c=a[1],l=!!a[2],h=a[3];h=decodeURIComponent(h),l&&(h=atob(h));try{var u,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var p=new Uint8Array(h.length),f=0;f<h.length;f++)p[f]=h.charCodeAt(f);u="blob"===d?new Blob([p.buffer],{type:c}):p.buffer;break;case"document":var m=new DOMParser;u=m.parseFromString(h,c);break;case"json":u=JSON.parse(h);break;default:u=h;break}setTimeout((function(){t&&t(u),r.manager.itemEnd(e)}),0)}catch(y){setTimeout((function(){n&&n(y),r.manager.itemError(e),r.manager.itemEnd(e)}),0)}}else{Fd[e]=[],Fd[e].push({onLoad:t,onProgress:i,onError:n});var v=new XMLHttpRequest;for(var g in v.open("GET",e,!0),v.addEventListener("load",(function(t){var i=this.response,n=Fd[e];if(delete Fd[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Bd.add(e,i);for(var o=0,s=n.length;o<s;o++){var a=n[o];a.onLoad&&a.onLoad(i)}r.manager.itemEnd(e)}else{for(o=0,s=n.length;o<s;o++){a=n[o];a.onError&&a.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}}),!1),v.addEventListener("progress",(function(t){for(var i=Fd[e],n=0,r=i.length;n<r;n++){var o=i[n];o.onProgress&&o.onProgress(t)}}),!1),v.addEventListener("error",(function(t){var i=Fd[e];delete Fd[e];for(var n=0,o=i.length;n<o;n++){var s=i[n];s.onError&&s.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),v.addEventListener("abort",(function(t){var i=Fd[e];delete Fd[e];for(var n=0,o=i.length;n<o;n++){var s=i[n];s.onError&&s.onError(t)}r.manager.itemError(e),r.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)v.setRequestHeader(g,this.requestHeader[g]);v.send(null)}return r.manager.itemStart(e),v}Fd[e].push({onLoad:t,onProgress:i,onError:n})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),Ud.prototype=Object.assign(Object.create(Hd.prototype),{constructor:Ud,load:function(e,t,i,n){var r=this,o=new zd(r.manager);o.setPath(r.path),o.load(e,(function(e){t(r.parse(JSON.parse(e)))}),i,n)},parse:function(e){for(var t=[],i=0;i<e.length;i++){var n=Pd.parse(e[i]);t.push(n)}return t}}),Vd.prototype=Object.assign(Object.create(Hd.prototype),{constructor:Vd,load:function(e,t,i,n){var r=this,o=[],s=new Nh;s.image=o;var a=new zd(this.manager);function c(c){a.load(e[c],(function(e){var i=r.parse(e,!0);o[c]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},l+=1,6===l&&(1===i.mipmapCount&&(s.minFilter=pe),s.format=i.format,s.needsUpdate=!0,t&&t(s))}),i,n)}if(a.setPath(this.path),a.setResponseType("arraybuffer"),Array.isArray(e))for(var l=0,h=0,u=e.length;h<u;++h)c(h);else a.load(e,(function(e){var i=r.parse(e,!0);if(i.isCubemap)for(var n=i.mipmaps.length/i.mipmapCount,a=0;a<n;a++){o[a]={mipmaps:[]};for(var c=0;c<i.mipmapCount;c++)o[a].mipmaps.push(i.mipmaps[a*i.mipmapCount+c]),o[a].format=i.format,o[a].width=i.width,o[a].height=i.height}else s.image.width=i.width,s.image.height=i.height,s.mipmaps=i.mipmaps;1===i.mipmapCount&&(s.minFilter=pe),s.format=i.format,s.needsUpdate=!0,t&&t(s)}),i,n);return s}}),Wd.prototype=Object.assign(Object.create(Hd.prototype),{constructor:Wd,load:function(e,t,i,n){var r=this,o=new Zr,s=new zd(this.manager);return s.setResponseType("arraybuffer"),s.setPath(this.path),s.load(e,(function(e){var i=r.parse(e);i&&(void 0!==i.image?o.image=i.image:void 0!==i.data&&(o.image.width=i.width,o.image.height=i.height,o.image.data=i.data),o.wrapS=void 0!==i.wrapS?i.wrapS:ce,o.wrapT=void 0!==i.wrapT?i.wrapT:ce,o.magFilter=void 0!==i.magFilter?i.magFilter:pe,o.minFilter=void 0!==i.minFilter?i.minFilter:pe,o.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(o.format=i.format),void 0!==i.type&&(o.type=i.type),void 0!==i.mipmaps&&(o.mipmaps=i.mipmaps,o.minFilter=me),1===i.mipmapCount&&(o.minFilter=pe),o.needsUpdate=!0,t&&t(o,i))}),i,n),o}}),Gd.prototype=Object.assign(Object.create(Hd.prototype),{constructor:Gd,load:function(e,t,i,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,o=Bd.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;var s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),Bd.add(e,this),t&&t(this),r.manager.itemEnd(e)}function c(t){s.removeEventListener("load",a,!1),s.removeEventListener("error",c,!1),n&&n(t),r.manager.itemError(e),r.manager.itemEnd(e)}return s.addEventListener("load",a,!1),s.addEventListener("error",c,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}}),$d.prototype=Object.assign(Object.create(Hd.prototype),{constructor:$d,load:function(e,t,i,n){var r=new ja,o=new Gd(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var s=0;function a(i){o.load(e[i],(function(e){r.images[i]=e,s++,6===s&&(r.needsUpdate=!0,t&&t(r))}),void 0,n)}for(var c=0;c<e.length;++c)a(c);return r}}),qd.prototype=Object.assign(Object.create(Hd.prototype),{constructor:qd,load:function(e,t,i,n){var r=new ui,o=new Gd(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(i){r.image=i;var n=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);r.format=n?Le:Oe,r.needsUpdate=!0,void 0!==t&&t(r)}),i,n),r}}),Object.assign(Xd.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var i=this.getUtoTmapping(e);return this.getPoint(i,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i,n=[],r=this.getPoint(0),o=0;for(n.push(0),i=1;i<=e;i++)t=this.getPoint(i/e),o+=t.distanceTo(r),n.push(o),r=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var i,n=this.getLengths(),r=0,o=n.length;i=t||e*n[o-1];var s,a=0,c=o-1;while(a<=c)if(r=Math.floor(a+(c-a)/2),s=n[r]-i,s<0)a=r+1;else{if(!(s>0)){c=r;break}c=r-1}if(r=c,n[r]===i)return r/(o-1);var l=n[r],h=n[r+1],u=h-l,d=(i-l)/u,p=(r+d)/(o-1);return p},getTangent:function(e,t){var i=1e-4,n=e-i,r=e+i;n<0&&(n=0),r>1&&(r=1);var o=this.getPoint(n),s=this.getPoint(r),a=t||(o.isVector2?new ai:new yi);return a.copy(s).sub(o).normalize(),a},getTangentAt:function(e,t){var i=this.getUtoTmapping(e);return this.getTangent(i,t)},computeFrenetFrames:function(e,t){var i,n,r,o=new yi,s=[],a=[],c=[],l=new yi,h=new Ei;for(i=0;i<=e;i++)n=i/e,s[i]=this.getTangentAt(n,new yi),s[i].normalize();a[0]=new yi,c[0]=new yi;var u=Number.MAX_VALUE,d=Math.abs(s[0].x),p=Math.abs(s[0].y),f=Math.abs(s[0].z);for(d<=u&&(u=d,o.set(1,0,0)),p<=u&&(u=p,o.set(0,1,0)),f<=u&&o.set(0,0,1),l.crossVectors(s[0],o).normalize(),a[0].crossVectors(s[0],l),c[0].crossVectors(s[0],a[0]),i=1;i<=e;i++)a[i]=a[i-1].clone(),c[i]=c[i-1].clone(),l.crossVectors(s[i-1],s[i]),l.length()>Number.EPSILON&&(l.normalize(),r=Math.acos(si.clamp(s[i-1].dot(s[i]),-1,1)),a[i].applyMatrix4(h.makeRotationAxis(l,r))),c[i].crossVectors(s[i],a[i]);if(!0===t)for(r=Math.acos(si.clamp(a[0].dot(a[e]),-1,1)),r/=e,s[0].dot(l.crossVectors(a[0],a[e]))>0&&(r=-r),i=1;i<=e;i++)a[i].applyMatrix4(h.makeRotationAxis(s[i],r*i)),c[i].crossVectors(s[i],a[i]);return{tangents:s,normals:a,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Yd.prototype=Object.create(Xd.prototype),Yd.prototype.constructor=Yd,Yd.prototype.isEllipseCurve=!0,Yd.prototype.getPoint=function(e,t){var i=t||new ai,n=2*Math.PI,r=this.aEndAngle-this.aStartAngle,o=Math.abs(r)<Number.EPSILON;while(r<0)r+=n;while(r>n)r-=n;r<Number.EPSILON&&(r=o?0:n),!0!==this.aClockwise||o||(r===n?r=-n:r-=n);var s=this.aStartAngle+e*r,a=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){var l=Math.cos(this.aRotation),h=Math.sin(this.aRotation),u=a-this.aX,d=c-this.aY;a=u*l-d*h+this.aX,c=u*h+d*l+this.aY}return i.set(a,c)},Yd.prototype.copy=function(e){return Xd.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Yd.prototype.toJSON=function(){var e=Xd.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Yd.prototype.fromJSON=function(e){return Xd.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Zd.prototype=Object.create(Yd.prototype),Zd.prototype.constructor=Zd,Zd.prototype.isArcCurve=!0;var Kd=new yi,Qd=new Jd,ep=new Jd,tp=new Jd;function ip(e,t,i,n){Xd.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=i||"centripetal",this.tension=n||.5}function np(e,t,i,n,r){var o=.5*(n-t),s=.5*(r-i),a=e*e,c=e*a;return(2*i-2*n+o+s)*c+(-3*i+3*n-2*o-s)*a+o*e+i}function rp(e,t){var i=1-e;return i*i*t}function op(e,t){return 2*(1-e)*e*t}function sp(e,t){return e*e*t}function ap(e,t,i,n){return rp(e,t)+op(e,i)+sp(e,n)}function cp(e,t){var i=1-e;return i*i*i*t}function lp(e,t){var i=1-e;return 3*i*i*e*t}function hp(e,t){return 3*(1-e)*e*e*t}function up(e,t){return e*e*e*t}function dp(e,t,i,n,r){return cp(e,t)+lp(e,i)+hp(e,n)+up(e,r)}function pp(e,t,i,n){Xd.call(this),this.type="CubicBezierCurve",this.v0=e||new ai,this.v1=t||new ai,this.v2=i||new ai,this.v3=n||new ai}function fp(e,t,i,n){Xd.call(this),this.type="CubicBezierCurve3",this.v0=e||new yi,this.v1=t||new yi,this.v2=i||new yi,this.v3=n||new yi}function mp(e,t){Xd.call(this),this.type="LineCurve",this.v1=e||new ai,this.v2=t||new ai}function vp(e,t){Xd.call(this),this.type="LineCurve3",this.v1=e||new yi,this.v2=t||new yi}function gp(e,t,i){Xd.call(this),this.type="QuadraticBezierCurve",this.v0=e||new ai,this.v1=t||new ai,this.v2=i||new ai}function yp(e,t,i){Xd.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new yi,this.v1=t||new yi,this.v2=i||new yi}function _p(e){Xd.call(this),this.type="SplineCurve",this.points=e||[]}ip.prototype=Object.create(Xd.prototype),ip.prototype.constructor=ip,ip.prototype.isCatmullRomCurve3=!0,ip.prototype.getPoint=function(e,t){var i,n,r,o,s=t||new yi,a=this.points,c=a.length,l=(c-(this.closed?0:1))*e,h=Math.floor(l),u=l-h;if(this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/c)+1)*c:0===u&&h===c-1&&(h=c-2,u=1),this.closed||h>0?i=a[(h-1)%c]:(Kd.subVectors(a[0],a[1]).add(a[0]),i=Kd),n=a[h%c],r=a[(h+1)%c],this.closed||h+2<c?o=a[(h+2)%c]:(Kd.subVectors(a[c-1],a[c-2]).add(a[c-1]),o=Kd),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(i.distanceToSquared(n),d),f=Math.pow(n.distanceToSquared(r),d),m=Math.pow(r.distanceToSquared(o),d);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),Qd.initNonuniformCatmullRom(i.x,n.x,r.x,o.x,p,f,m),ep.initNonuniformCatmullRom(i.y,n.y,r.y,o.y,p,f,m),tp.initNonuniformCatmullRom(i.z,n.z,r.z,o.z,p,f,m)}else"catmullrom"===this.curveType&&(Qd.initCatmullRom(i.x,n.x,r.x,o.x,this.tension),ep.initCatmullRom(i.y,n.y,r.y,o.y,this.tension),tp.initCatmullRom(i.z,n.z,r.z,o.z,this.tension));return s.set(Qd.calc(u),ep.calc(u),tp.calc(u)),s},ip.prototype.copy=function(e){Xd.prototype.copy.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},ip.prototype.toJSON=function(){var e=Xd.prototype.toJSON.call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},ip.prototype.fromJSON=function(e){Xd.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var n=e.points[t];this.points.push((new yi).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},pp.prototype=Object.create(Xd.prototype),pp.prototype.constructor=pp,pp.prototype.isCubicBezierCurve=!0,pp.prototype.getPoint=function(e,t){var i=t||new ai,n=this.v0,r=this.v1,o=this.v2,s=this.v3;return i.set(dp(e,n.x,r.x,o.x,s.x),dp(e,n.y,r.y,o.y,s.y)),i},pp.prototype.copy=function(e){return Xd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},pp.prototype.toJSON=function(){var e=Xd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},pp.prototype.fromJSON=function(e){return Xd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},fp.prototype=Object.create(Xd.prototype),fp.prototype.constructor=fp,fp.prototype.isCubicBezierCurve3=!0,fp.prototype.getPoint=function(e,t){var i=t||new yi,n=this.v0,r=this.v1,o=this.v2,s=this.v3;return i.set(dp(e,n.x,r.x,o.x,s.x),dp(e,n.y,r.y,o.y,s.y),dp(e,n.z,r.z,o.z,s.z)),i},fp.prototype.copy=function(e){return Xd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},fp.prototype.toJSON=function(){var e=Xd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},fp.prototype.fromJSON=function(e){return Xd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},mp.prototype=Object.create(Xd.prototype),mp.prototype.constructor=mp,mp.prototype.isLineCurve=!0,mp.prototype.getPoint=function(e,t){var i=t||new ai;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i},mp.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},mp.prototype.getTangent=function(e,t){var i=t||new ai;i=i.copy(this.v2).sub(this.v1).normalize();return i},mp.prototype.copy=function(e){return Xd.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},mp.prototype.toJSON=function(){var e=Xd.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},mp.prototype.fromJSON=function(e){return Xd.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},vp.prototype=Object.create(Xd.prototype),vp.prototype.constructor=vp,vp.prototype.isLineCurve3=!0,vp.prototype.getPoint=function(e,t){var i=t||new yi;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i},vp.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},vp.prototype.copy=function(e){return Xd.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},vp.prototype.toJSON=function(){var e=Xd.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},vp.prototype.fromJSON=function(e){return Xd.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},gp.prototype=Object.create(Xd.prototype),gp.prototype.constructor=gp,gp.prototype.isQuadraticBezierCurve=!0,gp.prototype.getPoint=function(e,t){var i=t||new ai,n=this.v0,r=this.v1,o=this.v2;return i.set(ap(e,n.x,r.x,o.x),ap(e,n.y,r.y,o.y)),i},gp.prototype.copy=function(e){return Xd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},gp.prototype.toJSON=function(){var e=Xd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},gp.prototype.fromJSON=function(e){return Xd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},yp.prototype=Object.create(Xd.prototype),yp.prototype.constructor=yp,yp.prototype.isQuadraticBezierCurve3=!0,yp.prototype.getPoint=function(e,t){var i=t||new yi,n=this.v0,r=this.v1,o=this.v2;return i.set(ap(e,n.x,r.x,o.x),ap(e,n.y,r.y,o.y),ap(e,n.z,r.z,o.z)),i},yp.prototype.copy=function(e){return Xd.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},yp.prototype.toJSON=function(){var e=Xd.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},yp.prototype.fromJSON=function(e){return Xd.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},_p.prototype=Object.create(Xd.prototype),_p.prototype.constructor=_p,_p.prototype.isSplineCurve=!0,_p.prototype.getPoint=function(e,t){var i=t||new ai,n=this.points,r=(n.length-1)*e,o=Math.floor(r),s=r-o,a=n[0===o?o:o-1],c=n[o],l=n[o>n.length-2?n.length-1:o+1],h=n[o>n.length-3?n.length-1:o+2];return i.set(np(s,a.x,c.x,l.x,h.x),np(s,a.y,c.y,l.y,h.y)),i},_p.prototype.copy=function(e){Xd.prototype.copy.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var n=e.points[t];this.points.push(n.clone())}return this},_p.prototype.toJSON=function(){var e=Xd.prototype.toJSON.call(this);e.points=[];for(var t=0,i=this.points.length;t<i;t++){var n=this.points[t];e.points.push(n.toArray())}return e},_p.prototype.fromJSON=function(e){Xd.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,i=e.points.length;t<i;t++){var n=e.points[t];this.points.push((new ai).fromArray(n))}return this};var bp=Object.freeze({__proto__:null,ArcCurve:Zd,CatmullRomCurve3:ip,CubicBezierCurve:pp,CubicBezierCurve3:fp,EllipseCurve:Yd,LineCurve:mp,LineCurve3:vp,QuadraticBezierCurve:gp,QuadraticBezierCurve3:yp,SplineCurve:_p});function xp(){Xd.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function wp(e){xp.call(this),this.type="Path",this.currentPoint=new ai,e&&this.setFromPoints(e)}function Sp(e){wp.call(this,e),this.uuid=si.generateUUID(),this.type="Shape",this.holes=[]}function Cp(e,t){Wi.call(this),this.type="Light",this.color=new Bn(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function Mp(e,t,i){Cp.call(this,e,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Wi.DefaultUp),this.updateMatrix(),this.groundColor=new Bn(t)}function Ep(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new ai(512,512),this.map=null,this.mapPass=null,this.matrix=new Ei,this._frustum=new Qr,this._frameExtents=new ai(1,1),this._viewportCount=1,this._viewports=[new di(0,0,1,1)]}function Tp(){Ep.call(this,new Gr(50,1,.5,500))}function Ap(e,t,i,n,r,o){Cp.call(this,e,t),this.type="SpotLight",this.position.copy(Wi.DefaultUp),this.updateMatrix(),this.target=new Wi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new Tp}function Lp(){Ep.call(this,new Gr(90,1,.5,500)),this._frameExtents=new ai(4,2),this._viewportCount=6,this._viewports=[new di(2,1,1,1),new di(0,1,1,1),new di(3,1,1,1),new di(1,1,1,1),new di(3,0,1,1),new di(1,0,1,1)],this._cubeDirections=[new yi(1,0,0),new yi(-1,0,0),new yi(0,0,1),new yi(0,0,-1),new yi(0,1,0),new yi(0,-1,0)],this._cubeUps=[new yi(0,1,0),new yi(0,1,0),new yi(0,1,0),new yi(0,1,0),new yi(0,0,1),new yi(0,0,-1)]}function Op(e,t,i,n){Cp.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new Lp}function Rp(e,t,i,n,r,o){Wr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==i?i:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function kp(){Ep.call(this,new Rp(-5,5,5,-5,.5,500))}function Pp(e,t){Cp.call(this,e,t),this.type="DirectionalLight",this.position.copy(Wi.DefaultUp),this.updateMatrix(),this.target=new Wi,this.shadow=new kp}function Dp(e,t){Cp.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Ip(e,t,i,n){Cp.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==n?n:10}function Bp(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new yi)}function Np(e,t){Cp.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Bp}function jp(e){Hd.call(this,e),this.textures={}}xp.prototype=Object.assign(Object.create(Xd.prototype),{constructor:xp,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new mp(t,e))},getPoint:function(e){var t=e*this.getLength(),i=this.getCurveLengths(),n=0;while(n<i.length){if(i[n]>=t){var r=i[n]-t,o=this.curves[n],s=o.getLength(),a=0===s?0:1-r/s;return o.getPointAt(a)}n++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0,n=this.curves.length;i<n;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,i=[],n=0,r=this.curves;n<r.length;n++)for(var o=r[n],s=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s),c=0;c<a.length;c++){var l=a[c];t&&t.equals(l)||(i.push(l),t=l)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(e){Xd.prototype.copy.call(this,e),this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Xd.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,i=this.curves.length;t<i;t++){var n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){Xd.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,i=e.curves.length;t<i;t++){var n=e.curves[t];this.curves.push((new bp[n.type]).fromJSON(n))}return this}}),wp.prototype=Object.assign(Object.create(xp.prototype),{constructor:wp,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var i=new mp(this.currentPoint.clone(),new ai(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,i,n){var r=new gp(this.currentPoint.clone(),new ai(e,t),new ai(i,n));return this.curves.push(r),this.currentPoint.set(i,n),this},bezierCurveTo:function(e,t,i,n,r,o){var s=new pp(this.currentPoint.clone(),new ai(e,t),new ai(i,n),new ai(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e),i=new _p(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,i,n,r,o){var s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,i,n,r,o),this},absarc:function(e,t,i,n,r,o){return this.absellipse(e,t,i,i,n,r,o),this},ellipse:function(e,t,i,n,r,o,s,a){var c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+c,t+l,i,n,r,o,s,a),this},absellipse:function(e,t,i,n,r,o,s,a){var c=new Yd(e,t,i,n,r,o,s,a);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var h=c.getPoint(1);return this.currentPoint.copy(h),this},copy:function(e){return xp.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=xp.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return xp.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Sp.prototype=Object.assign(Object.create(wp.prototype),{constructor:Sp,getPointsHoles:function(e){for(var t=[],i=0,n=this.holes.length;i<n;i++)t[i]=this.holes[i].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){wp.prototype.copy.call(this,e),this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){var e=wp.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,i=this.holes.length;t<i;t++){var n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){wp.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,i=e.holes.length;t<i;t++){var n=e.holes[t];this.holes.push((new wp).fromJSON(n))}return this}}),Cp.prototype=Object.assign(Object.create(Wi.prototype),{constructor:Cp,isLight:!0,copy:function(e){return Wi.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Wi.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Mp.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Mp,isHemisphereLight:!0,copy:function(e){return Cp.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Ep.prototype,{_projScreenMatrix:new Ei,_lightPositionWorld:new yi,_lookTarget:new yi,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,i=this.matrix,n=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),n.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Tp.prototype=Object.assign(Object.create(Ep.prototype),{constructor:Tp,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,i=2*si.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;i===t.fov&&n===t.aspect&&r===t.far||(t.fov=i,t.aspect=n,t.far=r,t.updateProjectionMatrix()),Ep.prototype.updateMatrices.call(this,e)}}),Ap.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Ap,isSpotLight:!0,copy:function(e){return Cp.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Lp.prototype=Object.assign(Object.create(Ep.prototype),{constructor:Lp,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var i=this.camera,n=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),i.position.copy(r),o.copy(i.position),o.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(o),i.updateMatrixWorld(),n.makeTranslation(-r.x,-r.y,-r.z),s.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}}),Op.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Op,isPointLight:!0,copy:function(e){return Cp.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Rp.prototype=Object.assign(Object.create(Wr.prototype),{constructor:Rp,isOrthographicCamera:!0,copy:function(e,t){return Wr.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,i,n,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2,r=i-e,o=i+e,s=n+t,a=n-t;if(null!==this.view&&this.view.enabled){var c=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,s-=l*this.view.offsetY,a=s-l*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Wi.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),kp.prototype=Object.assign(Object.create(Ep.prototype),{constructor:kp,isDirectionalLightShadow:!0,updateMatrices:function(e){Ep.prototype.updateMatrices.call(this,e)}}),Pp.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Pp,isDirectionalLight:!0,copy:function(e){return Cp.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Dp.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Dp,isAmbientLight:!0}),Ip.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Ip,isRectAreaLight:!0,copy:function(e){return Cp.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=Cp.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(Bp.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var i=e.x,n=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*n),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],i*n*1.092548),t.addScaledVector(o[5],n*r*1.092548),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],i*r*1.092548),t.addScaledVector(o[8],.546274*(i*i-n*n)),t},getIrradianceAt:function(e,t){var i=e.x,n=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*n),t.addScaledVector(o[2],1.023328*r),t.addScaledVector(o[3],1.023328*i),t.addScaledVector(o[4],.858086*i*n),t.addScaledVector(o[5],.858086*n*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],.858086*i*r),t.addScaledVector(o[8],.429043*(i*i-n*n)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(var i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var i=this.coefficients,n=0;n<9;n++)i[n].fromArray(e,t+3*n);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var i=this.coefficients,n=0;n<9;n++)i[n].toArray(e,t+3*n);return e}}),Object.assign(Bp,{getBasisAt:function(e,t){var i=e.x,n=e.y,r=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*n,t[5]=1.092548*n*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-n*n)}}),Np.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Np,isLightProbe:!0,copy:function(e){return Cp.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=Cp.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),jp.prototype=Object.assign(Object.create(Hd.prototype),{constructor:jp,load:function(e,t,i,n){var r=this,o=new zd(r.manager);o.setPath(r.path),o.load(e,(function(e){t(r.parse(JSON.parse(e)))}),i,n)},parse:function(e){var t=this.textures;function i(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var n=new _d[e.type];if(void 0!==e.uuid&&(n.uuid=e.uuid),void 0!==e.name&&(n.name=e.name),void 0!==e.color&&n.color.setHex(e.color),void 0!==e.roughness&&(n.roughness=e.roughness),void 0!==e.metalness&&(n.metalness=e.metalness),void 0!==e.sheen&&(n.sheen=(new Bn).setHex(e.sheen)),void 0!==e.emissive&&n.emissive.setHex(e.emissive),void 0!==e.specular&&n.specular.setHex(e.specular),void 0!==e.shininess&&(n.shininess=e.shininess),void 0!==e.clearcoat&&(n.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(n.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(n.fog=e.fog),void 0!==e.flatShading&&(n.flatShading=e.flatShading),void 0!==e.blending&&(n.blending=e.blending),void 0!==e.combine&&(n.combine=e.combine),void 0!==e.side&&(n.side=e.side),void 0!==e.opacity&&(n.opacity=e.opacity),void 0!==e.transparent&&(n.transparent=e.transparent),void 0!==e.alphaTest&&(n.alphaTest=e.alphaTest),void 0!==e.depthTest&&(n.depthTest=e.depthTest),void 0!==e.depthWrite&&(n.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(n.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(n.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(n.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(n.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(n.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(n.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(n.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(n.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(n.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(n.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(n.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(n.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(n.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(n.rotation=e.rotation),1!==e.linewidth&&(n.linewidth=e.linewidth),void 0!==e.dashSize&&(n.dashSize=e.dashSize),void 0!==e.gapSize&&(n.gapSize=e.gapSize),void 0!==e.scale&&(n.scale=e.scale),void 0!==e.polygonOffset&&(n.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(n.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(n.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(n.skinning=e.skinning),void 0!==e.morphTargets&&(n.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(n.morphNormals=e.morphNormals),void 0!==e.dithering&&(n.dithering=e.dithering),void 0!==e.vertexTangents&&(n.vertexTangents=e.vertexTangents),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.toneMapped&&(n.toneMapped=e.toneMapped),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?n.vertexColors=e.vertexColors>0:n.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var r in e.uniforms){var o=e.uniforms[r];switch(n.uniforms[r]={},o.type){case"t":n.uniforms[r].value=i(o.value);break;case"c":n.uniforms[r].value=(new Bn).setHex(o.value);break;case"v2":n.uniforms[r].value=(new ai).fromArray(o.value);break;case"v3":n.uniforms[r].value=(new yi).fromArray(o.value);break;case"v4":n.uniforms[r].value=(new di).fromArray(o.value);break;case"m3":n.uniforms[r].value=(new ci).fromArray(o.value);case"m4":n.uniforms[r].value=(new Ei).fromArray(o.value);break;default:n.uniforms[r].value=o.value}}if(void 0!==e.defines&&(n.defines=e.defines),void 0!==e.vertexShader&&(n.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(n.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var s in e.extensions)n.extensions[s]=e.extensions[s];if(void 0!==e.shading&&(n.flatShading=1===e.shading),void 0!==e.size&&(n.size=e.size),void 0!==e.sizeAttenuation&&(n.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(n.map=i(e.map)),void 0!==e.matcap&&(n.matcap=i(e.matcap)),void 0!==e.alphaMap&&(n.alphaMap=i(e.alphaMap)),void 0!==e.bumpMap&&(n.bumpMap=i(e.bumpMap)),void 0!==e.bumpScale&&(n.bumpScale=e.bumpScale),void 0!==e.normalMap&&(n.normalMap=i(e.normalMap)),void 0!==e.normalMapType&&(n.normalMapType=e.normalMapType),void 0!==e.normalScale){var a=e.normalScale;!1===Array.isArray(a)&&(a=[a,a]),n.normalScale=(new ai).fromArray(a)}return void 0!==e.displacementMap&&(n.displacementMap=i(e.displacementMap)),void 0!==e.displacementScale&&(n.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(n.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(n.roughnessMap=i(e.roughnessMap)),void 0!==e.metalnessMap&&(n.metalnessMap=i(e.metalnessMap)),void 0!==e.emissiveMap&&(n.emissiveMap=i(e.emissiveMap)),void 0!==e.emissiveIntensity&&(n.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(n.specularMap=i(e.specularMap)),void 0!==e.envMap&&(n.envMap=i(e.envMap)),void 0!==e.envMapIntensity&&(n.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(n.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(n.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(n.lightMap=i(e.lightMap)),void 0!==e.lightMapIntensity&&(n.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(n.aoMap=i(e.aoMap)),void 0!==e.aoMapIntensity&&(n.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(n.gradientMap=i(e.gradientMap)),void 0!==e.clearcoatMap&&(n.clearcoatMap=i(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(n.clearcoatNormalMap=i(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(n.clearcoatNormalScale=(new ai).fromArray(e.clearcoatNormalScale)),n},setTextures:function(e){return this.textures=e,this}});var Hp={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",i=0,n=e.length;i<n;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch(r){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Fp(){hr.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function zp(e,t,i,n){"number"===typeof i&&(n=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Gn.call(this,e,t,i),this.meshPerAttribute=n||1}function Up(e){Hd.call(this,e)}Fp.prototype=Object.assign(Object.create(hr.prototype),{constructor:Fp,isInstancedBufferGeometry:!0,copy:function(e){return hr.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=hr.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),zp.prototype=Object.assign(Object.create(Gn.prototype),{constructor:zp,isInstancedBufferAttribute:!0,copy:function(e){return Gn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Gn.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Up.prototype=Object.assign(Object.create(Hd.prototype),{constructor:Up,load:function(e,t,i,n){var r=this,o=new zd(r.manager);o.setPath(r.path),o.load(e,(function(e){t(r.parse(JSON.parse(e)))}),i,n)},parse:function(e){var t=e.isInstancedBufferGeometry?new Fp:new hr,i=e.data.index;if(void 0!==i){var n=new Vp[i.type](i.array);t.setIndex(new Gn(n,1))}var r=e.data.attributes;for(var o in r){var s=r[o],a=(n=new Vp[s.type](s.array),s.isInstancedBufferAttribute?zp:Gn),c=new a(n,s.itemSize,s.normalized);void 0!==s.name&&(c.name=s.name),t.setAttribute(o,c)}var l=e.data.morphAttributes;if(l)for(var o in l){for(var h=l[o],u=[],d=0,p=h.length;d<p;d++){s=h[d],n=new Vp[s.type](s.array),c=new Gn(n,s.itemSize,s.normalized);void 0!==s.name&&(c.name=s.name),u.push(c)}t.morphAttributes[o]=u}var f=e.data.morphTargetsRelative;f&&(t.morphTargetsRelative=!0);var m=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==m){d=0;for(var v=m.length;d!==v;++d){var g=m[d];t.addGroup(g.start,g.count,g.materialIndex)}}var y=e.data.boundingSphere;if(void 0!==y){var _=new yi;void 0!==y.center&&_.fromArray(y.center),t.boundingSphere=new ln(_,y.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var Vp={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Wp(e){Hd.call(this,e)}Wp.prototype=Object.assign(Object.create(Hd.prototype),{constructor:Wp,load:function(e,t,i,n){var r=this,o=""===this.path?Hp.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var s=new zd(r.manager);s.setPath(this.path),s.load(e,(function(i){var o=null;try{o=JSON.parse(i)}catch(a){return void 0!==n&&n(a),void console.error("THREE:ObjectLoader: Can't parse "+e+".",a.message)}var s=o.metadata;void 0!==s&&void 0!==s.type&&"geometry"!==s.type.toLowerCase()?r.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),i,n)},parse:function(e,t){var i=this.parseShape(e.shapes),n=this.parseGeometries(e.geometries,i),r=this.parseImages(e.images,(function(){void 0!==t&&t(a)})),o=this.parseTextures(e.textures,r),s=this.parseMaterials(e.materials,o),a=this.parseObject(e.object,n,s);return e.animations&&(a.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(a),a},parseShape:function(e){var t={};if(void 0!==e)for(var i=0,n=e.length;i<n;i++){var r=(new Sp).fromJSON(e[i]);t[r.uuid]=r}return t},parseGeometries:function(e,t){var i={};if(void 0!==e)for(var n=new Up,r=0,o=e.length;r<o;r++){var s,a=e[r];switch(a.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new cd[a.type](a.width,a.height,a.widthSegments,a.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new cd[a.type](a.width,a.height,a.depth,a.widthSegments,a.heightSegments,a.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new cd[a.type](a.radius,a.segments,a.thetaStart,a.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new cd[a.type](a.radiusTop,a.radiusBottom,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new cd[a.type](a.radius,a.height,a.radialSegments,a.heightSegments,a.openEnded,a.thetaStart,a.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new cd[a.type](a.radius,a.widthSegments,a.heightSegments,a.phiStart,a.phiLength,a.thetaStart,a.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new cd[a.type](a.radius,a.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new cd[a.type](a.innerRadius,a.outerRadius,a.thetaSegments,a.phiSegments,a.thetaStart,a.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new cd[a.type](a.radius,a.tube,a.radialSegments,a.tubularSegments,a.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new cd[a.type](a.radius,a.tube,a.tubularSegments,a.radialSegments,a.p,a.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new cd[a.type]((new bp[a.path.type]).fromJSON(a.path),a.tubularSegments,a.radius,a.radialSegments,a.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new cd[a.type](a.points,a.segments,a.phiStart,a.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new cd[a.type](a.vertices,a.indices,a.radius,a.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],l=0,h=a.shapes.length;l<h;l++){var u=t[a.shapes[l]];c.push(u)}s=new cd[a.type](c,a.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],l=0,h=a.shapes.length;l<h;l++){u=t[a.shapes[l]];c.push(u)}var d=a.options.extrudePath;void 0!==d&&(a.options.extrudePath=(new bp[d.type]).fromJSON(d)),s=new cd[a.type](c,a.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=n.parse(a);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+a.type+'"');continue}s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),!0===s.isBufferGeometry&&void 0!==a.userData&&(s.userData=a.userData),i[a.uuid]=s}return i},parseMaterials:function(e,t){var i={},n={};if(void 0!==e){var r=new jp;r.setTextures(t);for(var o=0,s=e.length;o<s;o++){var a=e[o];if("MultiMaterial"===a.type){for(var c=[],l=0;l<a.materials.length;l++){var h=a.materials[l];void 0===i[h.uuid]&&(i[h.uuid]=r.parse(h)),c.push(i[h.uuid])}n[a.uuid]=c}else void 0===i[a.uuid]&&(i[a.uuid]=r.parse(a)),n[a.uuid]=i[a.uuid]}}return n},parseAnimations:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=Pd.parse(n);void 0!==n.uuid&&(r.uuid=n.uuid),t.push(r)}return t},parseImages:function(e,t){var i=this,n={};function r(e){return i.manager.itemStart(e),s.load(e,(function(){i.manager.itemEnd(e)}),void 0,(function(){i.manager.itemError(e),i.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var o=new Nd(t),s=new Gd(o);s.setCrossOrigin(this.crossOrigin);for(var a=0,c=e.length;a<c;a++){var l=e[a],h=l.url;if(Array.isArray(h)){n[l.uuid]=[];for(var u=0,d=h.length;u<d;u++){var p=h[u],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;n[l.uuid].push(r(f))}}else{f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.resourcePath+l.url;n[l.uuid]=r(f)}}}return n},parseTextures:function(e,t){function i(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var n={};if(void 0!==e)for(var r=0,o=e.length;r<o;r++){var s,a=e[r];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image),s=Array.isArray(t[a.image])?new ja(t[a.image]):new ui(t[a.image]),s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=i(a.mapping,$p)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=i(a.wrap[0],qp),s.wrapT=i(a.wrap[1],qp)),void 0!==a.format&&(s.format=a.format),void 0!==a.type&&(s.type=a.type),void 0!==a.encoding&&(s.encoding=a.encoding),void 0!==a.minFilter&&(s.minFilter=i(a.minFilter,Xp)),void 0!==a.magFilter&&(s.magFilter=i(a.magFilter,Xp)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(s.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(s.unpackAlignment=a.unpackAlignment),n[a.uuid]=s}return n},parseObject:function(e,t,i){var n;function r(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function o(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];void 0===i[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(i[o])}return t}return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),i[e]}}switch(e.type){case"Scene":n=new Gi,void 0!==e.background&&Number.isInteger(e.background)&&(n.background=new Bn(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?n.fog=new Hl(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(n.fog=new jl(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":n=new Gr(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(n.focus=e.focus),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.filmGauge&&(n.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(n.filmOffset=e.filmOffset),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"OrthographicCamera":n=new Rp(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(n.zoom=e.zoom),void 0!==e.view&&(n.view=Object.assign({},e.view));break;case"AmbientLight":n=new Dp(e.color,e.intensity);break;case"DirectionalLight":n=new Pp(e.color,e.intensity);break;case"PointLight":n=new Op(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":n=new Ip(e.color,e.intensity,e.width,e.height);break;case"SpotLight":n=new Ap(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":n=new Mp(e.color,e.groundColor,e.intensity);break;case"LightProbe":n=(new Np).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var s=r(e.geometry),a=o(e.material);n=new Ar(s,a);break;case"InstancedMesh":s=r(e.geometry),a=o(e.material);var c=e.count,l=e.instanceMatrix;n=new gh(s,a,c),n.instanceMatrix=new Gn(new Float32Array(l.array),16);break;case"LOD":n=new ah;break;case"Line":n=new Ch(r(e.geometry),o(e.material),e.mode);break;case"LineLoop":n=new Ah(r(e.geometry),o(e.material));break;case"LineSegments":n=new Th(r(e.geometry),o(e.material));break;case"PointCloud":case"Points":n=new Dh(r(e.geometry),o(e.material));break;case"Sprite":n=new nh(o(e.material));break;case"Group":n=new Dl;break;default:n=new Wi}if(n.uuid=e.uuid,void 0!==e.name&&(n.name=e.name),void 0!==e.matrix?(n.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(n.matrixAutoUpdate=e.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==e.position&&n.position.fromArray(e.position),void 0!==e.rotation&&n.rotation.fromArray(e.rotation),void 0!==e.quaternion&&n.quaternion.fromArray(e.quaternion),void 0!==e.scale&&n.scale.fromArray(e.scale)),void 0!==e.castShadow&&(n.castShadow=e.castShadow),void 0!==e.receiveShadow&&(n.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(n.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(n.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&n.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(n.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.frustumCulled&&(n.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(n.renderOrder=e.renderOrder),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.layers&&(n.layers.mask=e.layers),void 0!==e.children)for(var h=e.children,u=0;u<h.length;u++)n.add(this.parseObject(h[u],t,i));if("LOD"===e.type){void 0!==e.autoUpdate&&(n.autoUpdate=e.autoUpdate);for(var d=e.levels,p=0;p<d.length;p++){var f=d[p],m=n.getObjectByProperty("uuid",f.object);void 0!==m&&n.addLevel(m,f.distance)}}return n}});var Gp,$p={UVMapping:Q,CubeReflectionMapping:ee,CubeRefractionMapping:te,EquirectangularReflectionMapping:ie,EquirectangularRefractionMapping:ne,SphericalReflectionMapping:re,CubeUVReflectionMapping:oe,CubeUVRefractionMapping:se},qp={RepeatWrapping:ae,ClampToEdgeWrapping:ce,MirroredRepeatWrapping:le},Xp={NearestFilter:he,NearestMipmapNearestFilter:ue,NearestMipmapLinearFilter:de,LinearFilter:pe,LinearMipmapNearestFilter:fe,LinearMipmapLinearFilter:me};function Yp(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Hd.call(this,e),this.options=void 0}function Zp(){this.type="ShapePath",this.color=new Bn,this.subPaths=[],this.currentPath=null}function Jp(e){this.type="Font",this.data=e}function Kp(e,t,i){for(var n=Array.from?Array.from(e):String(e).split(""),r=t/i.resolution,o=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*r,s=[],a=0,c=0,l=0;l<n.length;l++){var h=n[l];if("\n"===h)a=0,c-=o;else{var u=Qp(h,r,a,c,i);a+=u.offsetX,s.push(u.path)}}return s}function Qp(e,t,i,n,r){var o=r.glyphs[e]||r.glyphs["?"];if(o){var s,a,c,l,h,u,d,p,f=new Zp;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,g=m.length;v<g;){var y=m[v++];switch(y){case"m":s=m[v++]*t+i,a=m[v++]*t+n,f.moveTo(s,a);break;case"l":s=m[v++]*t+i,a=m[v++]*t+n,f.lineTo(s,a);break;case"q":c=m[v++]*t+i,l=m[v++]*t+n,h=m[v++]*t+i,u=m[v++]*t+n,f.quadraticCurveTo(h,u,c,l);break;case"b":c=m[v++]*t+i,l=m[v++]*t+n,h=m[v++]*t+i,u=m[v++]*t+n,d=m[v++]*t+i,p=m[v++]*t+n,f.bezierCurveTo(h,u,d,p,c,l);break}}return{offsetX:o.ha*t,path:f}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".")}function ef(e){Hd.call(this,e)}Yp.prototype=Object.assign(Object.create(Hd.prototype),{constructor:Yp,setOptions:function(e){return this.options=e,this},load:function(e,t,i,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var r=this,o=Bd.get(e);if(void 0!==o)return r.manager.itemStart(e),setTimeout((function(){t&&t(o),r.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===r.options?createImageBitmap(e):createImageBitmap(e,r.options)})).then((function(i){Bd.add(e,i),t&&t(i),r.manager.itemEnd(e)})).catch((function(t){n&&n(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}}),Object.assign(Zp.prototype,{moveTo:function(e,t){return this.currentPath=new wp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,i,n){return this.currentPath.quadraticCurveTo(e,t,i,n),this},bezierCurveTo:function(e,t,i,n,r,o){return this.currentPath.bezierCurveTo(e,t,i,n,r,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function i(e){for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i],o=new Sp;o.curves=r.curves,t.push(o)}return t}function n(e,t){for(var i=t.length,n=!1,r=i-1,o=0;o<i;r=o++){var s=t[r],a=t[o],c=a.x-s.x,l=a.y-s.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(s=t[o],c=-c,a=t[r],l=-l),e.y<s.y||e.y>a.y)continue;if(e.y===s.y){if(e.x===s.x)return!0}else{var h=l*(e.x-s.x)-c*(e.y-s.y);if(0===h)return!0;if(h<0)continue;n=!n}}else{if(e.y!==s.y)continue;if(a.x<=e.x&&e.x<=s.x||s.x<=e.x&&e.x<=a.x)return!0}}return n}var r=Nu.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return i(o);var s,a,c,l=[];if(1===o.length)return a=o[0],c=new Sp,c.curves=a.curves,l.push(c),l;var h=!r(o[0].getPoints());h=e?!h:h;var u,d,p=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var g=0,y=o.length;g<y;g++)a=o[g],u=a.getPoints(),s=r(u),s=e?!s:s,s?(!h&&f[v]&&v++,f[v]={s:new Sp,p:u},f[v].s.curves=a.curves,h&&v++,m[v]=[]):m[v].push({h:a,p:u[0]});if(!f[0])return i(o);if(f.length>1){for(var _=!1,b=[],x=0,w=f.length;x<w;x++)p[x]=[];for(x=0,w=f.length;x<w;x++)for(var S=m[x],C=0;C<S.length;C++){for(var M=S[C],E=!0,T=0;T<f.length;T++)n(M.p,f[T].p)&&(x!==T&&b.push({froms:x,tos:T,hole:C}),E?(E=!1,p[T].push(M)):_=!0);E&&p[x].push(M)}b.length>0&&(_||(m=p))}g=0;for(var A=f.length;g<A;g++){c=f[g].s,l.push(c),d=m[g];for(var L=0,O=d.length;L<O;L++)c.holes.push(d[L].h)}return l}}),Object.assign(Jp.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var i=[],n=Kp(e,t,this.data),r=0,o=n.length;r<o;r++)Array.prototype.push.apply(i,n[r].toShapes());return i}}),ef.prototype=Object.assign(Object.create(Hd.prototype),{constructor:ef,load:function(e,t,i,n){var r=this,o=new zd(this.manager);o.setPath(this.path),o.load(e,(function(e){var i;try{i=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),i=JSON.parse(e.substring(65,e.length-2))}var n=r.parse(i);t&&t(n)}),i,n)},parse:function(e){return new Jp(e)}});var tf={getContext:function(){return void 0===Gp&&(Gp=new(window.AudioContext||window.webkitAudioContext)),Gp},setContext:function(e){Gp=e}};function nf(e){Hd.call(this,e)}function rf(e,t,i){Np.call(this,void 0,i);var n=(new Bn).set(e),r=(new Bn).set(t),o=new yi(n.r,n.g,n.b),s=new yi(r.r,r.g,r.b),a=Math.sqrt(Math.PI),c=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(c)}function of(e,t){Np.call(this,void 0,t);var i=(new Bn).set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}nf.prototype=Object.assign(Object.create(Hd.prototype),{constructor:nf,load:function(e,t,i,n){var r=new zd(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(e,(function(e){var i=e.slice(0),n=tf.getContext();n.decodeAudioData(i,(function(e){t(e)}))}),i,n)}}),rf.prototype=Object.assign(Object.create(Np.prototype),{constructor:rf,isHemisphereLightProbe:!0,copy:function(e){return Np.prototype.copy.call(this,e),this},toJSON:function(e){var t=Np.prototype.toJSON.call(this,e);return t}}),of.prototype=Object.assign(Object.create(Np.prototype),{constructor:of,isAmbientLightProbe:!0,copy:function(e){return Np.prototype.copy.call(this,e),this},toJSON:function(e){var t=Np.prototype.toJSON.call(this,e);return t}});var sf=new Ei,af=new Ei;function cf(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Gr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Gr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function lf(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(cf.prototype,{update:function(e){var t=this._cache,i=t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep;if(i){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,o=e.projectionMatrix.clone(),s=t.eyeSep/2,a=s*t.near/t.focus,c=t.near*Math.tan(si.DEG2RAD*t.fov*.5)/t.zoom;af.elements[12]=-s,sf.elements[12]=s,n=-c*t.aspect+a,r=c*t.aspect+a,o.elements[0]=2*t.near/(r-n),o.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(o),n=-c*t.aspect-a,r=c*t.aspect-a,o.elements[0]=2*t.near/(r-n),o.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(o)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(af),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(sf)}}),Object.assign(lf.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var hf=new yi,uf=new mi,df=new yi,pf=new yi;function ff(){Wi.call(this),this.type="AudioListener",this.context=tf.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new lf}function mf(e){Wi.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}ff.prototype=Object.assign(Object.create(Wi.prototype),{constructor:ff,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Wi.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hf,uf,df),pf.set(0,0,-1).applyQuaternion(uf),t.positionX){var n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(hf.x,n),t.positionY.linearRampToValueAtTime(hf.y,n),t.positionZ.linearRampToValueAtTime(hf.z,n),t.forwardX.linearRampToValueAtTime(pf.x,n),t.forwardY.linearRampToValueAtTime(pf.y,n),t.forwardZ.linearRampToValueAtTime(pf.z,n),t.upX.linearRampToValueAtTime(i.x,n),t.upY.linearRampToValueAtTime(i.y,n),t.upZ.linearRampToValueAtTime(i.z,n)}else t.setPosition(hf.x,hf.y,hf.z),t.setOrientation(pf.x,pf.y,pf.z,i.x,i.y,i.z)}}),mf.prototype=Object.assign(Object.create(Wi.prototype),{constructor:mf,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var vf=new yi,gf=new mi,yf=new yi,_f=new yi;function bf(e){mf.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function xf(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function wf(e,t,i){var n,r,o;switch(this.binding=e,this.valueSize=i,t){case"quaternion":n=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":n=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:n=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}bf.prototype=Object.assign(Object.create(mf.prototype),{constructor:bf,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(e){if(Wi.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(vf,gf,yf),_f.set(0,0,1).applyQuaternion(gf);var t=this.panner;if(t.positionX){var i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(vf.x,i),t.positionY.linearRampToValueAtTime(vf.y,i),t.positionZ.linearRampToValueAtTime(vf.z,i),t.orientationX.linearRampToValueAtTime(_f.x,i),t.orientationY.linearRampToValueAtTime(_f.y,i),t.orientationZ.linearRampToValueAtTime(_f.z,i)}else t.setPosition(vf.x,vf.y,vf.z),t.setOrientation(_f.x,_f.y,_f.z)}}}),Object.assign(xf.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),i=0;i<t.length;i++)e+=t[i];return e/t.length}}),Object.assign(wf.prototype,{accumulate:function(e,t){var i=this.buffer,n=this.valueSize,r=e*n+n,o=this.cumulativeWeight;if(0===o){for(var s=0;s!==n;++s)i[r+s]=i[s];o=t}else{o+=t;var a=t/o;this._mixBufferRegion(i,r,0,a,n)}this.cumulativeWeight=o},accumulateAdditive:function(e){var t=this.buffer,i=this.valueSize,n=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,i),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,i=this.buffer,n=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){var a=t*this._origIndex;this._mixBufferRegion(i,n,a,1-r,t)}o>0&&this._mixBufferRegionAdditive(i,n,this._addIndex*t,1,t);for(var c=t,l=t+t;c!==l;++c)if(i[c]!==i[c+t]){s.setValue(i,n);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,i=this.valueSize,n=i*this._origIndex;e.getValue(t,n);for(var r=i,o=n;r!==o;++r)t[r]=t[n+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){var e=this._addIndex*this.valueSize;this.buffer.fill(0,e,e+this.valueSize)},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;this.buffer.copyWithin(t,e,this.valueSize)},_select:function(e,t,i,n,r){if(n>=.5)for(var o=0;o!==r;++o)e[t+o]=e[i+o]},_slerp:function(e,t,i,n){mi.slerpFlat(e,t,e,t,e,i,n)},_slerpAdditive:function(e,t,i,n,r){var o=this._workIndex*r;mi.multiplyQuaternionsFlat(e,o,e,t,e,i),mi.slerpFlat(e,t,e,t,e,o,n)},_lerp:function(e,t,i,n,r){for(var o=1-n,s=0;s!==r;++s){var a=t+s;e[a]=e[a]*o+e[i+s]*n}},_lerpAdditive:function(e,t,i,n,r){for(var o=0;o!==r;++o){var s=t+o;e[s]=e[s]+e[i+o]*n}}});var Sf="\\[\\]\\.:\\/",Cf=new RegExp("["+Sf+"]","g"),Mf="[^"+Sf+"]",Ef="[^"+Sf.replace("\\.","")+"]",Tf=/((?:WC+[\/:])*)/.source.replace("WC",Mf),Af=/(WCOD+)?/.source.replace("WCOD",Ef),Lf=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Mf),Of=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Mf),Rf=new RegExp("^"+Tf+Af+Lf+Of+"$"),kf=["material","materials","bones"];function Pf(e,t,i){var n=i||Df.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}function Df(e,t,i){this.path=t,this.parsedPath=i||Df.parseTrackName(t),this.node=Df.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function If(){this.uuid=si.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,i=arguments.length;t!==i;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function Bf(e,t,i,n){this._mixer=e,this._clip=t,this._localRoot=i||null,this.blendMode=n||t.blendMode;for(var r=t.tracks,o=r.length,s=new Array(o),a={endingStart:Dt,endingEnd:Dt},c=0;c!==o;++c){var l=r[c].createInterpolant(null);s[c]=l,l.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Lt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Nf(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function jf(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Hf(e,t,i){Fl.call(this,e,t),this.meshPerAttribute=i||1}function Ff(e,t,i,n){this.ray=new gn(e,t),this.near=i||0,this.far=n||1/0,this.camera=null,this.layers=new Oi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function zf(e,t){return e.distance-t.distance}function Uf(e,t,i,n){if(e.layers.test(t.layers)&&e.raycast(t,i),!0===n)for(var r=e.children,o=0,s=r.length;o<s;o++)Uf(r[o],t,i,!0)}function Vf(e,t,i){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==i?i:0,this}function Wf(e,t,i){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==i?i:0,this}Object.assign(Pf.prototype,{getValue:function(e,t){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}),Object.assign(Df,{Composite:Pf,create:function(e,t,i){return e&&e.isAnimationObjectGroup?new Df.Composite(e,t,i):new Df(e,t,i)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Cf,"")},parseTrackName:function(e){var t=Rf.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var r=i.nodeName.substring(n+1);-1!==kf.indexOf(r)&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=r)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var i=e.skeleton.getBoneByName(t);if(void 0!==i)return i}if(e.children){var n=function(e){for(var i=0;i<e.length;i++){var r=e[i];if(r.name===t||r.uuid===t)return r;var o=n(r.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}}),Object.assign(Df.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)e[t++]=i[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=e[t++]},function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,i=t.objectName,n=t.propertyName,r=t.propertyIndex;if(e||(e=Df.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(i){var o=t.objectIndex;switch(i){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var s=0;s<e.length;s++)if(e[s].name===o){o=s;break}break;default:if(void 0===e[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[i]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var a=e[n];if(void 0!==a){var c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(s=0;s<this.node.geometry.morphAttributes.position.length;s++)if(e.geometry.morphAttributes.position[s].name===r){r=s;break}}else{if(!e.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(s=0;s<this.node.geometry.morphTargets.length;s++)if(e.geometry.morphTargets[s].name===r){r=s;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=r}else void 0!==a.fromArray&&void 0!==a.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var h=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+n+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Df.prototype,{_getValue_unbound:Df.prototype.getValue,_setValue_unbound:Df.prototype.setValue}),Object.assign(If.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length,c=void 0,l=0,h=arguments.length;l!==h;++l){var u=arguments[l],d=u.uuid,p=n[d];if(void 0===p){p=t++,n[d]=p,e.push(u);for(var f=0,m=a;f!==m;++f)s[f].push(new Df(u,r[f],o[f]))}else if(p<i){c=e[p];var v=--i,g=e[v];n[g.uuid]=p,e[p]=g,n[d]=v,e[v]=u;for(f=0,m=a;f!==m;++f){var y=s[f],_=y[v],b=y[p];y[p]=_,void 0===b&&(b=new Df(u,r[f],o[f])),y[v]=b}}else e[p]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=i},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,i=this._indicesByUUID,n=this._bindings,r=n.length,o=0,s=arguments.length;o!==s;++o){var a=arguments[o],c=a.uuid,l=i[c];if(void 0!==l&&l>=t){var h=t++,u=e[h];i[u.uuid]=l,e[l]=u,i[c]=h,e[h]=a;for(var d=0,p=r;d!==p;++d){var f=n[d],m=f[h],v=f[l];f[l]=m,f[h]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,o=r.length,s=0,a=arguments.length;s!==a;++s){var c=arguments[s],l=c.uuid,h=n[l];if(void 0!==h)if(delete n[l],h<i){var u=--i,d=e[u],p=--t,f=e[p];n[d.uuid]=h,e[h]=d,n[f.uuid]=u,e[u]=f,e.pop();for(var m=0,v=o;m!==v;++m){var g=r[m],y=g[u],_=g[p];g[h]=y,g[u]=_,g.pop()}}else{p=--t,f=e[p];n[f.uuid]=h,e[h]=f,e.pop();for(m=0,v=o;m!==v;++m){g=r[m];g[h]=g[p],g.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var i=this._bindingsIndicesByPath,n=i[e],r=this._bindings;if(void 0!==n)return r[n];var o=this._paths,s=this._parsedPaths,a=this._objects,c=a.length,l=this.nCachedObjects_,h=new Array(c);n=r.length,i[e]=n,o.push(e),s.push(t),r.push(h);for(var u=l,d=a.length;u!==d;++u){var p=a[u];h[u]=new Df(p,e,t)}return h},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,i=t[e];if(void 0!==i){var n=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s],c=e[s];t[c]=i,o[i]=a,o.pop(),r[i]=r[s],r.pop(),n[i]=n[s],n.pop()}}}),Object.assign(Bf.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){var n=this._clip.duration,r=e._clip.duration,o=r/n,s=n/r;e.warp(1,o,t),this.warp(s,1,t)}return this},crossFadeTo:function(e,t,i){return e.crossFadeFrom(this,t,i)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,i){var n=this._mixer,r=n.time,o=this._timeScaleInterpolant,s=this.timeScale;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);var a=o.parameterPositions,c=o.sampleValues;return a[0]=r,a[1]=r+i,c[0]=e/s,c[1]=t/s,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,i,n){if(this.enabled){var r=this._startTime;if(null!==r){var o=(e-r)*i;if(o<0||0===i)return;this._startTime=null,t=i*o}t*=this._updateTimeScale(e);var s=this._updateTime(t),a=this._updateWeight(e);if(a>0){var c=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case jt:for(var h=0,u=c.length;h!==u;++h)c[h].evaluate(s),l[h].accumulateAdditive(a);break;case Nt:default:for(h=0,u=c.length;h!==u;++h)c[h].evaluate(s),l[h].accumulate(n,a)}}}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i){var n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,i=this._clip.duration,n=this.loop,r=this._loopCount,o=n===Ot;if(0===e)return-1===r?t:o&&1===(1&r)?i-t:t;if(n===At){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=i)t=i;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),t>=i||t<0){var s=Math.floor(t/i);t-=i*s,r+=Math.abs(s);var a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?i:0,this.time=t,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){var c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=t,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=t;if(o&&1===(1&r))return i-t}return t},_setEndings:function(e,t,i){var n=this._interpolantSettings;i?(n.endingStart=It,n.endingEnd=It):(n.endingStart=e?this.zeroSlopeAtStart?It:Dt:Bt,n.endingEnd=t?this.zeroSlopeAtEnd?It:Dt:Bt)},_scheduleFading:function(e,t,i){var n=this._mixer,r=n.time,o=this._weightInterpolant;null===o&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);var s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=t,s[1]=r+e,a[1]=i,this}}),Nf.prototype=Object.assign(Object.create(ii.prototype),{constructor:Nf,_bindAction:function(e,t){var i=e._localRoot||this._root,n=e._clip.tracks,r=n.length,o=e._propertyBindings,s=e._interpolants,a=i.uuid,c=this._bindingsByRootAndName,l=c[a];void 0===l&&(l={},c[a]=l);for(var h=0;h!==r;++h){var u=n[h],d=u.name,p=l[d];if(void 0!==p)o[h]=p;else{if(p=o[h],void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,a,d));continue}var f=t&&t._propertyBindings[h].binding.parsedPath;p=new wf(Df.create(i,d,f),u.ValueTypeName,u.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,a,d),o[h]=p}s[h].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,i=e._clip.uuid,n=this._actionsByClip[i];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,i,t)}for(var r=e._propertyBindings,o=0,s=r.length;o!==s;++o){var a=r[o];0===a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,i=0,n=t.length;i!==n;++i){var r=t[i];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,i){var n=this._actions,r=this._actionsByClip,o=r[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{var s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=n.length,n.push(e),o.actionByRoot[i]=e},_removeInactiveAction:function(e){var t=this._actions,i=t[t.length-1],n=e._cacheIndex;i._cacheIndex=n,t[n]=i,t.pop(),e._cacheIndex=null;var r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,c=a[a.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l,a[l]=c,a.pop(),e._byClipCacheIndex=null;var h=s.actionByRoot,u=(e._localRoot||this._root).uuid;delete h[u],0===a.length&&delete o[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,i=0,n=t.length;i!==n;++i){var r=t[i];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,i=e._cacheIndex,n=this._nActiveActions++,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r},_takeBackAction:function(e){var t=this._actions,i=e._cacheIndex,n=--this._nActiveActions,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r},_addInactiveBinding:function(e,t,i){var n=this._bindingsByRootAndName,r=n[t],o=this._bindings;void 0===r&&(r={},n[t]=r),r[i]=e,e._cacheIndex=o.length,o.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,i=e.binding,n=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,s=o[n],a=t[t.length-1],c=e._cacheIndex;a._cacheIndex=c,t[c]=a,t.pop(),delete s[r],0===Object.keys(s).length&&delete o[n]},_lendBinding:function(e){var t=this._bindings,i=e._cacheIndex,n=this._nActiveBindings++,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r},_takeBackBinding:function(e){var t=this._bindings,i=e._cacheIndex,n=--this._nActiveBindings,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];return void 0===i&&(i=new Sd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,e[t]=i),i},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,i=e.__cacheIndex,n=--this._nActiveControlInterpolants,r=t[n];e.__cacheIndex=n,t[n]=e,r.__cacheIndex=i,t[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,i){var n=t||this._root,r=n.uuid,o="string"===typeof e?Pd.findByName(n,e):e,s=null!==o?o.uuid:e,a=this._actionsByClip[s],c=null;if(void 0===i&&(i=null!==o?o.blendMode:Nt),void 0!==a){var l=a.actionByRoot[r];if(void 0!==l&&l.blendMode===i)return l;c=a.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;var h=new Bf(this,o,t,i);return this._bindAction(h,c),this._addInactiveAction(h,s,r),h},existingAction:function(e,t){var i=t||this._root,n=i.uuid,r="string"===typeof e?Pd.findByName(i,e):e,o=r?r.uuid:e,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[n]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==t;++r)e[r].reset();for(r=0;r!==n;++r)i[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,i=this._nActiveActions,n=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1,s=0;s!==i;++s){var a=t[s];a._update(n,e,r,o)}var c=this._bindings,l=this._nActiveBindings;for(s=0;s!==l;++s)c[s].apply(o);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,i=e.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var o=r.knownActions,s=0,a=o.length;s!==a;++s){var c=o[s];this._deactivateAction(c);var l=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=l,t[l]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete n[i]}},uncacheRoot:function(e){var t=e.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot,o=r[t];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var s=this._bindingsByRootAndName,a=s[t];if(void 0!==a)for(var c in a){var l=a[c];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(e,t){var i=this.existingAction(e,t);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),jf.prototype.clone=function(){return new jf(void 0===this.value.clone?this.value:this.value.clone())},Hf.prototype=Object.assign(Object.create(Fl.prototype),{constructor:Hf,isInstancedInterleavedBuffer:!0,copy:function(e){return Fl.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Ff.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,i){var n=i||[];return Uf(e,this,n,t),n.sort(zf),n},intersectObjects:function(e,t,i){var n=i||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,o=e.length;r<o;r++)Uf(e[r],this,n,t);return n.sort(zf),n}}),Object.assign(Vf.prototype,{set:function(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(si.clamp(t/this.radius,-1,1))),this}}),Object.assign(Wf.prototype,{set:function(e,t,i){return this.radius=e,this.theta=t,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}});var Gf=new ai;function $f(e,t){this.min=void 0!==e?e:new ai(1/0,1/0),this.max=void 0!==t?t:new ai(-1/0,-1/0)}Object.assign($f.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var i=Gf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new ai),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new ai),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new ai),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new ai),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){var t=Gf.copy(e).clamp(this.min,this.max);return t.sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var qf=new yi,Xf=new yi;function Yf(e,t){this.start=void 0!==e?e:new yi,this.end=void 0!==t?t:new yi}function Zf(e){Wi.call(this),this.material=e,this.render=function(){}}Object.assign(Yf.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new yi),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new yi),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new yi),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){qf.subVectors(e,this.start),Xf.subVectors(this.end,this.start);var i=Xf.dot(Xf),n=Xf.dot(qf),r=n/i;return t&&(r=si.clamp(r,0,1)),r},closestPointToPoint:function(e,t,i){var n=this.closestPointToPointParameter(e,t);return void 0===i&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new yi),this.delta(i).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Zf.prototype=Object.create(Wi.prototype),Zf.prototype.constructor=Zf,Zf.prototype.isImmediateRenderObject=!0;var Jf=new yi;function Kf(e,t){Wi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var i=new hr,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,o=1,s=32;r<s;r++,o++){var a=r/s*Math.PI*2,c=o/s*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new Qn(n,3));var l=new yh({fog:!1,toneMapped:!1});this.cone=new Th(i,l),this.add(this.cone),this.update()}Kf.prototype=Object.create(Wi.prototype),Kf.prototype.constructor=Kf,Kf.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Kf.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Jf.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Jf),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Qf=new yi,em=new Ei,tm=new Ei;function im(e){var t=[];e&&e.isBone&&t.push(e);for(var i=0;i<e.children.length;i++)t.push.apply(t,im(e.children[i]));return t}function nm(e){for(var t=im(e),i=new hr,n=[],r=[],o=new Bn(0,0,1),s=new Bn(0,1,0),a=0;a<t.length;a++){var c=t[a];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}i.setAttribute("position",new Qn(n,3)),i.setAttribute("color",new Qn(r,3));var l=new yh({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Th.call(this,i,l),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function rm(e,t,i){this.light=e,this.light.updateMatrixWorld(),this.color=i;var n=new qu(t,4,2),r=new Vn({wireframe:!0,fog:!1,toneMapped:!1});Ar.call(this,n,r),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}nm.prototype=Object.create(Th.prototype),nm.prototype.constructor=nm,nm.prototype.isSkeletonHelper=!0,nm.prototype.updateMatrixWorld=function(e){var t=this.bones,i=this.geometry,n=i.getAttribute("position");tm.getInverse(this.root.matrixWorld);for(var r=0,o=0;r<t.length;r++){var s=t[r];s.parent&&s.parent.isBone&&(em.multiplyMatrices(tm,s.matrixWorld),Qf.setFromMatrixPosition(em),n.setXYZ(o,Qf.x,Qf.y,Qf.z),em.multiplyMatrices(tm,s.parent.matrixWorld),Qf.setFromMatrixPosition(em),n.setXYZ(o+1,Qf.x,Qf.y,Qf.z),o+=2)}i.getAttribute("position").needsUpdate=!0,Wi.prototype.updateMatrixWorld.call(this,e)},rm.prototype=Object.create(Ar.prototype),rm.prototype.constructor=rm,rm.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},rm.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var om=new yi,sm=new Bn,am=new Bn;function cm(e,t,i){Wi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var n=new Xh(t);n.rotateY(.5*Math.PI),this.material=new Vn({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);var r=n.getAttribute("position"),o=new Float32Array(3*r.count);n.setAttribute("color",new Gn(o,3)),this.add(new Ar(n,this.material)),this.update()}function lm(e,t,i,n){e=e||10,t=t||10,i=new Bn(void 0!==i?i:4473924),n=new Bn(void 0!==n?n:8947848);for(var r=t/2,o=e/t,s=e/2,a=[],c=[],l=0,h=0,u=-s;l<=t;l++,u+=o){a.push(-s,0,u,s,0,u),a.push(u,0,-s,u,0,s);var d=l===r?i:n;d.toArray(c,h),h+=3,d.toArray(c,h),h+=3,d.toArray(c,h),h+=3,d.toArray(c,h),h+=3}var p=new hr;p.setAttribute("position",new Qn(a,3)),p.setAttribute("color",new Qn(c,3));var f=new yh({vertexColors:!0,toneMapped:!1});Th.call(this,p,f),this.type="GridHelper"}function hm(e,t,i,n,r,o){e=e||10,t=t||16,i=i||8,n=n||64,r=new Bn(void 0!==r?r:4473924),o=new Bn(void 0!==o?o:8947848);var s,a,c,l,h,u,d,p=[],f=[];for(l=0;l<=t;l++)c=l/t*(2*Math.PI),s=Math.sin(c)*e,a=Math.cos(c)*e,p.push(0,0,0),p.push(s,0,a),d=1&l?r:o,f.push(d.r,d.g,d.b),f.push(d.r,d.g,d.b);for(l=0;l<=i;l++)for(d=1&l?r:o,u=e-e/i*l,h=0;h<n;h++)c=h/n*(2*Math.PI),s=Math.sin(c)*u,a=Math.cos(c)*u,p.push(s,0,a),f.push(d.r,d.g,d.b),c=(h+1)/n*(2*Math.PI),s=Math.sin(c)*u,a=Math.cos(c)*u,p.push(s,0,a),f.push(d.r,d.g,d.b);var m=new hr;m.setAttribute("position",new Qn(p,3)),m.setAttribute("color",new Qn(f,3));var v=new yh({vertexColors:!0,toneMapped:!1});Th.call(this,m,v),this.type="PolarGridHelper"}cm.prototype=Object.create(Wi.prototype),cm.prototype.constructor=cm,cm.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},cm.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");sm.copy(this.light.color),am.copy(this.light.groundColor);for(var i=0,n=t.count;i<n;i++){var r=i<n/2?sm:am;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(om.setFromMatrixPosition(this.light.matrixWorld).negate())},lm.prototype=Object.assign(Object.create(Th.prototype),{constructor:lm,copy:function(e){return Th.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),hm.prototype=Object.create(Th.prototype),hm.prototype.constructor=hm;var um=new yi,dm=new yi,pm=new yi;function fm(e,t,i){Wi.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===t&&(t=1);var n=new hr;n.setAttribute("position",new Qn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new yh({fog:!1,toneMapped:!1});this.lightPlane=new Ch(n,r),this.add(this.lightPlane),n=new hr,n.setAttribute("position",new Qn([0,0,0,0,0,1],3)),this.targetLine=new Ch(n,r),this.add(this.targetLine),this.update()}fm.prototype=Object.create(Wi.prototype),fm.prototype.constructor=fm,fm.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},fm.prototype.update=function(){um.setFromMatrixPosition(this.light.matrixWorld),dm.setFromMatrixPosition(this.light.target.matrixWorld),pm.subVectors(dm,um),this.lightPlane.lookAt(dm),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(dm),this.targetLine.scale.z=pm.length()};var mm=new yi,vm=new Wr;function gm(e){var t=new hr,i=new yh({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],r=[],o={},s=new Bn(16755200),a=new Bn(16711680),c=new Bn(43775),l=new Bn(16777215),h=new Bn(3355443);function u(e,t,i){d(e,i),d(t,i)}function d(e,t){n.push(0,0,0),r.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(n.length/3-1)}u("n1","n2",s),u("n2","n4",s),u("n4","n3",s),u("n3","n1",s),u("f1","f2",s),u("f2","f4",s),u("f4","f3",s),u("f3","f1",s),u("n1","f1",s),u("n2","f2",s),u("n3","f3",s),u("n4","f4",s),u("p","n1",a),u("p","n2",a),u("p","n3",a),u("p","n4",a),u("u1","u2",c),u("u2","u3",c),u("u3","u1",c),u("c","t",l),u("p","c",h),u("cn1","cn2",h),u("cn3","cn4",h),u("cf1","cf2",h),u("cf3","cf4",h),t.setAttribute("position",new Qn(n,3)),t.setAttribute("color",new Qn(r,3)),Th.call(this,t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function ym(e,t,i,n,r,o,s){mm.set(r,o,s).unproject(n);var a=t[e];if(void 0!==a)for(var c=i.getAttribute("position"),l=0,h=a.length;l<h;l++)c.setXYZ(a[l],mm.x,mm.y,mm.z)}gm.prototype=Object.create(Th.prototype),gm.prototype.constructor=gm,gm.prototype.update=function(){var e=this.geometry,t=this.pointMap,i=1,n=1;vm.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ym("c",t,e,vm,0,0,-1),ym("t",t,e,vm,0,0,1),ym("n1",t,e,vm,-i,-n,-1),ym("n2",t,e,vm,i,-n,-1),ym("n3",t,e,vm,-i,n,-1),ym("n4",t,e,vm,i,n,-1),ym("f1",t,e,vm,-i,-n,1),ym("f2",t,e,vm,i,-n,1),ym("f3",t,e,vm,-i,n,1),ym("f4",t,e,vm,i,n,1),ym("u1",t,e,vm,.7*i,1.1*n,-1),ym("u2",t,e,vm,.7*-i,1.1*n,-1),ym("u3",t,e,vm,0,2*n,-1),ym("cf1",t,e,vm,-i,0,1),ym("cf2",t,e,vm,i,0,1),ym("cf3",t,e,vm,0,-n,1),ym("cf4",t,e,vm,0,n,1),ym("cn1",t,e,vm,-i,0,-1),ym("cn2",t,e,vm,i,0,-1),ym("cn3",t,e,vm,0,-n,-1),ym("cn4",t,e,vm,0,n,-1),e.getAttribute("position").needsUpdate=!0};var _m=new sn;function bm(e,t){this.object=e,void 0===t&&(t=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new hr;r.setIndex(new Gn(i,1)),r.setAttribute("position",new Gn(n,3)),Th.call(this,r,new yh({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function xm(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new hr;r.setIndex(new Gn(i,1)),r.setAttribute("position",new Qn(n,3)),Th.call(this,r,new yh({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function wm(e,t,i){this.plane=e,this.size=void 0===t?1:t;var n=void 0!==i?i:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new hr;o.setAttribute("position",new Qn(r,3)),o.computeBoundingSphere(),Ch.call(this,o,new yh({color:n,toneMapped:!1})),this.type="PlaneHelper";var s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],a=new hr;a.setAttribute("position",new Qn(s,3)),a.computeBoundingSphere(),this.add(new Ar(a,new Vn({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}bm.prototype=Object.create(Th.prototype),bm.prototype.constructor=bm,bm.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&_m.setFromObject(this.object),!_m.isEmpty()){var t=_m.min,i=_m.max,n=this.geometry.attributes.position,r=n.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=t.x,r[4]=i.y,r[5]=i.z,r[6]=t.x,r[7]=t.y,r[8]=i.z,r[9]=i.x,r[10]=t.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=t.z,r[15]=t.x,r[16]=i.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=i.x,r[22]=t.y,r[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}},bm.prototype.setFromObject=function(e){return this.object=e,this.update(),this},bm.prototype.copy=function(e){return Th.prototype.copy.call(this,e),this.object=e.object,this},bm.prototype.clone=function(){return(new this.constructor).copy(this)},xm.prototype=Object.create(Th.prototype),xm.prototype.constructor=xm,xm.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Wi.prototype.updateMatrixWorld.call(this,e))},wm.prototype=Object.create(Ch.prototype),wm.prototype.constructor=wm,wm.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?u:h,this.lookAt(this.plane.normal),Wi.prototype.updateMatrixWorld.call(this,e)};var Sm,Cm,Mm=new yi;function Em(e,t,i,n,r,o){Wi.call(this),this.type="ArrowHelper",void 0===e&&(e=new yi(0,0,1)),void 0===t&&(t=new yi(0,0,0)),void 0===i&&(i=1),void 0===n&&(n=16776960),void 0===r&&(r=.2*i),void 0===o&&(o=.2*r),void 0===Sm&&(Sm=new hr,Sm.setAttribute("position",new Qn([0,0,0,0,1,0],3)),Cm=new nd(0,.5,1,5,1),Cm.translate(0,-.5,0)),this.position.copy(t),this.line=new Ch(Sm,new yh({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ar(Cm,new Vn({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,o)}function Tm(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new hr;n.setAttribute("position",new Qn(t,3)),n.setAttribute("color",new Qn(i,3));var r=new yh({vertexColors:!0,toneMapped:!1});Th.call(this,n,r),this.type="AxesHelper"}Em.prototype=Object.create(Wi.prototype),Em.prototype.constructor=Em,Em.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Mm.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Mm,t)}},Em.prototype.setLength=function(e,t,i){void 0===t&&(t=.2*e),void 0===i&&(i=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()},Em.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Em.prototype.copy=function(e){return Wi.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Em.prototype.clone=function(){return(new this.constructor).copy(this)},Tm.prototype=Object.create(Th.prototype),Tm.prototype.constructor=Tm;var Am=4,Lm=8,Om=Math.pow(2,Lm),Rm=[.125,.215,.35,.446,.526,.582],km=Lm-Am+1+Rm.length,Pm=20,Dm={[Ft]:0,[zt]:1,[Vt]:2,[Gt]:3,[$t]:4,[qt]:5,[Ut]:6},Im=new Rp,{_lodPlanes:Bm,_sizeLods:Nm,_sigmas:jm}=Gm(),Hm=null,Fm=(1+Math.sqrt(5))/2,zm=1/Fm,Um=[new yi(1,1,1),new yi(-1,1,1),new yi(1,1,-1),new yi(-1,1,-1),new yi(0,Fm,zm),new yi(0,Fm,-zm),new yi(zm,0,Fm),new yi(-zm,0,Fm),new yi(Fm,zm,0),new yi(-Fm,zm,0)];function Vm(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=Xm(Pm),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function Wm(e){return void 0!==e&&e.type===ve&&(e.encoding===Ft||e.encoding===zt||e.encoding===Ut)}function Gm(){for(var e=[],t=[],i=[],n=Lm,r=0;r<km;r++){var o=Math.pow(2,n);t.push(o);var s=1/o;r>Lm-Am?s=Rm[r-Lm+Am-1]:0==r&&(s=0),i.push(s);for(var a=1/(o-1),c=-a/2,l=1+a/2,h=[c,c,l,c,l,l,c,c,l,l,c,l],u=6,d=6,p=3,f=2,m=1,v=new Float32Array(p*d*u),g=new Float32Array(f*d*u),y=new Float32Array(m*d*u),_=0;_<u;_++){var b=_%3*2/3-1,x=_>2?0:-1,w=[b,x,0,b+2/3,x,0,b+2/3,x+1,0,b,x,0,b+2/3,x+1,0,b,x+1,0];v.set(w,p*d*_),g.set(h,f*d*_);var S=[_,_,_,_,_,_];y.set(S,m*d*_)}var C=new hr;C.setAttribute("position",new Gn(v,p)),C.setAttribute("uv",new Gn(g,f)),C.setAttribute("faceIndex",new Gn(y,m)),e.push(C),n>Am&&n--}return{_lodPlanes:e,_sizeLods:t,_sigmas:i}}function $m(e){var t=new pi(3*Om,3*Om,e);return t.texture.mapping=oe,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function qm(e,t,i,n,r){e.viewport.set(t,i,n,r),e.scissor.set(t,i,n,r)}function Xm(e){var t=new Float32Array(e),i=new yi(0,1,0),n=new hd({defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i},inputEncoding:{value:Dm[Ft]},outputEncoding:{value:Dm[Ft]}},vertexShader:Jm(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${Km()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvec3 getSample(float theta, vec3 axis) {\n\tfloat cosTheta = cos(theta);\n\t// Rodrigues' axis-angle rotation\n\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\treturn bilinearCubeUV(envMap, sampleDirection, mipInt);\n}\n\nvoid main() {\n\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\tif (all(equal(axis, vec3(0.0))))\n\t\taxis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);\n\taxis = normalize(axis);\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb += weights[0] * getSample(0.0, axis);\n\tfor (int i = 1; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfloat theta = dTheta * float(i);\n\t\tgl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);\n\t\tgl_FragColor.rgb += weights[i] * getSample(theta, axis);\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:f,depthTest:!1,depthWrite:!1});return n.type="SphericalGaussianBlur",n}function Ym(){var e=new ai(1,1),t=new hd({uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:Dm[Ft]},outputEncoding:{value:Dm[Ft]}},vertexShader:Jm(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${Km()}\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:f,depthTest:!1,depthWrite:!1});return t.type="EquirectangularToCubeUV",t}function Zm(){var e=new hd({uniforms:{envMap:{value:null},inputEncoding:{value:Dm[Ft]},outputEncoding:{value:Dm[Ft]}},vertexShader:Jm(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${Km()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:f,depthTest:!1,depthWrite:!1});return e.type="CubemapToCubeUV",e}function Jm(){return"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t"}function Km(){return"\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t"}Vm.prototype={constructor:Vm,fromScene:function(e,t=0,i=.1,n=100){Hm=this._renderer.getRenderTarget();var r=this._allocateTargets();return this._sceneToCubeUV(e,i,n,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r},fromEquirectangular:function(e){return e.magFilter=he,e.minFilter=he,e.generateMipmaps=!1,this.fromCubemap(e)},fromCubemap:function(e){Hm=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=Zm(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=Ym(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<Bm.length;e++)Bm[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Hm),e.scissorTest=!1,e.setSize(e.width,e.height)},_allocateTargets:function(e){var t={magFilter:he,minFilter:he,generateMipmaps:!1,type:ve,format:Pe,encoding:Wm(e)?e.encoding:Vt,depthBuffer:!1,stencilBuffer:!1},i=$m(t);return i.depthBuffer=!e,this._pingPongRenderTarget=$m(t),i},_compileMaterial:function(e){var t=new Gi;t.add(new Ar(Bm[0],e)),this._renderer.compile(t,Im)},_sceneToCubeUV:function(e,t,i,n){var r=90,o=1,s=new Gr(r,o,t,i),a=[1,1,1,1,-1,1],c=[1,1,-1,-1,-1,1],l=this._renderer,h=l.outputEncoding,u=l.toneMapping,d=l.toneMappingExposure,p=l.getClearColor(),f=l.getClearAlpha();l.toneMapping=X,l.toneMappingExposure=1,l.outputEncoding=Ft,e.scale.z*=-1;var m=e.background;if(m&&m.isColor){m.convertSRGBToLinear();var v=Math.max(m.r,m.g,m.b),g=Math.min(Math.max(Math.ceil(Math.log2(v)),-128),127);m=m.multiplyScalar(Math.pow(2,-g));var y=(g+128)/255;l.setClearColor(m,y),e.background=null}for(var _=0;_<6;_++){var b=_%3;0==b?(s.up.set(0,a[_],0),s.lookAt(c[_],0,0)):1==b?(s.up.set(0,0,a[_]),s.lookAt(0,c[_],0)):(s.up.set(0,a[_],0),s.lookAt(0,0,c[_])),qm(n,b*Om,_>2?Om:0,Om,Om),l.setRenderTarget(n),l.render(e,s)}l.toneMapping=u,l.toneMappingExposure=d,l.outputEncoding=h,l.setClearColor(p,f),e.scale.z*=-1},_textureToCubeUV:function(e,t){var i=new Gi,n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Zm()):null==this._equirectShader&&(this._equirectShader=Ym());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader;i.add(new Ar(Bm[0],r));var o=r.uniforms;o["envMap"].value=e,e.isCubeTexture||o["texelSize"].value.set(1/e.image.width,1/e.image.height),o["inputEncoding"].value=Dm[e.encoding],o["outputEncoding"].value=Dm[t.texture.encoding],qm(t,0,0,3*Om,2*Om),n.setRenderTarget(t),n.render(i,Im)},_applyPMREM:function(e){var t=this._renderer,i=t.autoClear;t.autoClear=!1;for(var n=1;n<km;n++){var r=Math.sqrt(jm[n]*jm[n]-jm[n-1]*jm[n-1]),o=Um[(n-1)%Um.length];this._blur(e,n-1,n,r,o)}t.autoClear=i},_blur:function(e,t,i,n,r){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,n,"latitudinal",r),this._halfBlur(o,e,i,i,n,"longitudinal",r)},_halfBlur:function(e,t,i,n,r,o,s){var a=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var l=3,h=new Gi;h.add(new Ar(Bm[n],c));var u=c.uniforms,d=Nm[i]-1,p=isFinite(r)?Math.PI/(2*d):2*Math.PI/(2*Pm-1),f=r/p,m=isFinite(r)?1+Math.floor(l*f):Pm;m>Pm&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Pm}`);for(var v=[],g=0,y=0;y<Pm;++y){var _=y/f,b=Math.exp(-_*_/2);v.push(b),0==y?g+=b:y<m&&(g+=2*b)}for(y=0;y<v.length;y++)v[y]=v[y]/g;u["envMap"].value=e.texture,u["samples"].value=m,u["weights"].value=v,u["latitudinal"].value="latitudinal"===o,s&&(u["poleAxis"].value=s),u["dTheta"].value=p,u["mipInt"].value=Lm-i,u["inputEncoding"].value=Dm[e.texture.encoding],u["outputEncoding"].value=Dm[e.texture.encoding];var x=Nm[n],w=(_=3*Math.max(0,Om-2*x),(0===n?0:2*Om)+2*x*(n>Lm-Am?n-Lm+Am:0));qm(t,_,w,3*x,2*x),a.setRenderTarget(t),a.render(h,Im)}};function Qm(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ip.call(this,e),this.type="catmullrom",this.closed=!0}function ev(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),ip.call(this,e),this.type="catmullrom"}function tv(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),ip.call(this,e),this.type="catmullrom"}Xd.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Xd.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(xp.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new Ir,i=0,n=e.length;i<n;i++){var r=e[i];t.vertices.push(new yi(r.x,r.y,r.z||0))}return t}}),Object.assign(wp.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Qm.prototype=Object.create(ip.prototype),ev.prototype=Object.create(ip.prototype),tv.prototype=Object.create(ip.prototype),Object.assign(tv.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),lm.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},nm.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Hd.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Hp.extractUrlBase(e)}}),Hd.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Wp.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign($f.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(sn.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(ln.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Qr.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Yf.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(si,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),si.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),si.ceilPowerOfTwo(e)}}),Object.assign(ci.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Ei.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new yi).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,i,n,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,i,r,o)}}),xn.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},mi.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(gn.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(kn.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(kn,{barycoordFromPoint:function(e,t,i,n,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),kn.getBarycoord(e,t,i,n,r)},normal:function(e,t,i,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),kn.getNormal(e,t,i,n)}}),Object.assign(Sp.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Fu(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Ku(this,e)}}),Object.assign(ai.prototype,{fromAttribute:function(e,t,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(yi.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(di.prototype,{fromAttribute:function(e,t,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Ir.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(Wi.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Wi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Ar.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Ar.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Ht},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(ah.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(uh.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),ch.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Xd.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Gr.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Cp.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Gn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ti},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ti)}}}),Object.assign(Gn.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ti:ei),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(hr.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Gn(arguments[1],arguments[2])))},addDrawCall:function(e,t,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(hr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Ff.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(Fl.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===ti},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Fl.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?ti:ei),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(zu.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(jf.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Un.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Bn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===p}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(pd.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Vr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Nl.prototype,{clearTarget:function(e,t,i,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,i,n)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Nl.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?zt:Ft}}}),Object.defineProperties(Ll.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(pi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(mf.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this,i=new nf;return i.load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),xf.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Xr.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};li.crossOrigin=void 0,li.loadTexture=function(e,t,i,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new qd;r.setCrossOrigin(this.crossOrigin);var o=r.load(e,i,void 0,n);return t&&(o.mapping=t),o},li.loadTextureCube=function(e,t,i,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new $d;r.setCrossOrigin(this.crossOrigin);var o=r.load(e,i,void 0,n);return t&&(o.mapping=t),o},li.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},li.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:n}}))},"5bc1":function(e,t,i){"use strict";var n=i("9d26"),r=i("8336"),o=i("2b0e");t["a"]=o["a"].extend({name:"v-app-bar-nav-icon",functional:!0,render(e,{slots:t,listeners:i,props:o,data:s}){const a=Object.assign(s,{staticClass:("v-app-bar__nav-icon "+(s.staticClass||"")).trim(),props:{...o,icon:!0},on:i}),c=t().default;return e(r["a"],a,c||[e(n["a"],"$menu")])}})},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5d23":function(e,t,i){"use strict";i.d(t,"a",(function(){return v})),i.d(t,"b",(function(){return g}));var n=i("80d2"),r=i("8860"),o=i("56b0"),s=i("da13"),a=(i("899c"),i("604c")),c=i("a9ad"),l=i("58df"),h=Object(l["a"])(a["a"],c["a"]).extend({name:"v-list-item-group",provide(){return{isInGroup:!0,listItemGroup:this}},computed:{classes(){return{...a["a"].options.computed.classes.call(this),"v-list-item-group":!0}}},methods:{genData(){return this.setTextColor(this.color,{...a["a"].options.methods.genData.call(this),attrs:{role:"listbox"}})}}}),u=i("1800"),d=i("713a"),p=d["a"].extend({name:"v-list-item-avatar",props:{horizontal:Boolean,size:{type:[Number,String],default:40}},computed:{classes(){return{"v-list-item__avatar--horizontal":this.horizontal,...d["a"].options.computed.classes.call(this),"v-avatar--tile":this.tile||this.horizontal}}},render(e){const t=d["a"].options.render.call(this,e);return t.data=t.data||{},t.data.staticClass+=" v-list-item__avatar",t}}),f=i("34c3");const m=Object(n["h"])("v-list-item__action-text","span"),v=Object(n["h"])("v-list-item__content","div"),g=Object(n["h"])("v-list-item__title","div"),y=Object(n["h"])("v-list-item__subtitle","div");r["a"],o["a"],s["a"],u["a"],f["a"]},"5e23":function(e,t,i){},"5e66":function(e,t,i){"use strict";i("63b7"),i("13b3");var n=i("c3f0"),r=i("afdd"),o=i("9d26"),s=i("604c"),a=s["a"].extend({name:"v-window",provide(){return{windowGroup:this}},directives:{Touch:n["a"]},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:{type:Boolean,default:void 0},showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive(){return this.transitionCount>0},classes(){return{...s["a"].options.computed.classes.call(this),"v-window--show-arrows-on-hover":this.showArrowsOnHover}},computedTransition(){if(!this.isBooted)return"";const e=this.vertical?"y":"x",t=this.$vuetify.rtl&&"x"===e?!this.internalReverse:this.internalReverse,i=t?"-reverse":"";return`v-window-${e}${i}-transition`},hasActiveItems(){return Boolean(this.items.find(e=>!e.disabled))},hasNext(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev(){return this.continuous||this.internalIndex>0},internalIndex(){return this.items.findIndex((e,t)=>this.internalValue===this.getValue(e,t))},internalReverse(){return this.reverse?!this.isReverse:this.isReverse}},watch:{internalIndex:"updateReverse"},mounted(){window.requestAnimationFrame(()=>this.isBooted=!0)},methods:{genContainer(){const e=[this.$slots.default];return this.showArrows&&e.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},e)},genIcon(e,t,i){return this.$createElement("div",{staticClass:"v-window__"+e},[this.$createElement(r["a"],{props:{icon:!0},attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel."+e)},on:{click:()=>{this.changedByDelimiters=!0,i()}}},[this.$createElement(o["a"],{props:{large:!0}},t)])])},genControlIcons(){const e=[],t=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&t&&"string"===typeof t){const i=this.genIcon("prev",t,this.prev);i&&e.push(i)}const i=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&i&&"string"===typeof i){const t=this.genIcon("next",i,this.next);t&&e.push(t)}return e},getNextIndex(e){const t=(e+1)%this.items.length,i=this.items[t];return i.disabled?this.getNextIndex(t):t},getPrevIndex(e){const t=(e+this.items.length-1)%this.items.length,i=this.items[t];return i.disabled?this.getPrevIndex(t):t},next(){if(this.isReverse=this.$vuetify.rtl,!this.hasActiveItems||!this.hasNext)return;const e=this.getNextIndex(this.internalIndex),t=this.items[e];this.internalValue=this.getValue(t,e)},prev(){if(this.isReverse=!this.$vuetify.rtl,!this.hasActiveItems||!this.hasPrev)return;const e=this.getPrevIndex(this.internalIndex),t=this.items[e];this.internalValue=this.getValue(t,e)},updateReverse(e,t){this.changedByDelimiters?this.changedByDelimiters=!1:this.isReverse=e<t}},render(e){const t={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){const e=this.touch||{left:()=>{this.$vuetify.rtl?this.prev():this.next()},right:()=>{this.$vuetify.rtl?this.next():this.prev()},end:e=>{e.stopPropagation()},start:e=>{e.stopPropagation()}};t.directives.push({name:"touch",value:e})}return e("div",t,[this.genContainer()])}}),c=i("37c6"),l=s["a"].extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return s["a"].options.computed.classes.call(this)}},methods:{genData:s["a"].options.methods.genData}}),h=i("80d2"),u=i("d9bd");t["a"]=a.extend({name:"v-carousel",props:{continuous:{type:Boolean,default:!0},cycle:Boolean,delimiterIcon:{type:String,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>e>0},mandatory:{type:Boolean,default:!0},progress:Boolean,progressColor:String,showArrows:{type:Boolean,default:!0},verticalDelimiters:{type:String,default:void 0}},data(){return{internalHeight:this.height,slideTimeout:void 0}},computed:{classes(){return{...a.options.computed.classes.call(this),"v-carousel":!0,"v-carousel--hide-delimiter-background":this.hideDelimiterBackground,"v-carousel--vertical-delimiters":this.isVertical}},isDark(){return this.dark||!this.light},isVertical(){return null!=this.verticalDelimiters}},watch:{internalValue:"restartTimeout",interval:"restartTimeout",height(e,t){e!==t&&e&&(this.internalHeight=e)},cycle(e){e?this.restartTimeout():(clearTimeout(this.slideTimeout),this.slideTimeout=void 0)}},created(){this.$attrs.hasOwnProperty("hide-controls")&&Object(u["a"])("hide-controls",':show-arrows="false"',this)},mounted(){this.startTimeout()},methods:{genControlIcons(){return this.isVertical?null:a.options.methods.genControlIcons.call(this)},genDelimiters(){return this.$createElement("div",{staticClass:"v-carousel__controls",style:{left:"left"===this.verticalDelimiters&&this.isVertical?0:"auto",right:"right"===this.verticalDelimiters?0:"auto"}},[this.genItems()])},genItems(){const e=this.items.length,t=[];for(let i=0;i<e;i++){const n=this.$createElement(r["a"],{staticClass:"v-carousel__controls__item",attrs:{"aria-label":this.$vuetify.lang.t("$vuetify.carousel.ariaLabel.delimiter",i+1,e)},props:{icon:!0,small:!0,value:this.getValue(this.items[i],i)}},[this.$createElement(o["a"],{props:{size:18}},this.delimiterIcon)]);t.push(n)}return this.$createElement(l,{props:{value:this.internalValue,mandatory:this.mandatory},on:{change:e=>{this.internalValue=e}}},t)},genProgress(){return this.$createElement(c["a"],{staticClass:"v-carousel__progress",props:{color:this.progressColor,value:(this.internalIndex+1)/this.items.length*100}})},restartTimeout(){this.slideTimeout&&clearTimeout(this.slideTimeout),this.slideTimeout=void 0,window.requestAnimationFrame(this.startTimeout)},startTimeout(){this.cycle&&(this.slideTimeout=window.setTimeout(this.next,+this.interval>0?+this.interval:6e3))}},render(e){const t=a.options.render.call(this,e);return t.data.style=`height: ${Object(h["f"])(this.height)};`,this.hideDelimiters||t.children.push(this.genDelimiters()),(this.progress||this.progressColor)&&t.children.push(this.genProgress()),t}})},"604c":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i("166a");var n=i("a452"),r=i("7560"),o=i("58df"),s=i("d9bd");const a=Object(o["a"])(n["a"],r["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean},data(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes(){return{"v-item-group":!0,...this.themeClasses}},selectedIndex(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem(){if(!this.multiple)return this.selectedItems[0]},selectedItems(){return this.items.filter((e,t)=>this.toggleMethod(this.getValue(e,t)))},selectedValues(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod(){if(!this.multiple)return e=>this.internalValue===e;const e=this.internalValue;return Array.isArray(e)?t=>e.includes(t):()=>!1}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created(){this.multiple&&!Array.isArray(this.internalValue)&&Object(s["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{genData(){return{class:this.classes}},getValue(e,t){return null==e.value||""===e.value?t:e.value},onClick(e){this.updateInternalValue(this.getValue(e,this.items.indexOf(e)))},register(e){const t=this.items.push(e)-1;e.$on("change",()=>this.onClick(e)),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(e,t)},unregister(e){if(this._isDestroyed)return;const t=this.items.indexOf(e),i=this.getValue(e,t);this.items.splice(t,1);const n=this.selectedValues.indexOf(i);if(!(n<0)){if(!this.mandatory)return this.updateInternalValue(i);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter(e=>e!==i):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}},updateItem(e,t){const i=this.getValue(e,t);e.isActive=this.toggleMethod(i)},updateItemsState(){this.$nextTick(()=>{if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)})},updateInternalValue(e){this.multiple?this.updateMultiple(e):this.updateSingle(e)},updateMandatory(e){if(!this.items.length)return;const t=this.items.slice();e&&t.reverse();const i=t.find(e=>!e.disabled);if(!i)return;const n=this.items.indexOf(i);this.updateInternalValue(this.getValue(i,n))},updateMultiple(e){const t=Array.isArray(this.internalValue)?this.internalValue:[],i=t.slice(),n=i.findIndex(t=>t===e);this.mandatory&&n>-1&&i.length-1<1||null!=this.max&&n<0&&i.length+1>this.max||(n>-1?i.splice(n,1):i.push(e),this.internalValue=i)},updateSingle(e){const t=e===this.internalValue;this.mandatory&&t||(this.internalValue=t?void 0:e)}},render(e){return e("div",this.genData(),this.$slots.default)}});a.extend({name:"v-item-group",provide(){return{itemGroup:this}}})},"60da":function(e,t,i){"use strict";var n=i("83ab"),r=i("d039"),o=i("df75"),s=i("7418"),a=i("d1e7"),c=i("7b0b"),l=i("44ad"),h=Object.assign,u=Object.defineProperty;e.exports=!h||r((function(){if(n&&1!==h({b:1},h(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),r="abcdefghijklmnopqrst";return e[i]=7,r.split("").forEach((function(e){t[e]=e})),7!=h({},e)[i]||o(h({},t)).join("")!=r}))?function(e,t){var i=c(e),r=arguments.length,h=1,u=s.f,d=a.f;while(r>h){var p,f=l(arguments[h++]),m=u?o(f).concat(u(f)):o(f),v=m.length,g=0;while(v>g)p=m[g++],n&&!d.call(f,p)||(i[p]=f[p])}return i}:h},"615b":function(e,t,i){},"61d2":function(e,t,i){},"62ad":function(e,t,i){"use strict";i("4b85");var n=i("2b0e"),r=i("d9f7"),o=i("80d2");const s=["sm","md","lg","xl"],a=(()=>s.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),c=(()=>s.reduce((e,t)=>(e["offset"+Object(o["x"])(t)]={type:[String,Number],default:null},e),{}))(),l=(()=>s.reduce((e,t)=>(e["order"+Object(o["x"])(t)]={type:[String,Number],default:null},e),{}))(),h={col:Object.keys(a),offset:Object.keys(c),order:Object.keys(l)};function u(e,t,i){let n=e;if(null!=i&&!1!==i){if(t){const i=t.replace(e,"");n+="-"+i}return"col"!==e||""!==i&&!0!==i?(n+="-"+i,n.toLowerCase()):n.toLowerCase()}}const d=new Map;t["a"]=n["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...a,offset:{type:[String,Number],default:null},...c,order:{type:[String,Number],default:null},...l,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:i,children:n,parent:o}){let s="";for(const r in t)s+=String(t[r]);let a=d.get(s);if(!a){let e;for(e in a=[],h)h[e].forEach(i=>{const n=t[i],r=u(e,i,n);r&&a.push(r)});const i=a.some(e=>e.startsWith("col-"));a.push({col:!i||!t.cols,["col-"+t.cols]:t.cols,["offset-"+t.offset]:t.offset,["order-"+t.order]:t.order,["align-self-"+t.alignSelf]:t.alignSelf}),d.set(s,a)}return e(t.tag,Object(r["a"])(i,{class:a}),n)}})},"63b7":function(e,t,i){},6544:function(e,t){e.exports=function(e,t){var i="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var n in"function"===typeof e.exports&&(i.components=e.exports.options.components),i.components=i.components||{},t)i.components[n]=i.components[n]||t[n]}},6547:function(e,t,i){var n=i("a691"),r=i("1d80"),o=function(e){return function(t,i){var o,s,a=String(r(t)),c=n(i),l=a.length;return c<0||c>=l?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(e,t,i){var n=i("861d"),r=i("e8b5"),o=i("b622"),s=o("species");e.exports=function(e,t){var i;return r(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?n(i)&&(i=i[s],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},"67b6":function(e,t,i){"use strict";i("2c64");var n=i("ba87"),r=i("9d26"),o=i("c37a"),s=i("7e2b"),a=i("a9ad"),c=i("4e82"),l=i("5311"),h=i("7560"),u=i("fe09"),d=i("80d2"),p=i("58df");const f=Object(p["a"])(s["a"],a["a"],l["a"],Object(c["a"])("radioGroup"),h["a"]);t["a"]=f.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){return u["a"].options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return o["a"].options.computed.computedId.call(this)},hasLabel:o["a"].options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!(this.radioGroup||{}).disabled},isReadonly(){return this.readonly||!!(this.radioGroup||{}).readonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-"+this.radioGroup._uid},rippleState(){return u["a"].options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(e){return u["a"].options.methods.genInput.call(this,"radio",e)},genLabel(){return this.hasLabel?this.$createElement(n["a"],{on:{click:e=>{e.preventDefault(),this.onChange()}},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(d["n"])(this,"label")||this.label):null},genRadio(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(r["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...this.attrs$}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(e){const t={staticClass:"v-radio",class:this.classes};return e("div",t,[this.genRadio(),this.genLabel()])}})},"68dd":function(e,t,i){},"69f3":function(e,t,i){var n,r,o,s=i("7f9a"),a=i("da84"),c=i("861d"),l=i("9112"),h=i("5135"),u=i("f772"),d=i("d012"),p=a.WeakMap,f=function(e){return o(e)?r(e):n(e,{})},m=function(e){return function(t){var i;if(!c(t)||(i=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}};if(s){var v=new p,g=v.get,y=v.has,_=v.set;n=function(e,t){return _.call(v,e,t),t},r=function(e){return g.call(v,e)||{}},o=function(e){return y.call(v,e)}}else{var b=u("state");d[b]=!0,n=function(e,t){return l(e,b,t),t},r=function(e){return h(e,b)?e[b]:{}},o=function(e){return h(e,b)}}e.exports={set:n,get:r,has:o,enforce:f,getterFor:m}},"6ece":function(e,t,i){},"6eeb":function(e,t,i){var n=i("da84"),r=i("9112"),o=i("5135"),s=i("ce4e"),a=i("8925"),c=i("69f3"),l=c.get,h=c.enforce,u=String(String).split("String");(e.exports=function(e,t,i,a){var c=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||o(i,"name")||r(i,"name",t),h(i).source=u.join("string"==typeof t?t:"")),e!==n?(c?!d&&e[t]&&(l=!0):delete e[t],l?e[t]=i:r(e,t,i)):l?e[t]=i:s(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))},"6f04":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.easeInOutQuint=t.easeOutQuint=t.easeInQuint=t.easeInOutQuart=t.easeOutQuart=t.easeInQuart=t.easeInOutCubic=t.easeOutCubic=t.easeInCubic=t.easeInOutQuad=t.easeOutQuad=t.easeInQuad=t.linear=void 0;var n=function(e){return e};t.linear=n;var r=function(e){return Math.pow(e,2)};t.easeInQuad=r;var o=function(e){return e*(2-e)};t.easeOutQuad=o;var s=function(e){return e<.5?2*Math.pow(e,2):(4-2*e)*e-1};t.easeInOutQuad=s;var a=function(e){return Math.pow(e,3)};t.easeInCubic=a;var c=function(e){return Math.pow(--e,3)+1};t.easeOutCubic=c;var l=function(e){return e<.5?4*Math.pow(e,3):(e-1)*(2*e-2)*(2*e-2)+1};t.easeInOutCubic=l;var h=function(e){return Math.pow(e,4)};t.easeInQuart=h;var u=function(e){return 1-Math.pow(--e,4)};t.easeOutQuart=u;var d=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e};t.easeInOutQuart=d;var p=function(e){return Math.pow(e,5)};t.easeInQuint=p;var f=function(e){return 1+Math.pow(--e,5)};t.easeOutQuint=f;var m=function(e){return e<.5?16*Math.pow(e,5):1+16*Math.pow(--e,5)};t.easeInOutQuint=m},"713a":function(e,t,i){"use strict";var n=i("8212");t["a"]=n["a"]},"71d9":function(e,t,i){"use strict";i("5e23");var n=i("8dd9"),r=i("adda"),o=i("80d2"),s=i("d9bd");t["a"]=n["a"].extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"},tile:{type:Boolean,default:!0}},data:()=>({isExtended:!1}),computed:{computedHeight(){const e=this.computedContentHeight;if(!this.isExtended)return e;const t=parseInt(this.extensionHeight);return this.isCollapsed?e:e+(isNaN(t)?0:t)},computedContentHeight(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes(){return{...n["a"].options.computed.classes.call(this),"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent}},isCollapsed(){return this.collapse},isProminent(){return this.prominent},styles(){return{...this.measurableStyles,height:Object(o["f"])(this.computedHeight)}}},created(){const e=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];e.forEach(([e,t])=>{this.$attrs.hasOwnProperty(e)&&Object(s["a"])(e,t,this)})},methods:{genBackground(){const e={height:Object(o["f"])(this.computedHeight),src:this.src},t=this.$scopedSlots.img?this.$scopedSlots.img({props:e}):this.$createElement(r["a"],{props:e});return this.$createElement("div",{staticClass:"v-toolbar__image"},[t])},genContent(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(o["f"])(this.computedContentHeight)}},Object(o["n"])(this))},genExtension(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(o["f"])(this.extensionHeight)}},Object(o["n"])(this,"extension"))}},render(e){this.isExtended=this.extended||!!this.$scopedSlots.extension;const t=[this.genContent()],i=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&t.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&t.unshift(this.genBackground()),e(this.tag,i,t)}})},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7435:function(e,t,i){},"746f":function(e,t,i){var n=i("428f"),r=i("5135"),o=i("e538"),s=i("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});r(t,e)||s(t,e,{value:o.f(e)})}},7496:function(e,t,i){"use strict";i("df86");var n=i("7560"),r=i("58df");t["a"]=Object(r["a"])(n["a"]).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark(){return this.$vuetify.theme.dark}},beforeCreate(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render(e){const t=e("div",{staticClass:"v-application--wrap"},this.$slots.default);return e("div",{staticClass:"v-application",class:{"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl,...this.themeClasses},attrs:{"data-app":!0},domProps:{id:this.id}},[t])}})},7560:function(e,t,i){"use strict";i.d(t,"b",(function(){return r}));var n=i("2b0e");function r(e){const t={...e.props,...e.injections},i=o.options.computed.isDark.call(t);return o.options.computed.themeClasses.call({isDark:i})}const o=n["a"].extend().extend({name:"themeable",provide(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark(){return this.$vuetify.theme.dark||!1},isDark(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler(e,t){e!==t&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});t["a"]=o},"75eb":function(e,t,i){"use strict";var n=i("9d65"),r=i("80d2"),o=i("58df"),s=i("d9bd");function a(e){const t=typeof e;return"boolean"===t||"string"===t||e.nodeType===Node.ELEMENT_NODE}t["a"]=Object(o["a"])(n["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:a},contentClass:{type:String,default:""}},data:()=>({activatorNode:null,hasDetached:!1}),watch:{attach(){this.hasDetached=!1,this.initDetach()},hasContent(){this.$nextTick(this.initDetach)}},beforeMount(){this.$nextTick(()=>{if(this.activatorNode){const e=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];e.forEach(e=>{if(!e.elm)return;if(!this.$el.parentNode)return;const t=this.$el===this.$el.parentNode.firstChild?this.$el:this.$el.nextSibling;this.$el.parentNode.insertBefore(e.elm,t)})}})},mounted(){this.hasContent&&this.initDetach()},deactivated(){this.isActive=!1},beforeDestroy(){try{if(this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content),this.activatorNode){const e=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];e.forEach(e=>{e.elm&&e.elm.parentNode&&e.elm.parentNode.removeChild(e.elm)})}}catch(e){console.log(e)}},methods:{getScopeIdAttrs(){const e=Object(r["l"])(this.$vnode,"context.$options._scopeId");return e&&{[e]:""}},initDetach(){if(this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach)return;let e;e=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,e?(e.appendChild(this.$refs.content),this.hasDetached=!0):Object(s["c"])("Unable to locate target "+(this.attach||"[data-app]"),this)}}})},"765d":function(e,t,i){"use strict";function n(e){if("number"===typeof e)return e;var t=s(e);if(!t)throw"string"===typeof e?new Error('Target element "'.concat(e,'" not found.')):new TypeError("Target must be a Number/Selector/HTMLElement/VueComponent, received ".concat(o(e)," instead."));var i=0;while(t)i+=t.offsetTop,t=t.offsetParent;return i}function r(e){var t=s(e);if(t)return t;throw"string"===typeof e?new Error('Container element "'.concat(e,'" not found.')):new TypeError("Container must be a Selector/HTMLElement/VueComponent, received ".concat(o(e)," instead."))}function o(e){return null==e?e:e.constructor.name}function s(e){return"string"===typeof e?document.querySelector(e):e&&e._isVue?e.$el:e instanceof HTMLElement?e:null}Object.defineProperty(t,"__esModule",{value:!0}),t.getOffset=n,t.getContainer=r},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7958:function(e,t,i){},"7a77":function(e,t,i){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},"7aac":function(e,t,i){"use strict";var n=i("c532");e.exports=n.isStandardBrowserEnv()?function(){return{write:function(e,t,i,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),n.isString(r)&&a.push("path="+r),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(e,t,i){var n=i("1d80");e.exports=function(e){return Object(n(e))}},"7b9e":function(e,t,i){const{noopTest:n,edit:r,merge:o}=i("ad42"),s={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:n,table:n,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};s.def=r(s.def).replace("label",s._label).replace("title",s._title).getRegex(),s.bullet=/(?:[*+-]|\d{1,9}\.)/,s.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,s.item=r(s.item,"gm").replace(/bull/g,s.bullet).getRegex(),s.list=r(s.list).replace(/bull/g,s.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+s.def.source+")").getRegex(),s._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",s._comment=/<!--(?!-?>)[\s\S]*?-->/,s.html=r(s.html,"i").replace("comment",s._comment).replace("tag",s._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),s.paragraph=r(s._paragraph).replace("hr",s.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",s._tag).getRegex(),s.blockquote=r(s.blockquote).replace("paragraph",s.paragraph).getRegex(),s.normal=o({},s),s.gfm=o({},s.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),s.gfm.nptable=r(s.gfm.nptable).replace("hr",s.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",s._tag).getRegex(),s.gfm.table=r(s.gfm.table).replace("hr",s.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",s._tag).getRegex(),s.pedantic=o({},s.normal,{html:r("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",s._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:n,paragraph:r(s.normal._paragraph).replace("hr",s.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",s.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const a={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:n,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:n,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};a.em=r(a.em).replace(/punctuation/g,a._punctuation).getRegex(),a._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,a._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,a._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,a.autolink=r(a.autolink).replace("scheme",a._scheme).replace("email",a._email).getRegex(),a._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,a.tag=r(a.tag).replace("comment",s._comment).replace("attribute",a._attribute).getRegex(),a._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,a._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,a._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,a.link=r(a.link).replace("label",a._label).replace("href",a._href).replace("title",a._title).getRegex(),a.reflink=r(a.reflink).replace("label",a._label).getRegex(),a.normal=o({},a),a.pedantic=o({},a.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:r(/^!?\[(label)\]\((.*?)\)/).replace("label",a._label).getRegex(),reflink:r(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",a._label).getRegex()}),a.gfm=o({},a.normal,{escape:r(a.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),a.gfm.url=r(a.gfm.url,"i").replace("email",a.gfm._extended_email).getRegex(),a.breaks=o({},a.gfm,{br:r(a.br).replace("{2,}","*").getRegex(),text:r(a.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),e.exports={block:s,inline:a}},"7c73":function(e,t,i){var n,r=i("825a"),o=i("37e8"),s=i("7839"),a=i("d012"),c=i("1be4"),l=i("cc12"),h=i("f772"),u=">",d="<",p="prototype",f="script",m=h("IE_PROTO"),v=function(){},g=function(e){return d+f+u+e+d+"/"+f+u},y=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=l("iframe"),i="java"+f+":";return t.style.display="none",c.appendChild(t),t.src=String(i),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},b=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}b=n?y(n):_();var e=s.length;while(e--)delete b[p][s[e]];return b()};a[m]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(v[p]=r(e),i=new v,v[p]=null,i[m]=e):i=b(),void 0===t?i:o(i,t)}},"7dd0":function(e,t,i){"use strict";var n=i("23e7"),r=i("9ed3"),o=i("e163"),s=i("d2bb"),a=i("d44e"),c=i("9112"),l=i("6eeb"),h=i("b622"),u=i("c430"),d=i("3f8c"),p=i("ae93"),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),g="keys",y="values",_="entries",b=function(){return this};e.exports=function(e,t,i,h,p,x,w){r(i,t,h);var S,C,M,E=function(e){if(e===p&&R)return R;if(!m&&e in L)return L[e];switch(e){case g:return function(){return new i(this,e)};case y:return function(){return new i(this,e)};case _:return function(){return new i(this,e)}}return function(){return new i(this)}},T=t+" Iterator",A=!1,L=e.prototype,O=L[v]||L["@@iterator"]||p&&L[p],R=!m&&O||E(p),k="Array"==t&&L.entries||O;if(k&&(S=o(k.call(new e)),f!==Object.prototype&&S.next&&(u||o(S)===f||(s?s(S,f):"function"!=typeof S[v]&&c(S,v,b)),a(S,T,!0,!0),u&&(d[T]=b))),p==y&&O&&O.name!==y&&(A=!0,R=function(){return O.call(this)}),u&&!w||L[v]===R||c(L,v,R),d[t]=R,p)if(C={values:E(y),keys:x?R:E(g),entries:E(_)},w)for(M in C)(m||A||!(M in L))&&l(L,M,C[M]);else n({target:t,proto:!0,forced:m||A},C);return C}},"7e2b":function(e,t,i){"use strict";var n=i("2b0e");function r(e){return function(t,i){for(const n in i)Object.prototype.hasOwnProperty.call(t,n)||this.$delete(this.$data[e],n);for(const n in t)this.$set(this.$data[e],n,t[n])}}t["a"]=n["a"].extend({data:()=>({attrs$:{},listeners$:{}}),created(){this.$watch("$attrs",r("attrs$"),{immediate:!0}),this.$watch("$listeners",r("listeners$"),{immediate:!0})}})},"7f9a":function(e,t,i){var n=i("da84"),r=i("8925"),o=n.WeakMap;e.exports="function"===typeof o&&/native code/.test(r(o))},"80d2":function(e,t,i){"use strict";i.d(t,"h",(function(){return r})),i.d(t,"a",(function(){return o})),i.d(t,"v",(function(){return s})),i.d(t,"b",(function(){return a})),i.d(t,"i",(function(){return l})),i.d(t,"l",(function(){return h})),i.d(t,"m",(function(){return u})),i.d(t,"g",(function(){return d})),i.d(t,"p",(function(){return p})),i.d(t,"j",(function(){return m})),i.d(t,"k",(function(){return v})),i.d(t,"f",(function(){return g})),i.d(t,"q",(function(){return y})),i.d(t,"r",(function(){return b})),i.d(t,"w",(function(){return x})),i.d(t,"s",(function(){return w})),i.d(t,"c",(function(){return C})),i.d(t,"x",(function(){return M})),i.d(t,"y",(function(){return E})),i.d(t,"o",(function(){return T})),i.d(t,"n",(function(){return A})),i.d(t,"e",(function(){return L})),i.d(t,"u",(function(){return O})),i.d(t,"d",(function(){return R})),i.d(t,"t",(function(){return k}));var n=i("2b0e");function r(e,t="div",i){return n["a"].extend({name:i||e.replace(/__/g,"-"),functional:!0,render(i,{data:n,children:r}){return n.staticClass=`${e} ${n.staticClass||""}`.trim(),i(t,n,r)}})}function o(e,t,i,n=!1){var r=o=>{i(o),e.removeEventListener(t,r,n)};e.addEventListener(t,r,n)}let s=!1;try{if("undefined"!==typeof window){const e=Object.defineProperty({},"passive",{get:()=>{s=!0}});window.addEventListener("testListener",e,e),window.removeEventListener("testListener",e,e)}}catch(P){console.warn(P)}function a(e,t,i,n){e.addEventListener(t,i,!!s&&n)}function c(e,t,i){const n=t.length-1;if(n<0)return void 0===e?i:e;for(let r=0;r<n;r++){if(null==e)return i;e=e[t[r]]}return null==e||void 0===e[t[n]]?i:e[t[n]]}function l(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime())return!1;if(e!==Object(e)||t!==Object(t))return!1;const i=Object.keys(e);return i.length===Object.keys(t).length&&i.every(i=>l(e[i],t[i]))}function h(e,t,i){return null!=e&&t&&"string"===typeof t?void 0!==e[t]?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),c(e,t.split("."),i)):i}function u(e,t,i){if(null==t)return void 0===e?i:e;if(e!==Object(e))return void 0===i?e:i;if("string"===typeof t)return h(e,t,i);if(Array.isArray(t))return c(e,t,i);if("function"!==typeof t)return i;const n=t(e,i);return"undefined"===typeof n?i:n}function d(e){return Array.from({length:e},(e,t)=>t)}function p(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return 0;const t=+window.getComputedStyle(e).getPropertyValue("z-index");return t||p(e.parentNode)}const f={"&":"&amp;","<":"&lt;",">":"&gt;"};function m(e){return e.replace(/[&<>]/g,e=>f[e]||e)}function v(e,t){const i={};for(let n=0;n<t.length;n++){const r=t[n];"undefined"!==typeof e[r]&&(i[r]=e[r])}return i}function g(e,t="px"){return null==e||""===e?void 0:isNaN(+e)?String(e):`${Number(e)}${t}`}function y(e){return(e||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _(e){return null!==e&&"object"===typeof e}const b=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34});function x(e,t){if(!t.startsWith("$"))return t;const i="$vuetify.icons.values."+t.split("$").pop().split(".").pop();return h(e,i,t)}function w(e){return Object.keys(e)}const S=/-(\w)/g,C=e=>e.replace(S,(e,t)=>t?t.toUpperCase():"");function M(e){return e.charAt(0).toUpperCase()+e.slice(1)}function E(e){return null!=e?Array.isArray(e)?e:[e]:[]}function T(e,t,i){return e.$slots[t]&&e.$scopedSlots[t]&&e.$scopedSlots[t].name?i?"v-slot":"scoped":e.$slots[t]?"normal":e.$scopedSlots[t]?"scoped":void 0}function A(e,t="default",i,n=!1){return e.$scopedSlots[t]?e.$scopedSlots[t](i instanceof Function?i():i):!e.$slots[t]||i&&!n?void 0:e.$slots[t]}function L(e,t=0,i=1){return Math.max(t,Math.min(i,e))}function O(e,t,i="0"){return e+i.repeat(Math.max(0,t-e.length))}function R(e,t=1){const i=[];let n=0;while(n<e.length)i.push(e.substr(n,t)),n+=t;return i}function k(e={},t={}){for(const i in t){const n=e[i],r=t[i];_(n)&&_(r)?e[i]=k(n,r):e[i]=r}return e}},8212:function(e,t,i){"use strict";i("3408");var n=i("a9ad"),r=i("24b2"),o=i("80d2"),s=i("58df");t["a"]=Object(s["a"])(n["a"],r["a"]).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48},tile:Boolean},computed:{classes(){return{"v-avatar--left":this.left,"v-avatar--right":this.right,"v-avatar--tile":this.tile}},styles(){return{height:Object(o["f"])(this.size),minWidth:Object(o["f"])(this.size),width:Object(o["f"])(this.size),...this.measurableStyles}}},render(e){const t={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return e("div",this.setBackgroundColor(this.color,t),this.$slots.default)}})},"825a":function(e,t,i){var n=i("861d");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},8336:function(e,t,i){"use strict";i("86cc");var n=i("10d2"),r=i("22da"),o=i("4e82"),s=i("f2e7"),a=i("fe6c"),c=i("1c87"),l=i("af2b"),h=i("58df"),u=i("d9bd");const d=Object(h["a"])(n["a"],c["a"],a["a"],l["a"],Object(o["a"])("btnToggle"),Object(s["b"])("inputValue"));t["a"]=d.extend().extend({name:"v-btn",props:{activeClass:{type:String,default(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,type:{type:String,default:"button"},value:null},data:()=>({proxyClass:"v-btn--active"}),computed:{classes(){return{"v-btn":!0,...c["a"].options.computed.classes.call(this),"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--contained":this.contained,"v-btn--depressed":this.depressed||this.outlined,"v-btn--disabled":this.disabled,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--flat":this.isFlat,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top,...this.themeClasses,...this.groupClasses,...this.elevationClasses,...this.sizeableClasses}},contained(){return Boolean(!this.isFlat&&!this.depressed&&!this.elevation)},computedRipple(){const e=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!=this.ripple?this.ripple:e)},isFlat(){return Boolean(this.icon||this.text||this.outlined)},isRound(){return Boolean(this.icon||this.fab)},styles(){return{...this.measurableStyles}}},created(){const e=[["flat","text"],["outline","outlined"],["round","rounded"]];e.forEach(([e,t])=>{this.$attrs.hasOwnProperty(e)&&Object(u["a"])(e,t,this)})},methods:{click(e){!this.retainFocusOnClick&&!this.fab&&e.detail&&this.$el.blur(),this.$emit("click",e),this.btnToggle&&this.toggle()},genContent(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(r["a"],{props:{indeterminate:!0,size:23,width:2}})])}},render(e){const t=[this.genContent(),this.loading&&this.genLoader()],i=this.isFlat?this.setTextColor:this.setBackgroundColor,{tag:n,data:r}=this.generateRouteLink();return"button"===n&&(r.attrs.type=this.type,r.attrs.disabled=this.disabled),r.attrs.value=["string","number"].includes(typeof this.value)?this.value:JSON.stringify(this.value),e(n,this.disabled?r:i(this.color,r),t)}})},"83ab":function(e,t,i){var n=i("d039");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(e,t,i){"use strict";var n=i("d925"),r=i("e683");e.exports=function(e,t){return e&&!n(t)?r(e,t):t}},8418:function(e,t,i){"use strict";var n=i("c04e"),r=i("9bf2"),o=i("5c6c");e.exports=function(e,t,i){var s=n(t);s in e?r.f(e,s,o(0,i)):e[s]=i}},8547:function(e,t,i){"use strict";var n=i("2b0e"),r=i("80d2");t["a"]=n["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:r["i"]}}})},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8654:function(e,t,i){"use strict";i("4ff9");var n=i("c37a"),r=(i("e9b1"),i("7560")),o=i("58df"),s=Object(o["a"])(r["a"]).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render(e,t){const{props:i}=t,n=parseInt(i.max,10),o=parseInt(i.value,10),s=n?`${o} / ${n}`:String(i.value),a=n&&o>n;return e("div",{staticClass:"v-counter",class:{"error--text":a,...Object(r["b"])(t)}},s)}}),a=s,c=i("ba87"),l=i("90a2"),h=i("d9bd"),u=i("2b0e");function d(e){return"undefined"!==typeof window&&"IntersectionObserver"in window?u["a"].extend({name:"intersectable",mounted(){l["a"].inserted(this.$el,{name:"intersect",value:{handler:this.onObserve}})},destroyed(){l["a"].unbind(this.$el)},methods:{onObserve(t,i,n){if(n)for(let r=0,o=e.onVisible.length;r<o;r++){const t=this[e.onVisible[r]];"function"!==typeof t?Object(h["c"])(e.onVisible[r]+" method is not available on the instance but referenced in intersectable mixin options"):t()}}}}):u["a"].extend({name:"intersectable"})}var p=i("297c"),f=i("38cb"),m=i("5607"),v=i("80d2");const g=Object(o["a"])(n["a"],d({onVisible:["setLabelWidth","setPrefixWidth","setPrependWidth","tryAutofocus"]}),p["a"]),y=["color","file","time","date","datetime-local","week","month"];t["a"]=g.extend().extend({name:"v-text-field",directives:{ripple:m["a"]},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:()=>({badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}),computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped}},computedColor(){const e=f["a"].options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||"primary":e},computedCounterValue(){return"function"===typeof this.counterValue?this.counterValue(this.internalValue):(this.internalValue||"").toString().length},hasCounter(){return!1!==this.counter&&null!=this.counter},hasDetails(){return n["a"].options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("input",this.lazyValue)}},isDirty(){return null!=this.lazyValue&&this.lazyValue.toString().length>0||this.badInput},isEnclosed(){return this.filled||this.isSolo||this.outlined},isLabelActive(){return this.isDirty||y.includes(this.type)},isSingle(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo(){return this.solo||this.soloInverted},labelPosition(){let e=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(e-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:e,right:"auto"}:{left:"auto",right:e}},showLabel(){return this.hasLabel&&(!this.isSingle||!this.isLabelActive&&!this.placeholder)},labelValue(){return!this.isSingle&&Boolean(this.isFocused||this.isLabelActive||this.placeholder)}},watch:{labelValue:"setLabelWidth",outlined:"setLabelWidth",label(){this.$nextTick(this.setLabelWidth)},prefix(){this.$nextTick(this.setPrefixWidth)},isFocused:"updateValue",value(e){this.lazyValue=e}},created(){this.$attrs.hasOwnProperty("box")&&Object(h["a"])("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&Object(h["a"])("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&Object(h["c"])("shaped should be used with either filled or outlined",this)},mounted(){this.autofocus&&this.tryAutofocus(),this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth(),requestAnimationFrame(()=>this.isBooted=!0)},methods:{focus(){this.onFocus()},blur(e){window.requestAnimationFrame(()=>{this.$refs.input&&this.$refs.input.blur()})},clearableCallback(){this.$refs.input&&this.$refs.input.focus(),this.$nextTick(()=>this.internalValue=null)},genAppendSlot(){const e=[];return this.$slots["append-outer"]?e.push(this.$slots["append-outer"]):this.appendOuterIcon&&e.push(this.genIcon("appendOuter")),this.genSlot("append","outer",e)},genPrependInnerSlot(){const e=[];return this.$slots["prepend-inner"]?e.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&e.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",e)},genIconSlot(){const e=[];return this.$slots["append"]?e.push(this.$slots["append"]):this.appendIcon&&e.push(this.genIcon("append")),this.genSlot("append","inner",e)},genInputSlot(){const e=n["a"].options.methods.genInputSlot.call(this),t=this.genPrependInnerSlot();return t&&(e.children=e.children||[],e.children.unshift(t)),e},genClearIcon(){if(!this.clearable)return null;const e=this.isDirty?void 0:{attrs:{disabled:!0}};return this.genSlot("append","inner",[this.genIcon("clear",this.clearableCallback,e)])},genCounter(){if(!this.hasCounter)return null;const e=!0===this.counter?this.attrs$.maxlength:this.counter;return this.$createElement(a,{props:{dark:this.dark,light:this.light,max:e,value:this.computedCounterValue}})},genDefaultSlot(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel(){if(!this.showLabel)return null;const e={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.disabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(c["a"],e,this.$slots.label||this.label)},genLegend(){const e=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,t=this.$createElement("span",{domProps:{innerHTML:"&#8203;"}});return this.$createElement("legend",{style:{width:this.isSingle?void 0:Object(v["f"])(e)}},[t])},genInput(){const e=Object.assign({},this.listeners$);return delete e["change"],this.$createElement("input",{style:{},domProps:{value:this.lazyValue},attrs:{...this.attrs$,autofocus:this.autofocus,disabled:this.disabled,id:this.computedId,placeholder:this.placeholder,readonly:this.readonly,type:this.type},on:Object.assign(e,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown,compositionend:this.onCompositionEnd}),ref:"input"})},genMessages(){if(!this.showDetails)return null;const e=n["a"].options.methods.genMessages.call(this),t=this.genCounter();return this.$createElement("div",{staticClass:"v-text-field__details"},[e,t])},genTextFieldSlot(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix(e){return this.$createElement("div",{class:"v-text-field__"+e,ref:e},this[e])},onBlur(e){this.isFocused=!1,e&&this.$nextTick(()=>this.$emit("blur",e))},onClick(){this.isFocused||this.disabled||!this.$refs.input||this.$refs.input.focus()},onCompositionEnd(e){const t=e.target;this.internalValue=t.value,this.badInput=t.validity&&t.validity.badInput},onFocus(e){if(this.$refs.input)return document.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,e&&this.$emit("focus",e)))},onInput(e){e.isComposing||this.onCompositionEnd(e)},onKeyDown(e){e.isComposing||e.keyCode!==v["r"].enter||this.$emit("change",this.internalValue),this.$emit("keydown",e)},onMouseDown(e){e.target!==this.$refs.input&&(e.preventDefault(),e.stopPropagation()),n["a"].options.methods.onMouseDown.call(this,e)},onMouseUp(e){this.hasMouseDown&&this.focus(),n["a"].options.methods.onMouseUp.call(this,e)},setLabelWidth(){this.outlined&&this.$refs.label&&(this.labelWidth=Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24))},setPrefixWidth(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)},tryAutofocus(){return!(!this.autofocus||"undefined"===typeof document||!this.$refs.input||document.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue(e){this.hasColor=e,e?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)}}})},"86cc":function(e,t,i){},8725:function(e,t,i){const n=i("49b6"),{defaults:r}=i("bdbb"),{inline:o}=i("7b9e"),{findClosingBracket:s,escape:a}=i("ad42");e.exports=class e{constructor(e,t){if(this.options=t||r,this.links=e,this.rules=o.normal,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=o.pedantic:this.options.gfm&&(this.options.breaks?this.rules=o.breaks:this.rules=o.gfm)}static get rules(){return o}static output(t,i,n){const r=new e(i,n);return r.output(t)}output(t){let i,n,r,o,c,l,h="";while(t)if(c=this.rules.escape.exec(t))t=t.substring(c[0].length),h+=a(c[1]);else if(c=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(c[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(c[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(c[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(c[0])&&(this.inRawBlock=!1),t=t.substring(c[0].length),h+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):a(c[0]):c[0]);else if(c=this.rules.link.exec(t)){const n=s(c[2],"()");if(n>-1){const e=0===c[0].indexOf("!")?5:4,t=e+c[1].length+n;c[2]=c[2].substring(0,n),c[0]=c[0].substring(0,t).trim(),c[3]=""}t=t.substring(c[0].length),this.inLink=!0,r=c[2],this.options.pedantic?(i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r),i?(r=i[1],o=i[3]):o=""):o=c[3]?c[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),h+=this.outputLink(c,{href:e.escapes(r),title:e.escapes(o)}),this.inLink=!1}else if((c=this.rules.reflink.exec(t))||(c=this.rules.nolink.exec(t))){if(t=t.substring(c[0].length),i=(c[2]||c[1]).replace(/\s+/g," "),i=this.links[i.toLowerCase()],!i||!i.href){h+=c[0].charAt(0),t=c[0].substring(1)+t;continue}this.inLink=!0,h+=this.outputLink(c,i),this.inLink=!1}else if(c=this.rules.strong.exec(t))t=t.substring(c[0].length),h+=this.renderer.strong(this.output(c[4]||c[3]||c[2]||c[1]));else if(c=this.rules.em.exec(t))t=t.substring(c[0].length),h+=this.renderer.em(this.output(c[6]||c[5]||c[4]||c[3]||c[2]||c[1]));else if(c=this.rules.code.exec(t))t=t.substring(c[0].length),h+=this.renderer.codespan(a(c[2].trim(),!0));else if(c=this.rules.br.exec(t))t=t.substring(c[0].length),h+=this.renderer.br();else if(c=this.rules.del.exec(t))t=t.substring(c[0].length),h+=this.renderer.del(this.output(c[1]));else if(c=this.rules.autolink.exec(t))t=t.substring(c[0].length),"@"===c[2]?(n=a(this.mangle(c[1])),r="mailto:"+n):(n=a(c[1]),r=n),h+=this.renderer.link(r,null,n);else if(this.inLink||!(c=this.rules.url.exec(t))){if(c=this.rules.text.exec(t))t=t.substring(c[0].length),this.inRawBlock?h+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):a(c[0]):c[0]):h+=this.renderer.text(a(this.smartypants(c[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===c[2])n=a(c[0]),r="mailto:"+n;else{do{l=c[0],c[0]=this.rules._backpedal.exec(c[0])[0]}while(l!==c[0]);n=a(c[0]),r="www."===c[1]?"http://"+n:n}t=t.substring(c[0].length),h+=this.renderer.link(r,null,n)}return h}static escapes(t){return t?t.replace(e.rules._escapes,"$1"):t}outputLink(e,t){const i=t.href,n=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,a(e[1]))}smartypants(e){return this.options.smartypants?e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):e}mangle(e){if(!this.options.mangle)return e;const t=e.length;let i,n="",r=0;for(;r<t;r++)i=e.charCodeAt(r),Math.random()>.5&&(i="x"+i.toString(16)),n+="&#"+i+";";return n}}},8860:function(e,t,i){"use strict";i("3ad0");var n=i("8dd9");t["a"]=n["a"].extend().extend({name:"v-list",provide(){return{isInList:!0,list:this}},inject:{isInMenu:{default:!1},isInNav:{default:!1}},props:{dense:Boolean,disabled:Boolean,expand:Boolean,flat:Boolean,nav:Boolean,rounded:Boolean,shaped:Boolean,subheader:Boolean,threeLine:Boolean,tile:{type:Boolean,default:!0},twoLine:Boolean},data:()=>({groups:[]}),computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-list--dense":this.dense,"v-list--disabled":this.disabled,"v-list--flat":this.flat,"v-list--nav":this.nav,"v-list--rounded":this.rounded,"v-list--shaped":this.shaped,"v-list--subheader":this.subheader,"v-list--two-line":this.twoLine,"v-list--three-line":this.threeLine}}},methods:{register(e){this.groups.push(e)},unregister(e){const t=this.groups.findIndex(t=>t._uid===e._uid);t>-1&&this.groups.splice(t,1)},listClick(e){if(!this.expand)for(const t of this.groups)t.toggle(e)}},render(e){const t={staticClass:"v-list",class:this.classes,style:this.styles,attrs:{role:this.isInNav||this.isInMenu?void 0:"list",...this.attrs$}};return e(this.tag,this.setBackgroundColor(this.color,t),[this.$slots.default])}})},8925:function(e,t,i){var n=i("c6cd"),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return r.call(e)}),e.exports=n.inspectSource},"899c":function(e,t,i){},"8aa5":function(e,t,i){"use strict";var n=i("6547").charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},"8adc":function(e,t,i){},"8b0d":function(e,t,i){},"8c4f":function(e,t,i){"use strict";
/*!
  * vue-router v3.1.6
  * (c) 2020 Evan You
  * @license MIT
  */function n(e,t){0}function r(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function o(e,t){return t instanceof e||t&&(t.name===e.name||t._name===e._name)}function s(e,t){for(var i in t)e[i]=t[i];return e}var a={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var i=t.props,n=t.children,r=t.parent,o=t.data;o.routerView=!0;var a=r.$createElement,l=i.name,h=r.$route,u=r._routerViewCache||(r._routerViewCache={}),d=0,p=!1;while(r&&r._routerRoot!==r){var f=r.$vnode?r.$vnode.data:{};f.routerView&&d++,f.keepAlive&&r._directInactive&&r._inactive&&(p=!0),r=r.$parent}if(o.routerViewDepth=d,p){var m=u[l],v=m&&m.component;return v?(m.configProps&&c(v,o,m.route,m.configProps),a(v,o,n)):a()}var g=h.matched[d],y=g&&g.components[l];if(!g||!y)return u[l]=null,a();u[l]={component:y},o.registerRouteInstance=function(e,t){var i=g.instances[l];(t&&i!==e||!t&&i===e)&&(g.instances[l]=t)},(o.hook||(o.hook={})).prepatch=function(e,t){g.instances[l]=t.componentInstance},o.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==g.instances[l]&&(g.instances[l]=e.componentInstance)};var _=g.props&&g.props[l];return _&&(s(u[l],{route:h,configProps:_}),c(y,o,h,_)),a(y,o,n)}};function c(e,t,i,n){var r=t.props=l(i,n);if(r){r=t.props=s({},r);var o=t.attrs=t.attrs||{};for(var a in r)e.props&&a in e.props||(o[a]=r[a],delete r[a])}}function l(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}var h=/[!'()*]/g,u=function(e){return"%"+e.charCodeAt(0).toString(16)},d=/%2C/g,p=function(e){return encodeURIComponent(e).replace(h,u).replace(d,",")},f=decodeURIComponent;function m(e,t,i){void 0===t&&(t={});var n,r=i||v;try{n=r(e||"")}catch(s){n={}}for(var o in t)n[o]=t[o];return n}function v(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var i=e.replace(/\+/g," ").split("="),n=f(i.shift()),r=i.length>0?f(i.join("=")):null;void 0===t[n]?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]})),t):t}function g(e){var t=e?Object.keys(e).map((function(t){var i=e[t];if(void 0===i)return"";if(null===i)return p(t);if(Array.isArray(i)){var n=[];return i.forEach((function(e){void 0!==e&&(null===e?n.push(p(t)):n.push(p(t)+"="+p(e)))})),n.join("&")}return p(t)+"="+p(i)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var y=/\/?$/;function _(e,t,i,n){var r=n&&n.options.stringifyQuery,o=t.query||{};try{o=b(o)}catch(a){}var s={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:S(t,r),matched:e?w(e):[]};return i&&(s.redirectedFrom=S(i,r)),Object.freeze(s)}function b(e){if(Array.isArray(e))return e.map(b);if(e&&"object"===typeof e){var t={};for(var i in e)t[i]=b(e[i]);return t}return e}var x=_(null,{path:"/"});function w(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function S(e,t){var i=e.path,n=e.query;void 0===n&&(n={});var r=e.hash;void 0===r&&(r="");var o=t||g;return(i||"/")+o(n)+r}function C(e,t){return t===x?e===t:!!t&&(e.path&&t.path?e.path.replace(y,"")===t.path.replace(y,"")&&e.hash===t.hash&&M(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&M(e.query,t.query)&&M(e.params,t.params)))}function M(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every((function(i){var n=e[i],r=t[i];return"object"===typeof n&&"object"===typeof r?M(n,r):String(n)===String(r)}))}function E(e,t){return 0===e.path.replace(y,"/").indexOf(t.path.replace(y,"/"))&&(!t.hash||e.hash===t.hash)&&T(e.query,t.query)}function T(e,t){for(var i in t)if(!(i in e))return!1;return!0}function A(e,t,i){var n=e.charAt(0);if("/"===n)return e;if("?"===n||"#"===n)return t+e;var r=t.split("/");i&&r[r.length-1]||r.pop();for(var o=e.replace(/^\//,"").split("/"),s=0;s<o.length;s++){var a=o[s];".."===a?r.pop():"."!==a&&r.push(a)}return""!==r[0]&&r.unshift(""),r.join("/")}function L(e){var t="",i="",n=e.indexOf("#");n>=0&&(t=e.slice(n),e=e.slice(0,n));var r=e.indexOf("?");return r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),{path:e,query:i,hash:t}}function O(e){return e.replace(/\/\//g,"/")}var R=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},k=J,P=j,D=H,I=U,B=Z,N=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function j(e,t){var i,n=[],r=0,o=0,s="",a=t&&t.delimiter||"/";while(null!=(i=N.exec(e))){var c=i[0],l=i[1],h=i.index;if(s+=e.slice(o,h),o=h+c.length,l)s+=l[1];else{var u=e[o],d=i[2],p=i[3],f=i[4],m=i[5],v=i[6],g=i[7];s&&(n.push(s),s="");var y=null!=d&&null!=u&&u!==d,_="+"===v||"*"===v,b="?"===v||"*"===v,x=i[2]||a,w=f||m;n.push({name:p||r++,prefix:d||"",delimiter:x,optional:b,repeat:_,partial:y,asterisk:!!g,pattern:w?W(w):g?".*":"[^"+V(x)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&n.push(s),n}function H(e,t){return U(j(e,t))}function F(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function z(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function U(e){for(var t=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(t[i]=new RegExp("^(?:"+e[i].pattern+")$"));return function(i,n){for(var r="",o=i||{},s=n||{},a=s.pretty?F:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var h,u=o[l.name];if(null==u){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(R(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(h=a(u[d]),!t[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");r+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?z(u):a(u),!t[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');r+=l.prefix+h}}else r+=l}return r}}function V(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function W(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function G(e,t){return e.keys=t,e}function $(e){return e.sensitive?"":"i"}function q(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return G(e,t)}function X(e,t,i){for(var n=[],r=0;r<e.length;r++)n.push(J(e[r],t,i).source);var o=new RegExp("(?:"+n.join("|")+")",$(i));return G(o,t)}function Y(e,t,i){return Z(j(e,i),t,i)}function Z(e,t,i){R(t)||(i=t||i,t=[]),i=i||{};for(var n=i.strict,r=!1!==i.end,o="",s=0;s<e.length;s++){var a=e[s];if("string"===typeof a)o+=V(a);else{var c=V(a.prefix),l="(?:"+a.pattern+")";t.push(a),a.repeat&&(l+="(?:"+c+l+")*"),l=a.optional?a.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",o+=l}}var h=V(i.delimiter||"/"),u=o.slice(-h.length)===h;return n||(o=(u?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=r?"$":n&&u?"":"(?="+h+"|$)",G(new RegExp("^"+o,$(i)),t)}function J(e,t,i){return R(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?q(e,t):R(e)?X(e,t,i):Y(e,t,i)}k.parse=P,k.compile=D,k.tokensToFunction=I,k.tokensToRegExp=B;var K=Object.create(null);function Q(e,t,i){t=t||{};try{var n=K[e]||(K[e]=k.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),n(t,{pretty:!0})}catch(r){return""}finally{delete t[0]}}function ee(e,t,i,n){var r="string"===typeof e?{path:e}:e;if(r._normalized)return r;if(r.name){r=s({},e);var o=r.params;return o&&"object"===typeof o&&(r.params=s({},o)),r}if(!r.path&&r.params&&t){r=s({},r),r._normalized=!0;var a=s(s({},t.params),r.params);if(t.name)r.name=t.name,r.params=a;else if(t.matched.length){var c=t.matched[t.matched.length-1].path;r.path=Q(c,a,"path "+t.path)}else 0;return r}var l=L(r.path||""),h=t&&t.path||"/",u=l.path?A(l.path,h,i||r.append):h,d=m(l.query,r.query,n&&n.options.parseQuery),p=r.hash||l.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:u,query:d,hash:p}}var te,ie=[String,Object],ne=[String,Array],re=function(){},oe={name:"RouterLink",props:{to:{type:ie,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:ne,default:"click"}},render:function(e){var t=this,i=this.$router,n=this.$route,r=i.resolve(this.to,n,this.append),o=r.location,a=r.route,c=r.href,l={},h=i.options.linkActiveClass,u=i.options.linkExactActiveClass,d=null==h?"router-link-active":h,p=null==u?"router-link-exact-active":u,f=null==this.activeClass?d:this.activeClass,m=null==this.exactActiveClass?p:this.exactActiveClass,v=a.redirectedFrom?_(null,ee(a.redirectedFrom),null,i):a;l[m]=C(n,v),l[f]=this.exact?l[m]:E(n,v);var g=function(e){se(e)&&(t.replace?i.replace(o,re):i.push(o,re))},y={click:se};Array.isArray(this.event)?this.event.forEach((function(e){y[e]=g})):y[this.event]=g;var b={class:l},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:a,navigate:g,isActive:l[f],isExactActive:l[m]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?e():e("span",{},x)}if("a"===this.tag)b.on=y,b.attrs={href:c};else{var w=ae(this.$slots.default);if(w){w.isStatic=!1;var S=w.data=s({},w.data);for(var M in S.on=S.on||{},S.on){var T=S.on[M];M in y&&(S.on[M]=Array.isArray(T)?T:[T])}for(var A in y)A in S.on?S.on[A].push(y[A]):S.on[A]=g;var L=w.data.attrs=s({},w.data.attrs);L.href=c}else b.on=y}return e(this.tag,b,this.$slots.default)}};function se(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ae(e){if(e)for(var t,i=0;i<e.length;i++){if(t=e[i],"a"===t.tag)return t;if(t.children&&(t=ae(t.children)))return t}}function ce(e){if(!ce.installed||te!==e){ce.installed=!0,te=e;var t=function(e){return void 0!==e},i=function(e,i){var n=e.$options._parentVnode;t(n)&&t(n=n.data)&&t(n=n.registerRouteInstance)&&n(e,i)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,i(this,this)},destroyed:function(){i(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",a),e.component("RouterLink",oe);var n=e.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var le="undefined"!==typeof window;function he(e,t,i,n){var r=t||[],o=i||Object.create(null),s=n||Object.create(null);e.forEach((function(e){ue(r,o,s,e)}));for(var a=0,c=r.length;a<c;a++)"*"===r[a]&&(r.push(r.splice(a,1)[0]),c--,a--);return{pathList:r,pathMap:o,nameMap:s}}function ue(e,t,i,n,r,o){var s=n.path,a=n.name;var c=n.pathToRegexpOptions||{},l=pe(s,r,c.strict);"boolean"===typeof n.caseSensitive&&(c.sensitive=n.caseSensitive);var h={path:l,regex:de(l,c),components:n.components||{default:n.component},instances:{},name:a,parent:r,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach((function(n){var r=o?O(o+"/"+n.path):void 0;ue(e,t,i,n,h,r)})),t[h.path]||(e.push(h.path),t[h.path]=h),void 0!==n.alias)for(var u=Array.isArray(n.alias)?n.alias:[n.alias],d=0;d<u.length;++d){var p=u[d];0;var f={path:p,children:n.children};ue(e,t,i,f,r,h.path||"/")}a&&(i[a]||(i[a]=h))}function de(e,t){var i=k(e,[],t);return i}function pe(e,t,i){return i||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:O(t.path+"/"+e)}function fe(e,t){var i=he(e),n=i.pathList,r=i.pathMap,o=i.nameMap;function s(e){he(e,n,r,o)}function a(e,i,s){var a=ee(e,i,!1,t),c=a.name;if(c){var l=o[c];if(!l)return h(null,a);var u=l.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof a.params&&(a.params={}),i&&"object"===typeof i.params)for(var d in i.params)!(d in a.params)&&u.indexOf(d)>-1&&(a.params[d]=i.params[d]);return a.path=Q(l.path,a.params,'named route "'+c+'"'),h(l,a,s)}if(a.path){a.params={};for(var p=0;p<n.length;p++){var f=n[p],m=r[f];if(me(m.regex,a.path,a.params))return h(m,a,s)}}return h(null,a)}function c(e,i){var n=e.redirect,r="function"===typeof n?n(_(e,i,null,t)):n;if("string"===typeof r&&(r={path:r}),!r||"object"!==typeof r)return h(null,i);var s=r,c=s.name,l=s.path,u=i.query,d=i.hash,p=i.params;if(u=s.hasOwnProperty("query")?s.query:u,d=s.hasOwnProperty("hash")?s.hash:d,p=s.hasOwnProperty("params")?s.params:p,c){o[c];return a({_normalized:!0,name:c,query:u,hash:d,params:p},void 0,i)}if(l){var f=ve(l,e),m=Q(f,p,'redirect route with path "'+f+'"');return a({_normalized:!0,path:m,query:u,hash:d},void 0,i)}return h(null,i)}function l(e,t,i){var n=Q(i,t.params,'aliased route with path "'+i+'"'),r=a({_normalized:!0,path:n});if(r){var o=r.matched,s=o[o.length-1];return t.params=r.params,h(s,t)}return h(null,t)}function h(e,i,n){return e&&e.redirect?c(e,n||i):e&&e.matchAs?l(e,i,e.matchAs):_(e,i,n,t)}return{match:a,addRoutes:s}}function me(e,t,i){var n=t.match(e);if(!n)return!1;if(!i)return!0;for(var r=1,o=n.length;r<o;++r){var s=e.keys[r-1],a="string"===typeof n[r]?decodeURIComponent(n[r]):n[r];s&&(i[s.name||"pathMatch"]=a)}return!0}function ve(e,t){return A(e,t.parent?t.parent.path:"/",!0)}var ge=le&&window.performance&&window.performance.now?window.performance:Date;function ye(){return ge.now().toFixed(3)}var _e=ye();function be(){return _e}function xe(e){return _e=e}var we=Object.create(null);function Se(){var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),i=s({},window.history.state);i.key=be(),window.history.replaceState(i,"",t),window.addEventListener("popstate",(function(e){Me(),e.state&&e.state.key&&xe(e.state.key)}))}function Ce(e,t,i,n){if(e.app){var r=e.options.scrollBehavior;r&&e.app.$nextTick((function(){var o=Ee(),s=r.call(e,t,i,n?o:null);s&&("function"===typeof s.then?s.then((function(e){Pe(e,o)})).catch((function(e){0})):Pe(s,o))}))}}function Me(){var e=be();e&&(we[e]={x:window.pageXOffset,y:window.pageYOffset})}function Ee(){var e=be();if(e)return we[e]}function Te(e,t){var i=document.documentElement,n=i.getBoundingClientRect(),r=e.getBoundingClientRect();return{x:r.left-n.left-t.x,y:r.top-n.top-t.y}}function Ae(e){return Re(e.x)||Re(e.y)}function Le(e){return{x:Re(e.x)?e.x:window.pageXOffset,y:Re(e.y)?e.y:window.pageYOffset}}function Oe(e){return{x:Re(e.x)?e.x:0,y:Re(e.y)?e.y:0}}function Re(e){return"number"===typeof e}var ke=/^#\d/;function Pe(e,t){var i="object"===typeof e;if(i&&"string"===typeof e.selector){var n=ke.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(n){var r=e.offset&&"object"===typeof e.offset?e.offset:{};r=Oe(r),t=Te(n,r)}else Ae(e)&&(t=Le(e))}else i&&Ae(e)&&(t=Le(e));t&&window.scrollTo(t.x,t.y)}var De=le&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}();function Ie(e,t){Me();var i=window.history;try{if(t){var n=s({},i.state);n.key=be(),i.replaceState(n,"",e)}else i.pushState({key:xe(ye())},"",e)}catch(r){window.location[t?"replace":"assign"](e)}}function Be(e){Ie(e,!0)}function Ne(e,t,i){var n=function(r){r>=e.length?i():e[r]?t(e[r],(function(){n(r+1)})):n(r+1)};n(0)}function je(e){return function(t,i,n){var o=!1,s=0,a=null;He(e,(function(e,t,i,c){if("function"===typeof e&&void 0===e.cid){o=!0,s++;var l,h=Ve((function(t){Ue(t)&&(t=t.default),e.resolved="function"===typeof t?t:te.extend(t),i.components[c]=t,s--,s<=0&&n()})),u=Ve((function(e){var t="Failed to resolve async component "+c+": "+e;a||(a=r(e)?e:new Error(t),n(a))}));try{l=e(h,u)}catch(p){u(p)}if(l)if("function"===typeof l.then)l.then(h,u);else{var d=l.component;d&&"function"===typeof d.then&&d.then(h,u)}}})),o||n()}}function He(e,t){return Fe(e.map((function(e){return Object.keys(e.components).map((function(i){return t(e.components[i],e.instances[i],e,i)}))})))}function Fe(e){return Array.prototype.concat.apply([],e)}var ze="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Ue(e){return e.__esModule||ze&&"Module"===e[Symbol.toStringTag]}function Ve(e){var t=!1;return function(){var i=[],n=arguments.length;while(n--)i[n]=arguments[n];if(!t)return t=!0,e.apply(this,i)}}var We=function(e){function t(t){e.call(this),this.name=this._name="NavigationDuplicated",this.message='Navigating to current location ("'+t.fullPath+'") is not allowed',Object.defineProperty(this,"stack",{value:(new e).stack,writable:!0,configurable:!0})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);We._name="NavigationDuplicated";var Ge=function(e,t){this.router=e,this.base=$e(t),this.current=x,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function $e(e){if(!e)if(le){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function qe(e,t){var i,n=Math.max(e.length,t.length);for(i=0;i<n;i++)if(e[i]!==t[i])break;return{updated:t.slice(0,i),activated:t.slice(i),deactivated:e.slice(i)}}function Xe(e,t,i,n){var r=He(e,(function(e,n,r,o){var s=Ye(e,t);if(s)return Array.isArray(s)?s.map((function(e){return i(e,n,r,o)})):i(s,n,r,o)}));return Fe(n?r.reverse():r)}function Ye(e,t){return"function"!==typeof e&&(e=te.extend(e)),e.options[t]}function Ze(e){return Xe(e,"beforeRouteLeave",Ke,!0)}function Je(e){return Xe(e,"beforeRouteUpdate",Ke)}function Ke(e,t){if(t)return function(){return e.apply(t,arguments)}}function Qe(e,t,i){return Xe(e,"beforeRouteEnter",(function(e,n,r,o){return et(e,r,o,t,i)}))}function et(e,t,i,n,r){return function(o,s,a){return e(o,s,(function(e){"function"===typeof e&&n.push((function(){tt(e,t.instances,i,r)})),a(e)}))}}function tt(e,t,i,n){t[i]&&!t[i]._isBeingDestroyed?e(t[i]):n()&&setTimeout((function(){tt(e,t,i,n)}),16)}Ge.prototype.listen=function(e){this.cb=e},Ge.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},Ge.prototype.onError=function(e){this.errorCbs.push(e)},Ge.prototype.transitionTo=function(e,t,i){var n=this,r=this.router.match(e,this.current);this.confirmTransition(r,(function(){n.updateRoute(r),t&&t(r),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach((function(e){e(r)})))}),(function(e){i&&i(e),e&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach((function(t){t(e)})))}))},Ge.prototype.confirmTransition=function(e,t,i){var s=this,a=this.current,c=function(e){!o(We,e)&&r(e)&&(s.errorCbs.length?s.errorCbs.forEach((function(t){t(e)})):(n(!1,"uncaught error during route navigation:"),console.error(e))),i&&i(e)};if(C(e,a)&&e.matched.length===a.matched.length)return this.ensureURL(),c(new We(e));var l=qe(this.current.matched,e.matched),h=l.updated,u=l.deactivated,d=l.activated,p=[].concat(Ze(u),this.router.beforeHooks,Je(h),d.map((function(e){return e.beforeEnter})),je(d));this.pending=e;var f=function(t,i){if(s.pending!==e)return c();try{t(e,a,(function(e){!1===e||r(e)?(s.ensureURL(!0),c(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(c(),"object"===typeof e&&e.replace?s.replace(e):s.push(e)):i(e)}))}catch(n){c(n)}};Ne(p,f,(function(){var i=[],n=function(){return s.current===e},r=Qe(d,i,n),o=r.concat(s.router.resolveHooks);Ne(o,f,(function(){if(s.pending!==e)return c();s.pending=null,t(e),s.router.app&&s.router.app.$nextTick((function(){i.forEach((function(e){e()}))}))}))}))},Ge.prototype.updateRoute=function(e){var t=this.current;this.current=e,this.cb&&this.cb(e),this.router.afterHooks.forEach((function(i){i&&i(e,t)}))};var it=function(e){function t(t,i){var n=this;e.call(this,t,i);var r=t.options.scrollBehavior,o=De&&r;o&&Se();var s=nt(this.base);window.addEventListener("popstate",(function(e){var i=n.current,r=nt(n.base);n.current===x&&r===s||n.transitionTo(r,(function(e){o&&Ce(t,e,i,!0)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,i){var n=this,r=this,o=r.current;this.transitionTo(e,(function(e){Ie(O(n.base+e.fullPath)),Ce(n.router,e,o,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var n=this,r=this,o=r.current;this.transitionTo(e,(function(e){Be(O(n.base+e.fullPath)),Ce(n.router,e,o,!1),t&&t(e)}),i)},t.prototype.ensureURL=function(e){if(nt(this.base)!==this.current.fullPath){var t=O(this.base+this.current.fullPath);e?Ie(t):Be(t)}},t.prototype.getCurrentLocation=function(){return nt(this.base)},t}(Ge);function nt(e){var t=decodeURI(window.location.pathname);return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var rt=function(e){function t(t,i,n){e.call(this,t,i),n&&ot(this.base)||st()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this,t=this.router,i=t.options.scrollBehavior,n=De&&i;n&&Se(),window.addEventListener(De?"popstate":"hashchange",(function(){var t=e.current;st()&&e.transitionTo(at(),(function(i){n&&Ce(e.router,i,t,!0),De||ht(i.fullPath)}))}))},t.prototype.push=function(e,t,i){var n=this,r=this,o=r.current;this.transitionTo(e,(function(e){lt(e.fullPath),Ce(n.router,e,o,!1),t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var n=this,r=this,o=r.current;this.transitionTo(e,(function(e){ht(e.fullPath),Ce(n.router,e,o,!1),t&&t(e)}),i)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;at()!==t&&(e?lt(t):ht(t))},t.prototype.getCurrentLocation=function(){return at()},t}(Ge);function ot(e){var t=nt(e);if(!/^\/#/.test(t))return window.location.replace(O(e+"/#"+t)),!0}function st(){var e=at();return"/"===e.charAt(0)||(ht("/"+e),!1)}function at(){var e=window.location.href,t=e.indexOf("#");if(t<0)return"";e=e.slice(t+1);var i=e.indexOf("?");if(i<0){var n=e.indexOf("#");e=n>-1?decodeURI(e.slice(0,n))+e.slice(n):decodeURI(e)}else e=decodeURI(e.slice(0,i))+e.slice(i);return e}function ct(e){var t=window.location.href,i=t.indexOf("#"),n=i>=0?t.slice(0,i):t;return n+"#"+e}function lt(e){De?Ie(ct(e)):window.location.hash=e}function ht(e){De?Be(ct(e)):window.location.replace(ct(e))}var ut=function(e){function t(t,i){e.call(this,t,i),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,i){var n=this;this.transitionTo(e,(function(e){n.stack=n.stack.slice(0,n.index+1).concat(e),n.index++,t&&t(e)}),i)},t.prototype.replace=function(e,t,i){var n=this;this.transitionTo(e,(function(e){n.stack=n.stack.slice(0,n.index).concat(e),t&&t(e)}),i)},t.prototype.go=function(e){var t=this,i=this.index+e;if(!(i<0||i>=this.stack.length)){var n=this.stack[i];this.confirmTransition(n,(function(){t.index=i,t.updateRoute(n)}),(function(e){o(We,e)&&(t.index=i)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Ge),dt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=fe(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!De&&!1!==e.fallback,this.fallback&&(t="hash"),le||(t="abstract"),this.mode=t,t){case"history":this.history=new it(this,e.base);break;case"hash":this.history=new rt(this,e.base,this.fallback);break;case"abstract":this.history=new ut(this,e.base);break;default:0}},pt={currentRoute:{configurable:!0}};function ft(e,t){return e.push(t),function(){var i=e.indexOf(t);i>-1&&e.splice(i,1)}}function mt(e,t,i){var n="hash"===i?"#"+t:t;return e?O(e+"/"+n):n}dt.prototype.match=function(e,t,i){return this.matcher.match(e,t,i)},pt.currentRoute.get=function(){return this.history&&this.history.current},dt.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var i=t.apps.indexOf(e);i>-1&&t.apps.splice(i,1),t.app===e&&(t.app=t.apps[0]||null)})),!this.app){this.app=e;var i=this.history;if(i instanceof it)i.transitionTo(i.getCurrentLocation());else if(i instanceof rt){var n=function(){i.setupListeners()};i.transitionTo(i.getCurrentLocation(),n,n)}i.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},dt.prototype.beforeEach=function(e){return ft(this.beforeHooks,e)},dt.prototype.beforeResolve=function(e){return ft(this.resolveHooks,e)},dt.prototype.afterEach=function(e){return ft(this.afterHooks,e)},dt.prototype.onReady=function(e,t){this.history.onReady(e,t)},dt.prototype.onError=function(e){this.history.onError(e)},dt.prototype.push=function(e,t,i){var n=this;if(!t&&!i&&"undefined"!==typeof Promise)return new Promise((function(t,i){n.history.push(e,t,i)}));this.history.push(e,t,i)},dt.prototype.replace=function(e,t,i){var n=this;if(!t&&!i&&"undefined"!==typeof Promise)return new Promise((function(t,i){n.history.replace(e,t,i)}));this.history.replace(e,t,i)},dt.prototype.go=function(e){this.history.go(e)},dt.prototype.back=function(){this.go(-1)},dt.prototype.forward=function(){this.go(1)},dt.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},dt.prototype.resolve=function(e,t,i){t=t||this.history.current;var n=ee(e,t,i,this),r=this.match(n,t),o=r.redirectedFrom||r.fullPath,s=this.history.base,a=mt(s,o,this.mode);return{location:n,route:r,href:a,normalizedTo:n,resolved:r}},dt.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==x&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(dt.prototype,pt),dt.install=ce,dt.version="3.1.6",le&&window.Vue&&window.Vue.use(dt),t["a"]=dt},"8ce9":function(e,t,i){},"8d4f":function(e,t,i){},"8dd9":function(e,t,i){"use strict";i("25a8");var n=i("7e2b"),r=i("a9ad"),o=i("2b0e"),s=o["a"].extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation(){return this.elevation},elevationClasses(){const e=this.computedElevation;return null==e||isNaN(parseInt(e))?{}:{["elevation-"+this.elevation]:!0}}}}),a=i("24b2"),c=i("7560"),l=i("58df");t["a"]=Object(l["a"])(n["a"],r["a"],s,a["a"],c["a"]).extend({name:"v-sheet",props:{tag:{type:String,default:"div"},tile:Boolean},computed:{classes(){return{"v-sheet":!0,"v-sheet--tile":this.tile,...this.themeClasses,...this.elevationClasses}},styles(){return this.measurableStyles}},render(e){const t={class:this.classes,style:this.styles,on:this.listeners$};return e(this.tag,this.setBackgroundColor(this.color,t),this.$slots.default)}})},"8df4":function(e,t,i){"use strict";var n=i("7a77");function r(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new n(e),t(i.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e,t=new r((function(t){e=t}));return{token:t,cancel:e}},e.exports=r},"8efc":function(e,t,i){},"8ff2":function(e,t,i){},"90a2":function(e,t,i){"use strict";function n(e,t){const i=t.modifiers||{},n=t.value,{handler:o,options:s}="object"===typeof n?n:{handler:n,options:{}},a=new IntersectionObserver((t=[],n)=>{if(e._observe){if(o&&(!i.quiet||e._observe.init)){const e=Boolean(t.find(e=>e.isIntersecting));o(t,n,e)}e._observe.init&&i.once?r(e):e._observe.init=!0}},s);e._observe={init:!1,observer:a},a.observe(e)}function r(e){e._observe&&(e._observe.observer.unobserve(e),delete e._observe)}const o={inserted:n,unbind:r};t["a"]=o},"90e3":function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++i+n).toString(36)}},9112:function(e,t,i){var n=i("83ab"),r=i("9bf2"),o=i("5c6c");e.exports=n?function(e,t,i){return r.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},9263:function(e,t,i){"use strict";var n=i("ad6d"),r=i("9f7f"),o=RegExp.prototype.exec,s=String.prototype.replace,a=o,c=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,h=void 0!==/()??/.exec("")[1],u=c||h||l;u&&(a=function(e){var t,i,r,a,u=this,d=l&&u.sticky,p=n.call(u),f=u.source,m=0,v=e;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(e).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==e[u.lastIndex-1])&&(f="(?: "+f+")",v=" "+v,m++),i=new RegExp("^(?:"+f+")",p)),h&&(i=new RegExp("^"+f+"$(?!\\s)",p)),c&&(t=u.lastIndex),r=o.call(d?i:u,v),d?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=u.lastIndex,u.lastIndex+=r[0].length):u.lastIndex=0:c&&r&&(u.lastIndex=u.global?r.index+r[0].length:t),h&&r&&r.length>1&&s.call(r[0],i,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r}),e.exports=a},"94ca":function(e,t,i){var n=i("d039"),r=/#|\.prototype\./,o=function(e,t){var i=a[s(e)];return i==l||i!=c&&("function"==typeof t?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(r,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";e.exports=o},"95ed":function(e,t,i){},"96cf":function(e,t,i){var n=function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,i,n){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),s=new A(n||[]);return o._invoke=C(e,i,s),o}function l(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(n){return{type:"throw",arg:n}}}e.wrap=c;var h="suspendedStart",u="suspendedYield",d="executing",p="completed",f={};function m(){}function v(){}function g(){}var y={};y[o]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(L([])));b&&b!==i&&n.call(b,o)&&(y=b);var x=g.prototype=m.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function S(e,t){function i(r,o,s,a){var c=l(e[r],e,o);if("throw"!==c.type){var h=c.arg,u=h.value;return u&&"object"===typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(u).then((function(e){h.value=e,s(h)}),(function(e){return i("throw",e,s,a)}))}a(c.arg)}var r;function o(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}this._invoke=o}function C(e,t,i){var n=h;return function(r,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===r)throw o;return O()}i.method=r,i.arg=o;while(1){var s=i.delegate;if(s){var a=M(s,i);if(a){if(a===f)continue;return a}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=d;var c=l(e,t,i);if("normal"===c.type){if(n=i.done?p:u,c.arg===f)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n=p,i.method="throw",i.arg=c.arg)}}}function M(e,i){var n=e.iterator[i.method];if(n===t){if(i.delegate=null,"throw"===i.method){if(e.iterator["return"]&&(i.method="return",i.arg=t,M(e,i),"throw"===i.method))return f;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,i.arg);if("throw"===r.type)return i.method="throw",i.arg=r.arg,i.delegate=null,f;var o=r.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,f):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var i=e[o];if(i)return i.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function i(){while(++r<e.length)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return s.next=s}}return{next:O}}function O(){return{value:t,done:!0}}return v.prototype=x.constructor=g,g.constructor=v,g[a]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(S.prototype),S.prototype[s]=function(){return this},e.AsyncIterator=S,e.async=function(t,i,n,r,o){void 0===o&&(o=Promise);var s=new S(c(t,i,n,r),o);return e.isGeneratorFunction(i)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(x),x[a]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){while(t.length){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=L,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return a.type="throw",a.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),T(i),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;T(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:L(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=n}catch(r){Function("r","regeneratorRuntime = r")(n)}},"99d9":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return s})),i.d(t,"c",(function(){return a})),i.d(t,"d",(function(){return c}));var n=i("b0af"),r=i("80d2");const o=Object(r["h"])("v-card__actions"),s=Object(r["h"])("v-card__subtitle"),a=Object(r["h"])("v-card__text"),c=Object(r["h"])("v-card__title");n["a"]},"9a0c":function(e,t,i){var n=i("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},"9bdd":function(e,t,i){var n=i("825a");e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(s){var o=e["return"];throw void 0!==o&&n(o.call(e)),s}}},"9bf2":function(e,t,i){var n=i("83ab"),r=i("0cfb"),o=i("825a"),s=i("c04e"),a=Object.defineProperty;t.f=n?a:function(e,t,i){if(o(e),t=s(t,!0),o(i),r)try{return a(e,t,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},"9d01":function(e,t,i){},"9d26":function(e,t,i){"use strict";var n=i("132d");t["a"]=n["a"]},"9d65":function(e,t,i){"use strict";var n=i("d9bd"),r=i("2b0e");t["a"]=r["a"].extend().extend({name:"bootable",props:{eager:Boolean},data:()=>({isBooted:!1}),computed:{hasContent(){return this.isBooted||this.eager||this.isActive}},watch:{isActive(){this.isBooted=!0}},created(){"lazy"in this.$attrs&&Object(n["d"])("lazy",this)},methods:{showLazyContent(e){return this.hasContent&&e?e():[this.$createElement()]}}})},"9e29":function(e,t,i){},"9ed3":function(e,t,i){"use strict";var n=i("ae93").IteratorPrototype,r=i("7c73"),o=i("5c6c"),s=i("d44e"),a=i("3f8c"),c=function(){return this};e.exports=function(e,t,i){var l=t+" Iterator";return e.prototype=r(n,{next:o(1,i)}),s(e,l,!1,!0),a[l]=c,e}},"9f7f":function(e,t,i){"use strict";var n=i("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a15b:function(e,t,i){"use strict";var n=i("23e7"),r=i("44ad"),o=i("fc6a"),s=i("a640"),a=[].join,c=r!=Object,l=s("join",",");n({target:"Array",proto:!0,forced:c||!l},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},a293:function(e,t,i){"use strict";function n(){return!1}function r(e,t,i){i.args=i.args||{};const r=i.args.closeConditional||n;if(!e||!1===r(e))return;if("isTrusted"in e&&!e.isTrusted||"pointerType"in e&&!e.pointerType)return;const o=(i.args.include||(()=>[]))();o.push(t),!o.some(t=>t.contains(e.target))&&setTimeout(()=>{r(e)&&i.value&&i.value(e)},0)}const o={inserted(e,t){const i=i=>r(i,e,t),n=document.querySelector("[data-app]")||document.body;n.addEventListener("click",i,!0),e._clickOutside=i},unbind(e){if(!e._clickOutside)return;const t=document.querySelector("[data-app]")||document.body;t&&t.removeEventListener("click",e._clickOutside,!0),delete e._clickOutside}};t["a"]=o},a452:function(e,t,i){"use strict";var n=i("2b0e");function r(e="value",t="change"){return n["a"].extend({name:"proxyable",model:{prop:e,event:t},props:{[e]:{required:!1}},data(){return{internalLazyValue:this[e]}},computed:{internalValue:{get(){return this.internalLazyValue},set(e){e!==this.internalLazyValue&&(this.internalLazyValue=e,this.$emit(t,e))}}},watch:{[e](e){this.internalLazyValue=e}}})}const o=r();t["a"]=o},a4d3:function(e,t,i){"use strict";var n=i("23e7"),r=i("da84"),o=i("d066"),s=i("c430"),a=i("83ab"),c=i("4930"),l=i("fdbf"),h=i("d039"),u=i("5135"),d=i("e8b5"),p=i("861d"),f=i("825a"),m=i("7b0b"),v=i("fc6a"),g=i("c04e"),y=i("5c6c"),_=i("7c73"),b=i("df75"),x=i("241c"),w=i("057f"),S=i("7418"),C=i("06cf"),M=i("9bf2"),E=i("d1e7"),T=i("9112"),A=i("6eeb"),L=i("5692"),O=i("f772"),R=i("d012"),k=i("90e3"),P=i("b622"),D=i("e538"),I=i("746f"),B=i("d44e"),N=i("69f3"),j=i("b727").forEach,H=O("hidden"),F="Symbol",z="prototype",U=P("toPrimitive"),V=N.set,W=N.getterFor(F),G=Object[z],$=r.Symbol,q=o("JSON","stringify"),X=C.f,Y=M.f,Z=w.f,J=E.f,K=L("symbols"),Q=L("op-symbols"),ee=L("string-to-symbol-registry"),te=L("symbol-to-string-registry"),ie=L("wks"),ne=r.QObject,re=!ne||!ne[z]||!ne[z].findChild,oe=a&&h((function(){return 7!=_(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,i){var n=X(G,t);n&&delete G[t],Y(e,t,i),n&&e!==G&&Y(G,t,n)}:Y,se=function(e,t){var i=K[e]=_($[z]);return V(i,{type:F,tag:e,description:t}),a||(i.description=t),i},ae=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof $},ce=function(e,t,i){e===G&&ce(Q,t,i),f(e);var n=g(t,!0);return f(i),u(K,n)?(i.enumerable?(u(e,H)&&e[H][n]&&(e[H][n]=!1),i=_(i,{enumerable:y(0,!1)})):(u(e,H)||Y(e,H,y(1,{})),e[H][n]=!0),oe(e,n,i)):Y(e,n,i)},le=function(e,t){f(e);var i=v(t),n=b(i).concat(fe(i));return j(n,(function(t){a&&!ue.call(i,t)||ce(e,t,i[t])})),e},he=function(e,t){return void 0===t?_(e):le(_(e),t)},ue=function(e){var t=g(e,!0),i=J.call(this,t);return!(this===G&&u(K,t)&&!u(Q,t))&&(!(i||!u(this,t)||!u(K,t)||u(this,H)&&this[H][t])||i)},de=function(e,t){var i=v(e),n=g(t,!0);if(i!==G||!u(K,n)||u(Q,n)){var r=X(i,n);return!r||!u(K,n)||u(i,H)&&i[H][n]||(r.enumerable=!0),r}},pe=function(e){var t=Z(v(e)),i=[];return j(t,(function(e){u(K,e)||u(R,e)||i.push(e)})),i},fe=function(e){var t=e===G,i=Z(t?Q:v(e)),n=[];return j(i,(function(e){!u(K,e)||t&&!u(G,e)||n.push(K[e])})),n};if(c||($=function(){if(this instanceof $)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=k(e),i=function(e){this===G&&i.call(Q,e),u(this,H)&&u(this[H],t)&&(this[H][t]=!1),oe(this,t,y(1,e))};return a&&re&&oe(G,t,{configurable:!0,set:i}),se(t,e)},A($[z],"toString",(function(){return W(this).tag})),A($,"withoutSetter",(function(e){return se(k(e),e)})),E.f=ue,M.f=ce,C.f=de,x.f=w.f=pe,S.f=fe,D.f=function(e){return se(P(e),e)},a&&(Y($[z],"description",{configurable:!0,get:function(){return W(this).description}}),s||A(G,"propertyIsEnumerable",ue,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:$}),j(b(ie),(function(e){I(e)})),n({target:F,stat:!0,forced:!c},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var i=$(t);return ee[t]=i,te[i]=t,i},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!a},{create:he,defineProperty:ce,defineProperties:le,getOwnPropertyDescriptor:de}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pe,getOwnPropertySymbols:fe}),n({target:"Object",stat:!0,forced:h((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),q){var me=!c||h((function(){var e=$();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}));n({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,i){var n,r=[e],o=1;while(arguments.length>o)r.push(arguments[o++]);if(n=t,(p(t)||void 0!==e)&&!ae(e))return d(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ae(t))return t}),r[1]=t,q.apply(null,r)}})}$[z][U]||T($[z],U,$[z].valueOf),B($,F),R[H]=!0},a523:function(e,t,i){"use strict";i("20f6"),i("4b85");var n=i("2b0e");function r(e){return n["a"].extend({name:"v-"+e,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(t,{props:i,data:n,children:r}){n.staticClass=`${e} ${n.staticClass||""}`.trim();const{attrs:o}=n;if(o){n.attrs={};const e=Object.keys(o).filter(e=>{if("slot"===e)return!1;const t=o[e];return e.startsWith("data-")?(n.attrs[e]=t,!1):t||"string"===typeof t});e.length&&(n.staticClass+=" "+e.join(" "))}return i.id&&(n.domProps=n.domProps||{},n.domProps.id=i.id),t(i.tag,n,r)}})}var o=i("d9f7");t["a"]=r("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(e,{props:t,data:i,children:n}){let r;const{attrs:s}=i;return s&&(i.attrs={},r=Object.keys(s).filter(e=>{if("slot"===e)return!1;const t=s[e];return e.startsWith("data-")?(i.attrs[e]=t,!1):t||"string"===typeof t})),t.id&&(i.domProps=i.domProps||{},i.domProps.id=t.id),e(t.tag,Object(o["a"])(i,{staticClass:"container",class:Array({"container--fluid":t.fluid}).concat(r||[])}),n)}})},a630:function(e,t,i){var n=i("23e7"),r=i("4df4"),o=i("1c7e"),s=!o((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:s},{from:r})},a640:function(e,t,i){"use strict";var n=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},a75b:function(e,t,i){"use strict";i("daaf");var n=i("d10f");t["a"]=n["a"].extend({name:"v-content",props:{tag:{type:String,default:"main"}},computed:{styles(){const{bar:e,top:t,right:i,footer:n,insetFooter:r,bottom:o,left:s}=this.$vuetify.application;return{paddingTop:t+e+"px",paddingRight:i+"px",paddingBottom:n+r+o+"px",paddingLeft:s+"px"}}},render(e){const t={staticClass:"v-content",style:this.styles,ref:"content"};return e(this.tag,t,[e("div",{staticClass:"v-content__wrap"},this.$slots.default)])}})},a79d:function(e,t,i){"use strict";var n=i("23e7"),r=i("c430"),o=i("fea9"),s=i("d039"),a=i("d066"),c=i("4840"),l=i("cdf9"),h=i("6eeb"),u=!!o&&s((function(){o.prototype["finally"].call({then:function(){}},(function(){}))}));n({target:"Promise",proto:!0,real:!0,forced:u},{finally:function(e){var t=c(this,a("Promise")),i="function"==typeof e;return this.then(i?function(i){return l(t,e()).then((function(){return i}))}:e,i?function(i){return l(t,e()).then((function(){throw i}))}:e)}}),r||"function"!=typeof o||o.prototype["finally"]||h(o.prototype,"finally",a("Promise").prototype["finally"])},a9ad:function(e,t,i){"use strict";var n=i("2b0e"),r=i("d9bd");function o(e){return!!e&&!!e.match(/^(#|var\(--|(rgb|hsl)a?\()/)}t["a"]=n["a"].extend({name:"colorable",props:{color:String},methods:{setBackgroundColor(e,t={}){return"string"===typeof t.style?(Object(r["b"])("style must be an object",this),t):"string"===typeof t.class?(Object(r["b"])("class must be an object",this),t):(o(e)?t.style={...t.style,"background-color":""+e,"border-color":""+e}:e&&(t.class={...t.class,[e]:!0}),t)},setTextColor(e,t={}){if("string"===typeof t.style)return Object(r["b"])("style must be an object",this),t;if("string"===typeof t.class)return Object(r["b"])("class must be an object",this),t;if(o(e))t.style={...t.style,color:""+e,"caret-color":""+e};else if(e){const[i,n]=e.toString().trim().split(" ",2);t.class={...t.class,[i+"--text"]:!0},n&&(t.class["text--"+n]=!0)}return t}}})},ac1f:function(e,t,i){"use strict";var n=i("23e7"),r=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad42:function(e,t){const i=/[&<>"']/,n=/[&<>"']/g,r=/[<>"']|&(?!#?\w+;)/,o=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=e=>s[e];function c(e,t){if(t){if(i.test(e))return e.replace(n,a)}else if(r.test(e))return e.replace(o,a);return e}const l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(e){return e.replace(l,(e,t)=>(t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const u=/(^|[^\[])\^/g;function d(e,t){e=e.source||e,t=t||"";const i={replace:(t,n)=>(n=n.source||n,n=n.replace(u,"$1"),e=e.replace(t,n),i),getRegex:()=>new RegExp(e,t)};return i}const p=/[^\w:]/g,f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(e,t,i){if(e){let e;try{e=decodeURIComponent(h(i)).replace(p,"").toLowerCase()}catch(n){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!f.test(i)&&(i=b(t,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(n){return null}return i}const v={},g=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,_=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(e,t){v[" "+e]||(g.test(e)?v[" "+e]=e+"/":v[" "+e]=C(e,"/",!0)),e=v[" "+e];const i=-1===e.indexOf(":");return"//"===t.substring(0,2)?i?t:e.replace(y,"$1")+t:"/"===t.charAt(0)?i?t:e.replace(_,"$1")+t:e+t}const x={exec:function(){}};function w(e){let t,i,n=1;for(;n<arguments.length;n++)for(i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}function S(e,t){const i=e.replace(/\|/g,(e,t,i)=>{let n=!1,r=t;while(--r>=0&&"\\"===i[r])n=!n;return n?"|":" |"}),n=i.split(/ \|/);let r=0;if(n.length>t)n.splice(t);else while(n.length<t)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function C(e,t,i){const n=e.length;if(0===n)return"";let r=0;while(r<n){const o=e.charAt(n-r-1);if(o!==t||i){if(o===t||!i)break;r++}else r++}return e.substr(0,n-r)}function M(e,t){if(-1===e.indexOf(t[1]))return-1;const i=e.length;let n=0,r=0;for(;r<i;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return-1}function E(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}e.exports={escape:c,unescape:h,edit:d,cleanUrl:m,resolveUrl:b,noopTest:x,merge:w,splitCells:S,rtrim:C,findClosingBracket:M,checkSanitizeDeprecation:E}},ad6d:function(e,t,i){"use strict";var n=i("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},adda:function(e,t,i){"use strict";i("8efc");var n=i("90a2"),r=(i("36a7"),i("24b2")),o=i("58df"),s=Object(o["a"])(r["a"]).extend({name:"v-responsive",props:{aspectRatio:[String,Number]},computed:{computedAspectRatio(){return Number(this.aspectRatio)},aspectStyle(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-responsive__content"},this.$slots.default)}},render(e){return e("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),a=s,c=i("d9bd");const l="undefined"!==typeof window&&"IntersectionObserver"in window;t["a"]=a.extend({name:"v-img",directives:{intersect:n["a"]},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0}},computed:{computedAspectRatio(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc(){return"string"===typeof this.src?{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}:{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}},__cachedImage(){if(!this.normalisedSrc.src&&!this.normalisedSrc.lazySrc)return[];const e=[],t=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&e.push(`linear-gradient(${this.gradient})`),t&&e.push(`url("${t}")`);const i=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:e.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[i]):i}},watch:{src(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted(){this.init()},methods:{init(e,t,i){if(!l||i||this.eager){if(this.normalisedSrc.lazySrc){const e=new Image;e.src=this.normalisedSrc.lazySrc,this.pollForSize(e,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src)},onError(){Object(c["b"])("Image load failed\n\nsrc: "+this.normalisedSrc.src,this),this.$emit("error",this.src)},getSrc(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage(){const e=new Image;this.image=e,e.onload=()=>{e.decode?e.decode().catch(e=>{Object(c["c"])("Failed to decode image, trying to render anyway\n\nsrc: "+this.normalisedSrc.src+(e.message?"\nOriginal error: "+e.message:""),this)}).then(this.onLoad):this.onLoad()},e.onerror=this.onError,e.src=this.normalisedSrc.src,this.sizes&&(e.sizes=this.sizes),this.normalisedSrc.srcset&&(e.srcset=this.normalisedSrc.srcset),this.aspectRatio||this.pollForSize(e),this.getSrc()},pollForSize(e,t=100){const i=()=>{const{naturalHeight:n,naturalWidth:r}=e;n||r?(this.naturalWidth=r,this.calculatedAspectRatio=r/n):null!=t&&setTimeout(i,t)};i()},genContent(){const e=a.options.methods.genContent.call(this);return this.naturalWidth&&this._b(e.data,"div",{style:{width:this.naturalWidth+"px"}}),e},__genPlaceholder(){if(this.$slots.placeholder){const e=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},this.$slots.placeholder)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},e):e[0]}}},render(e){const t=a.options.render.call(this,e);return t.data.staticClass+=" v-image",l&&(t.data.directives=[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]),t.data.attrs={role:this.alt?"img":void 0,"aria-label":this.alt},t.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],e(t.tag,t.data,t.children)}})},ae40:function(e,t,i){var n=i("83ab"),r=i("d039"),o=i("5135"),s=Object.defineProperty,a={},c=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var i=[][e],l=!!o(t,"ACCESSORS")&&t.ACCESSORS,h=o(t,0)?t[0]:c,u=o(t,1)?t[1]:void 0;return a[e]=!!i&&!r((function(){if(l&&!n)return!0;var e={length:-1};l?s(e,1,{enumerable:!0,get:c}):e[1]=1,i.call(e,h,u)}))}},ae93:function(e,t,i){"use strict";var n,r,o,s=i("e163"),a=i("9112"),c=i("5135"),l=i("b622"),h=i("c430"),u=l("iterator"),d=!1,p=function(){return this};[].keys&&(o=[].keys(),"next"in o?(r=s(s(o)),r!==Object.prototype&&(n=r)):d=!0),void 0==n&&(n={}),h||c(n,u)||a(n,u,p),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},af2b:function(e,t,i){"use strict";var n=i("2b0e");t["a"]=n["a"].extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},afdd:function(e,t,i){"use strict";var n=i("8336");t["a"]=n["a"]},b041:function(e,t,i){"use strict";var n=i("00ee"),r=i("f5df");e.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},b0af:function(e,t,i){"use strict";i("615b");var n=i("10d2"),r=i("297c"),o=i("1c87"),s=i("58df");t["a"]=Object(s["a"])(r["a"],o["a"],n["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},outlined:Boolean,raised:Boolean,shaped:Boolean},computed:{classes(){return{"v-card":!0,...o["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--outlined":this.outlined,"v-card--raised":this.raised,"v-card--shaped":this.shaped,...n["a"].options.computed.classes.call(this)}},styles(){const e={...n["a"].options.computed.styles.call(this)};return this.img&&(e.background=`url("${this.img}") center center / cover no-repeat`),e}},methods:{genProgress(){const e=r["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render(e){const{tag:t,data:i}=this.generateRouteLink();return i.style=this.styles,this.isClickable&&(i.attrs=i.attrs||{},i.attrs.tabindex=0),e(t,this.setBackgroundColor(this.color,i),[this.genProgress(),this.$slots.default])}})},b0c0:function(e,t,i){var n=i("83ab"),r=i("9bf2").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,c="name";n&&!(c in o)&&r(o,c,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},b50d:function(e,t,i){"use strict";var n=i("c532"),r=i("467f"),o=i("30b5"),s=i("83b9"),a=i("c345"),c=i("3934"),l=i("2d83");e.exports=function(e){return new Promise((function(t,h){var u=e.data,d=e.headers;n.isFormData(u)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=e.auth.password||"";d.Authorization="Basic "+btoa(f+":"+m)}var v=s(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n=e.responseType&&"text"!==e.responseType?p.response:p.responseText,o={data:n,status:p.status,statusText:p.statusText,headers:i,config:e,request:p};r(t,h,o),p=null}},p.onabort=function(){p&&(h(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){h(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),h(l(t,e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var g=i("7aac"),y=(e.withCredentials||c(v))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;y&&(d[e.xsrfHeaderName]=y)}if("setRequestHeader"in p&&n.forEach(d,(function(e,t){"undefined"===typeof u&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(_){if("json"!==e.responseType)throw _}"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),h(e),p=null)})),void 0===u&&(u=null),p.send(u)}))}},b575:function(e,t,i){var n,r,o,s,a,c,l,h,u=i("da84"),d=i("06cf").f,p=i("c6b6"),f=i("2cf4").set,m=i("1cdc"),v=u.MutationObserver||u.WebKitMutationObserver,g=u.process,y=u.Promise,_="process"==p(g),b=d(u,"queueMicrotask"),x=b&&b.value;x||(n=function(){var e,t;_&&(e=g.domain)&&e.exit();while(r){t=r.fn,r=r.next;try{t()}catch(i){throw r?s():o=void 0,i}}o=void 0,e&&e.enter()},_?s=function(){g.nextTick(n)}:v&&!m?(a=!0,c=document.createTextNode(""),new v(n).observe(c,{characterData:!0}),s=function(){c.data=a=!a}):y&&y.resolve?(l=y.resolve(void 0),h=l.then,s=function(){h.call(l,n)}):s=function(){f.call(u,n)}),e.exports=x||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,s()),o=t}},b622:function(e,t,i){var n=i("da84"),r=i("5692"),o=i("5135"),s=i("90e3"),a=i("4930"),c=i("fdbf"),l=r("wks"),h=n.Symbol,u=c?h:h&&h.withoutSetter||s;e.exports=function(e){return o(l,e)||(a&&o(h,e)?l[e]=h[e]:l[e]=u("Symbol."+e)),l[e]}},b727:function(e,t,i){var n=i("0366"),r=i("44ad"),o=i("7b0b"),s=i("50c4"),a=i("65f0"),c=[].push,l=function(e){var t=1==e,i=2==e,l=3==e,h=4==e,u=6==e,d=5==e||u;return function(p,f,m,v){for(var g,y,_=o(p),b=r(_),x=n(f,m,3),w=s(b.length),S=0,C=v||a,M=t?C(p,w):i?C(p,0):void 0;w>S;S++)if((d||S in b)&&(g=b[S],y=x(g,S,_),e))if(t)M[S]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:c.call(M,g)}else if(h)return!1;return u?-1:l||h?h:M}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},b73d:function(e,t,i){"use strict";i("ec29"),i("9d01");var n=i("fe09"),r=i("c37a"),o=i("c3f0"),s=i("0789"),a=i("490a"),c=i("80d2");t["a"]=n["a"].extend({name:"v-switch",directives:{Touch:o["a"]},props:{inset:Boolean,loading:{type:[Boolean,String],default:!1},flat:{type:Boolean,default:!1}},computed:{classes(){return{...r["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--switch":!0,"v-input--switch--flat":this.flat,"v-input--switch--inset":this.inset}},attrs(){return{"aria-checked":String(this.isActive),"aria-disabled":String(this.disabled),role:"switch"}},validationState(){return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0},switchData(){return this.setTextColor(this.loading?void 0:this.validationState,{class:this.themeClasses})}},methods:{genDefaultSlot(){return[this.genSwitch(),this.genLabel()]},genSwitch(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.genInput("checkbox",{...this.attrs,...this.attrs$}),this.genRipple(this.setTextColor(this.validationState,{directives:[{name:"touch",value:{left:this.onSwipeLeft,right:this.onSwipeRight}}]})),this.$createElement("div",{staticClass:"v-input--switch__track",...this.switchData}),this.$createElement("div",{staticClass:"v-input--switch__thumb",...this.switchData},[this.genProgress()])])},genProgress(){return this.$createElement(s["c"],{},[!1===this.loading?null:this.$slots.progress||this.$createElement(a["a"],{props:{color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,size:16,width:2,indeterminate:!0}})])},onSwipeLeft(){this.isActive&&this.onChange()},onSwipeRight(){this.isActive||this.onChange()},onKeydown(e){(e.keyCode===c["r"].left&&this.isActive||e.keyCode===c["r"].right&&!this.isActive)&&this.onChange()}}})},b848:function(e,t,i){"use strict";var n=i("58df");function r(e){const t=[];for(let i=0;i<e.length;i++){const n=e[i];n.isActive&&n.isDependent?t.push(n):t.push(...r(n.$children))}return t}t["a"]=Object(n["a"])().extend({name:"dependent",data(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive(e){if(e)return;const t=this.getOpenDependents();for(let i=0;i<t.length;i++)t[i].isActive=!1}},methods:{getOpenDependents(){return this.closeDependents?r(this.$children):[]},getOpenDependentElements(){const e=[],t=this.getOpenDependents();for(let i=0;i<t.length;i++)e.push(...t[i].getClickableDependentElements());return e},getClickableDependentElements(){const e=[this.$el];return this.$refs.content&&e.push(this.$refs.content),this.overlay&&e.push(this.overlay.$el),e.push(...this.getOpenDependentElements()),e}}})},b974:function(e,t,i){"use strict";i("4ff9"),i("68dd"),i("8adc");var n=i("58df"),r=i("0789"),o=i("9d26"),s=i("a9ad"),a=i("4e82"),c=i("7560"),l=i("f2e7"),h=i("1c87"),u=i("af2b"),d=i("d9bd"),p=Object(n["a"])(s["a"],u["a"],h["a"],c["a"],Object(a["a"])("chipGroup"),Object(l["b"])("inputValue")).extend({name:"v-chip",props:{active:{type:Boolean,default:!0},activeClass:{type:String,default(){return this.chipGroup?this.chipGroup.activeClass:""}},close:Boolean,closeIcon:{type:String,default:"$delete"},disabled:Boolean,draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,outlined:Boolean,pill:Boolean,tag:{type:String,default:"span"},textColor:String,value:null},data:()=>({proxyClass:"v-chip--active"}),computed:{classes(){return{"v-chip":!0,...h["a"].options.computed.classes.call(this),"v-chip--clickable":this.isClickable,"v-chip--disabled":this.disabled,"v-chip--draggable":this.draggable,"v-chip--label":this.label,"v-chip--link":this.isLink,"v-chip--no-color":!this.color,"v-chip--outlined":this.outlined,"v-chip--pill":this.pill,"v-chip--removable":this.hasClose,...this.themeClasses,...this.sizeableClasses,...this.groupClasses}},hasClose(){return Boolean(this.close)},isClickable(){return Boolean(h["a"].options.computed.isClickable.call(this)||this.chipGroup)}},created(){const e=[["outline","outlined"],["selected","input-value"],["value","active"],["@input","@active.sync"]];e.forEach(([e,t])=>{this.$attrs.hasOwnProperty(e)&&Object(d["a"])(e,t,this)})},methods:{click(e){this.$emit("click",e),this.chipGroup&&this.toggle()},genFilter(){const e=[];return this.isActive&&e.push(this.$createElement(o["a"],{staticClass:"v-chip__filter",props:{left:!0}},this.filterIcon)),this.$createElement(r["b"],e)},genClose(){return this.$createElement(o["a"],{staticClass:"v-chip__close",props:{right:!0,size:18},on:{click:e=>{e.stopPropagation(),e.preventDefault(),this.$emit("click:close"),this.$emit("update:active",!1)}}},this.closeIcon)},genContent(){return this.$createElement("span",{staticClass:"v-chip__content"},[this.filter&&this.genFilter(),this.$slots.default,this.hasClose&&this.genClose()])}},render(e){const t=[this.genContent()];let{tag:i,data:n}=this.generateRouteLink();n.attrs={...n.attrs,draggable:this.draggable?"true":void 0,tabindex:this.chipGroup&&!this.disabled?0:n.attrs.tabindex},n.directives.push({name:"show",value:this.active}),n=this.setBackgroundColor(this.color,n);const r=this.textColor||this.outlined&&this.color;return e(i,this.setTextColor(r,n),t)}}),f=p,m=(i("ee6f"),i("480e")),v=i("4ad4"),g=i("16b7"),y=i("b848"),_=i("75eb"),b=i("fe6c"),x=i("21be"),w=i("80d2");const S=Object(n["a"])(x["a"],b["a"],v["a"]);var C=S.extend().extend({name:"menuable",props:{allowOverflow:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[Number,String],default:"auto"},minWidth:[Number,String],nudgeBottom:{type:[Number,String],default:0},nudgeLeft:{type:[Number,String],default:0},nudgeRight:{type:[Number,String],default:0},nudgeTop:{type:[Number,String],default:0},nudgeWidth:{type:[Number,String],default:0},offsetOverflow:Boolean,openOnClick:Boolean,positionX:{type:Number,default:null},positionY:{type:Number,default:null},zIndex:{type:[Number,String],default:null}},data:()=>({absoluteX:0,absoluteY:0,activatedBy:null,activatorFixed:!1,dimensions:{activator:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0,offsetLeft:0},content:{top:0,left:0,bottom:0,right:0,width:0,height:0,offsetTop:0,scrollHeight:0}},hasJustFocused:!1,hasWindow:!1,inputActivator:!1,isContentActive:!1,pageWidth:0,pageYOffset:0,stackClass:"v-menu__content--active",stackMinZIndex:6}),computed:{computedLeft(){const e=this.dimensions.activator,t=this.dimensions.content,i=(!1!==this.attach?e.offsetLeft:e.left)||0,n=Math.max(e.width,t.width);let r=0;if(r+=this.left?i-(n-e.width):i,this.offsetX){const t=isNaN(Number(this.maxWidth))?e.width:Math.min(e.width,Number(this.maxWidth));r+=this.left?-t:e.width}return this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),r},computedTop(){const e=this.dimensions.activator,t=this.dimensions.content;let i=0;return this.top&&(i+=e.height-t.height),!1!==this.attach?i+=e.offsetTop:i+=e.top+this.pageYOffset,this.offsetY&&(i+=this.top?-e.height:e.height),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),i},hasActivator(){return!!this.$slots.activator||!!this.$scopedSlots.activator||!!this.activator||!!this.inputActivator}},watch:{disabled(e){e&&this.callDeactivate()},isActive(e){this.disabled||(e?this.callActivate():this.callDeactivate())},positionX:"updateDimensions",positionY:"updateDimensions"},beforeMount(){this.hasWindow="undefined"!==typeof window},methods:{absolutePosition(){return{offsetTop:0,offsetLeft:0,scrollHeight:0,top:this.positionY||this.absoluteY,bottom:this.positionY||this.absoluteY,left:this.positionX||this.absoluteX,right:this.positionX||this.absoluteX,height:0,width:0}},activate(){},calcLeft(e){return Object(w["f"])(!1!==this.attach?this.computedLeft:this.calcXOverflow(this.computedLeft,e))},calcTop(){return Object(w["f"])(!1!==this.attach?this.computedTop:this.calcYOverflow(this.computedTop))},calcXOverflow(e,t){const i=e+t-this.pageWidth+12;return e=(!this.left||this.right)&&i>0?Math.max(e-i,0):Math.max(e,12),e+this.getOffsetLeft()},calcYOverflow(e){const t=this.getInnerHeight(),i=this.pageYOffset+t,n=this.dimensions.activator,r=this.dimensions.content.height,o=e+r,s=i<o;return s&&this.offsetOverflow&&n.top>r?e=this.pageYOffset+(n.top-r):s&&!this.allowOverflow?e=i-r-12:e<this.pageYOffset&&!this.allowOverflow&&(e=this.pageYOffset+12),e<12?12:e},callActivate(){this.hasWindow&&this.activate()},callDeactivate(){this.isContentActive=!1,this.deactivate()},checkForPageYOffset(){this.hasWindow&&(this.pageYOffset=this.activatorFixed?0:this.getOffsetTop())},checkActivatorFixed(){if(!1!==this.attach)return;let e=this.getActivator();while(e){if("fixed"===window.getComputedStyle(e).position)return void(this.activatorFixed=!0);e=e.offsetParent}this.activatorFixed=!1},deactivate(){},genActivatorListeners(){const e=v["a"].options.methods.genActivatorListeners.call(this),t=e.click;return e.click=e=>{this.openOnClick&&t&&t(e),this.absoluteX=e.clientX,this.absoluteY=e.clientY},e},getInnerHeight(){return this.hasWindow?window.innerHeight||document.documentElement.clientHeight:0},getOffsetLeft(){return this.hasWindow?window.pageXOffset||document.documentElement.scrollLeft:0},getOffsetTop(){return this.hasWindow?window.pageYOffset||document.documentElement.scrollTop:0},getRoundedBoundedClientRect(e){const t=e.getBoundingClientRect();return{top:Math.round(t.top),left:Math.round(t.left),bottom:Math.round(t.bottom),right:Math.round(t.right),width:Math.round(t.width),height:Math.round(t.height)}},measure(e){if(!e||!this.hasWindow)return null;const t=this.getRoundedBoundedClientRect(e);if(!1!==this.attach){const i=window.getComputedStyle(e);t.left=parseInt(i.marginLeft),t.top=parseInt(i.marginTop)}return t},sneakPeek(e){requestAnimationFrame(()=>{const t=this.$refs.content;t&&"none"===t.style.display?(t.style.display="inline-block",e(),t.style.display="none"):e()})},startTransition(){return new Promise(e=>requestAnimationFrame(()=>{this.isContentActive=this.hasJustFocused=this.isActive,e()}))},updateDimensions(){this.hasWindow="undefined"!==typeof window,this.checkActivatorFixed(),this.checkForPageYOffset(),this.pageWidth=document.documentElement.clientWidth;const e={activator:{...this.dimensions.activator},content:{...this.dimensions.content}};if(!this.hasActivator||this.absolute)e.activator=this.absolutePosition();else{const t=this.getActivator();if(!t)return;e.activator=this.measure(t),e.activator.offsetLeft=t.offsetLeft,!1!==this.attach?e.activator.offsetTop=t.offsetTop:e.activator.offsetTop=0}this.sneakPeek(()=>{this.$refs.content&&(e.content=this.measure(this.$refs.content)),this.dimensions=e})}}}),M=i("e4d3"),E=i("a293"),T=i("dc22");const A=Object(n["a"])(y["a"],g["a"],_["a"],C,M["a"],l["a"],c["a"]);var L=A.extend({name:"v-menu",provide(){return{isInMenu:!0,theme:this.theme}},directives:{ClickOutside:E["a"],Resize:T["a"]},props:{auto:Boolean,closeOnClick:{type:Boolean,default:!0},closeOnContentClick:{type:Boolean,default:!0},disabled:Boolean,disableKeys:Boolean,maxHeight:{type:[Number,String],default:"auto"},offsetX:Boolean,offsetY:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,origin:{type:String,default:"top left"},transition:{type:[Boolean,String],default:"v-menu-transition"}},data(){return{calculatedTopAuto:0,defaultOffset:8,hasJustFocused:!1,listIndex:-1,resizeTimeout:0,selectedIndex:null,tiles:[]}},computed:{activeTile(){return this.tiles[this.listIndex]},calculatedLeft(){const e=Math.max(this.dimensions.content.width,parseFloat(this.calculatedMinWidth));return this.auto?Object(w["f"])(this.calcXOverflow(this.calcLeftAuto(),e))||"0":this.calcLeft(e)||"0"},calculatedMaxHeight(){const e=this.auto?"200px":Object(w["f"])(this.maxHeight);return e||"0"},calculatedMaxWidth(){return Object(w["f"])(this.maxWidth)||"0"},calculatedMinWidth(){if(this.minWidth)return Object(w["f"])(this.minWidth)||"0";const e=Math.min(this.dimensions.activator.width+Number(this.nudgeWidth)+(this.auto?16:0),Math.max(this.pageWidth-24,0)),t=isNaN(parseInt(this.calculatedMaxWidth))?e:parseInt(this.calculatedMaxWidth);return Object(w["f"])(Math.min(t,e))||"0"},calculatedTop(){const e=this.auto?Object(w["f"])(this.calcYOverflow(this.calculatedTopAuto)):this.calcTop();return e||"0"},hasClickableTiles(){return Boolean(this.tiles.find(e=>e.tabIndex>-1))},styles(){return{maxHeight:this.calculatedMaxHeight,minWidth:this.calculatedMinWidth,maxWidth:this.calculatedMaxWidth,top:this.calculatedTop,left:this.calculatedLeft,transformOrigin:this.origin,zIndex:this.zIndex||this.activeZIndex}}},watch:{isActive(e){e||(this.listIndex=-1)},isContentActive(e){this.hasJustFocused=e},listIndex(e,t){if(e in this.tiles){const t=this.tiles[e];t.classList.add("v-list-item--highlighted"),this.$refs.content.scrollTop=t.offsetTop-t.clientHeight}t in this.tiles&&this.tiles[t].classList.remove("v-list-item--highlighted")}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(d["d"])("full-width",this)},mounted(){this.isActive&&this.callActivate()},methods:{activate(){this.updateDimensions(),requestAnimationFrame(()=>{this.startTransition().then(()=>{this.$refs.content&&(this.calculatedTopAuto=this.calcTopAuto(),this.auto&&(this.$refs.content.scrollTop=this.calcScrollPosition()))})})},calcScrollPosition(){const e=this.$refs.content,t=e.querySelector(".v-list-item--active"),i=e.scrollHeight-e.offsetHeight;return t?Math.min(i,Math.max(0,t.offsetTop-e.offsetHeight/2+t.offsetHeight/2)):e.scrollTop},calcLeftAuto(){return parseInt(this.dimensions.activator.left-2*this.defaultOffset)},calcTopAuto(){const e=this.$refs.content,t=e.querySelector(".v-list-item--active");if(t||(this.selectedIndex=null),this.offsetY||!t)return this.computedTop;this.selectedIndex=Array.from(this.tiles).indexOf(t);const i=t.offsetTop-this.calcScrollPosition(),n=e.querySelector(".v-list-item").offsetTop;return this.computedTop-i-n-1},changeListIndex(e){if(this.getTiles(),this.isActive&&this.hasClickableTiles)if(e.keyCode!==w["r"].tab){if(e.keyCode===w["r"].down)this.nextTile();else if(e.keyCode===w["r"].up)this.prevTile();else{if(e.keyCode!==w["r"].enter||-1===this.listIndex)return;this.tiles[this.listIndex].click()}e.preventDefault()}else this.isActive=!1},closeConditional(e){const t=e.target;return this.isActive&&!this._isDestroyed&&this.closeOnClick&&!this.$refs.content.contains(t)},genActivatorAttributes(){const e=v["a"].options.methods.genActivatorAttributes.call(this);return this.activeTile&&this.activeTile.id?{...e,"aria-activedescendant":this.activeTile.id}:e},genActivatorListeners(){const e=C.options.methods.genActivatorListeners.call(this);return this.disableKeys||(e.keydown=this.onKeyDown),e},genTransition(){const e=this.genContent();return this.transition?this.$createElement("transition",{props:{name:this.transition}},[e]):e},genDirectives(){const e=[{name:"show",value:this.isContentActive}];return!this.openOnHover&&this.closeOnClick&&e.push({name:"click-outside",value:()=>{this.isActive=!1},args:{closeConditional:this.closeConditional,include:()=>[this.$el,...this.getOpenDependentElements()]}}),e},genContent(){const e={attrs:{...this.getScopeIdAttrs(),role:"role"in this.$attrs?this.$attrs.role:"menu"},staticClass:"v-menu__content",class:{...this.rootThemeClasses,"v-menu__content--auto":this.auto,"v-menu__content--fixed":this.activatorFixed,menuable__content__active:this.isActive,[this.contentClass.trim()]:!0},style:this.styles,directives:this.genDirectives(),ref:"content",on:{click:e=>{const t=e.target;t.getAttribute("disabled")||this.closeOnContentClick&&(this.isActive=!1)},keydown:this.onKeyDown}};return!this.disabled&&this.openOnHover&&(e.on=e.on||{},e.on.mouseenter=this.mouseEnterHandler),this.openOnHover&&(e.on=e.on||{},e.on.mouseleave=this.mouseLeaveHandler),this.$createElement("div",e,this.getContentSlot())},getTiles(){this.$refs.content&&(this.tiles=Array.from(this.$refs.content.querySelectorAll(".v-list-item")))},mouseEnterHandler(){this.runDelay("open",()=>{this.hasJustFocused||(this.hasJustFocused=!0,this.isActive=!0)})},mouseLeaveHandler(e){this.runDelay("close",()=>{this.$refs.content.contains(e.relatedTarget)||requestAnimationFrame(()=>{this.isActive=!1,this.callDeactivate()})})},nextTile(){const e=this.tiles[this.listIndex+1];if(!e){if(!this.tiles.length)return;return this.listIndex=-1,void this.nextTile()}this.listIndex++,-1===e.tabIndex&&this.nextTile()},prevTile(){const e=this.tiles[this.listIndex-1];if(!e){if(!this.tiles.length)return;return this.listIndex=this.tiles.length,void this.prevTile()}this.listIndex--,-1===e.tabIndex&&this.prevTile()},onKeyDown(e){if(e.keyCode===w["r"].esc){setTimeout(()=>{this.isActive=!1});const e=this.getActivator();this.$nextTick(()=>e&&e.focus())}else!this.isActive&&[w["r"].up,w["r"].down].includes(e.keyCode)&&(this.isActive=!0);this.$nextTick(()=>this.changeListIndex(e))},onResize(){this.isActive&&(this.$refs.content.offsetWidth,this.updateDimensions(),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.updateDimensions,100))}},render(e){const t={staticClass:"v-menu",class:{"v-menu--attached":""===this.attach||!0===this.attach||"attach"===this.attach},directives:[{arg:"500",name:"resize",value:this.onResize}]};return e("div",t,[!this.activator&&this.genActivator(),this.showLazyContent(()=>[this.$createElement(m["a"],{props:{root:!0,light:this.light,dark:this.dark}},[this.genTransition()])])])}}),O=L,R=(i("cf36"),i("5607")),k=i("2b0e"),P=i("132d"),D=k["a"].extend({name:"v-simple-checkbox",functional:!0,directives:{ripple:R["a"]},props:{...s["a"].options.props,...c["a"].options.props,disabled:Boolean,ripple:{type:Boolean,default:!0},value:Boolean,indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},onIcon:{type:String,default:"$checkboxOn"},offIcon:{type:String,default:"$checkboxOff"}},render(e,{props:t,data:i}){const n=[];if(t.ripple&&!t.disabled){const i=e("div",s["a"].options.methods.setTextColor(t.color,{staticClass:"v-input--selection-controls__ripple",directives:[{name:"ripple",value:{center:!0}}]}));n.push(i)}let r=t.offIcon;t.indeterminate?r=t.indeterminateIcon:t.value&&(r=t.onIcon),n.push(e(P["a"],s["a"].options.methods.setTextColor(t.value&&t.color,{props:{disabled:t.disabled,dark:t.dark,light:t.light}}),r));const o={"v-simple-checkbox":!0,"v-simple-checkbox--disabled":t.disabled};return e("div",{...i,class:o,on:{click:e=>{e.stopPropagation(),i.on&&i.on.input&&!t.disabled&&Object(w["y"])(i.on.input).forEach(e=>e(!t.value))}}},n)}}),I=(i("8ce9"),c["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(e){let t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":t,...this.$attrs},on:this.$listeners})}})),B=I,N=(i("0bc6"),Object(n["a"])(c["a"]).extend({name:"v-subheader",props:{inset:Boolean},render(e){return e("div",{staticClass:"v-subheader",class:{"v-subheader--inset":this.inset,...this.themeClasses},attrs:this.$attrs,on:this.$listeners},this.$slots.default)}})),j=N,H=i("da13"),F=i("1800"),z=i("5d23"),U=i("8860"),V=Object(n["a"])(s["a"],c["a"]).extend({name:"v-select-list",directives:{ripple:R["a"]},props:{action:Boolean,dense:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},noDataText:String,noFilter:Boolean,searchInput:null,selectedItems:{type:Array,default:()=>[]}},computed:{parsedItems(){return this.selectedItems.map(e=>this.getValue(e))},tileActiveClass(){return Object.keys(this.setTextColor(this.color).class||{}).join(" ")},staticNoDataTile(){const e={attrs:{role:void 0},on:{mousedown:e=>e.preventDefault()}};return this.$createElement(H["a"],e,[this.genTileContent(this.noDataText)])}},methods:{genAction(e,t){return this.$createElement(F["a"],[this.$createElement(D,{props:{color:this.color,value:t},on:{input:()=>this.$emit("select",e)}})])},genDivider(e){return this.$createElement(B,{props:e})},genFilteredText(e){if(e=e||"",!this.searchInput||this.noFilter)return Object(w["j"])(e);const{start:t,middle:i,end:n}=this.getMaskedCharacters(e);return`${Object(w["j"])(t)}${this.genHighlight(i)}${Object(w["j"])(n)}`},genHeader(e){return this.$createElement(j,{props:e},e.header)},genHighlight(e){return`<span class="v-list-item__mask">${Object(w["j"])(e)}</span>`},getMaskedCharacters(e){const t=(this.searchInput||"").toString().toLocaleLowerCase(),i=e.toLocaleLowerCase().indexOf(t);if(i<0)return{start:"",middle:e,end:""};const n=e.slice(0,i),r=e.slice(i,i+t.length),o=e.slice(i+t.length);return{start:n,middle:r,end:o}},genTile({item:e,index:t,disabled:i=null,value:n=!1}){n||(n=this.hasItem(e)),e===Object(e)&&(i=null!==i?i:this.getDisabled(e));const r={attrs:{"aria-selected":String(n),id:`list-item-${this._uid}-${t}`,role:"option"},on:{mousedown:e=>{e.preventDefault()},click:()=>i||this.$emit("select",e)},props:{activeClass:this.tileActiveClass,disabled:i,ripple:!0,inputValue:n}};if(!this.$scopedSlots.item)return this.$createElement(H["a"],r,[this.action&&!this.hideSelected&&this.items.length>0?this.genAction(e,n):null,this.genTileContent(e,t)]);const o=this,s=this.$scopedSlots.item({parent:o,item:e,attrs:{...r.attrs,...r.props},on:r.on});return this.needsTile(s)?this.$createElement(H["a"],r,s):s},genTileContent(e,t=0){const i=this.genFilteredText(this.getText(e));return this.$createElement(z["a"],[this.$createElement(z["b"],{domProps:{innerHTML:i}})])},hasItem(e){return this.parsedItems.indexOf(this.getValue(e))>-1},needsTile(e){return 1!==e.length||null==e[0].componentOptions||"v-list-item"!==e[0].componentOptions.Ctor.options.name},getDisabled(e){return Boolean(Object(w["m"])(e,this.itemDisabled,!1))},getText(e){return String(Object(w["m"])(e,this.itemText,e))},getValue(e){return Object(w["m"])(e,this.itemValue,this.getText(e))}},render(){const e=[],t=this.items.length;for(let i=0;i<t;i++){const t=this.items[i];this.hideSelected&&this.hasItem(t)||(null==t?e.push(this.genTile({item:t,index:i})):t.header?e.push(this.genHeader(t)):t.divider?e.push(this.genDivider(t)):e.push(this.genTile({item:t,index:i})))}return e.length||e.push(this.$slots["no-data"]||this.staticNoDataTile),this.$slots["prepend-item"]&&e.unshift(this.$slots["prepend-item"]),this.$slots["append-item"]&&e.push(this.$slots["append-item"]),this.$createElement(U["a"],{staticClass:"v-select-list",class:this.themeClasses,attrs:{role:"listbox",tabindex:-1},props:{dense:this.dense}},e)}}),W=i("c37a"),G=i("8654"),$=i("8547"),q=k["a"].extend({name:"filterable",props:{noDataText:{type:String,default:"$vuetify.noDataText"}}}),X=i("d9f7");const Y={closeOnClick:!1,closeOnContentClick:!1,disableKeys:!0,openOnClick:!1,maxHeight:304},Z=Object(n["a"])(G["a"],$["a"],q);t["a"]=Z.extend().extend({name:"v-select",directives:{ClickOutside:E["a"]},props:{appendIcon:{type:String,default:"$dropdown"},attach:{type:null,default:!1},cacheItems:Boolean,chips:Boolean,clearable:Boolean,deletableChips:Boolean,disableLookup:Boolean,eager:Boolean,hideSelected:Boolean,items:{type:Array,default:()=>[]},itemColor:{type:String,default:"primary"},itemDisabled:{type:[String,Array,Function],default:"disabled"},itemText:{type:[String,Array,Function],default:"text"},itemValue:{type:[String,Array,Function],default:"value"},menuProps:{type:[String,Array,Object],default:()=>Y},multiple:Boolean,openOnClear:Boolean,returnObject:Boolean,smallChips:Boolean},data(){return{cachedItems:this.cacheItems?this.items:[],menuIsBooted:!1,isMenuActive:!1,lastItem:20,lazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,selectedIndex:-1,selectedItems:[],keyboardLookupPrefix:"",keyboardLookupLastTime:0}},computed:{allItems(){return this.filterDuplicates(this.cachedItems.concat(this.items))},classes(){return{...G["a"].options.computed.classes.call(this),"v-select":!0,"v-select--chips":this.hasChips,"v-select--chips--small":this.smallChips,"v-select--is-menu-active":this.isMenuActive,"v-select--is-multi":this.multiple}},computedItems(){return this.allItems},computedOwns(){return"list-"+this._uid},computedCounterValue(){return this.multiple?this.selectedItems.length:(this.getText(this.selectedItems[0])||"").toString().length},directives(){return this.isFocused?[{name:"click-outside",value:this.blur,args:{closeConditional:this.closeConditional}}]:void 0},dynamicHeight(){return"auto"},hasChips(){return this.chips||this.smallChips},hasSlot(){return Boolean(this.hasChips||this.$scopedSlots.selection)},isDirty(){return this.selectedItems.length>0},listData(){const e=this.$vnode&&this.$vnode.context.$options._scopeId,t=e?{[e]:!0}:{};return{attrs:{...t,id:this.computedOwns},props:{action:this.multiple,color:this.itemColor,dense:this.dense,hideSelected:this.hideSelected,items:this.virtualizedItems,itemDisabled:this.itemDisabled,itemText:this.itemText,itemValue:this.itemValue,noDataText:this.$vuetify.lang.t(this.noDataText),selectedItems:this.selectedItems},on:{select:this.selectItem},scopedSlots:{item:this.$scopedSlots.item}}},staticList(){return(this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"])&&Object(d["b"])("assert: staticList should not be called if slots are used"),this.$createElement(V,this.listData)},virtualizedItems(){return this.$_menuProps.auto?this.computedItems:this.computedItems.slice(0,this.lastItem)},menuCanShow:()=>!0,$_menuProps(){let e="string"===typeof this.menuProps?this.menuProps.split(","):this.menuProps;return Array.isArray(e)&&(e=e.reduce((e,t)=>(e[t.trim()]=!0,e),{})),{...Y,eager:this.eager,value:this.menuCanShow&&this.isMenuActive,nudgeBottom:e.offsetY?1:0,...e}}},watch:{internalValue(e){this.initialValue=e,this.setSelectedItems()},menuIsBooted(){window.setTimeout(()=>{this.getContent()&&this.getContent().addEventListener&&this.getContent().addEventListener("scroll",this.onScroll,!1)})},isMenuActive(e){window.setTimeout(()=>this.onMenuActiveChange(e)),e&&(this.menuIsBooted=!0)},items:{immediate:!0,handler(e){this.cacheItems&&this.$nextTick(()=>{this.cachedItems=this.filterDuplicates(this.cachedItems.concat(e))}),this.setSelectedItems()}}},methods:{blur(e){G["a"].options.methods.blur.call(this,e),this.isMenuActive=!1,this.isFocused=!1,this.selectedIndex=-1},activateMenu(){this.disabled||this.readonly||this.isMenuActive||(this.isMenuActive=!0)},clearableCallback(){this.setValue(this.multiple?[]:void 0),this.setMenuIndex(-1),this.$nextTick(()=>this.$refs.input&&this.$refs.input.focus()),this.openOnClear&&(this.isMenuActive=!0)},closeConditional(e){return!this.isMenuActive||!this._isDestroyed&&(!this.getContent()||!this.getContent().contains(e.target))&&this.$el&&!this.$el.contains(e.target)&&e.target!==this.$el},filterDuplicates(e){const t=new Map;for(let i=0;i<e.length;++i){const n=e[i],r=this.getValue(n);!t.has(r)&&t.set(r,n)}return Array.from(t.values())},findExistingIndex(e){const t=this.getValue(e);return(this.internalValue||[]).findIndex(e=>this.valueComparator(this.getValue(e),t))},getContent(){return this.$refs.menu&&this.$refs.menu.$refs.content},genChipSelection(e,t){const i=this.disabled||this.readonly||this.getDisabled(e);return this.$createElement(f,{staticClass:"v-chip--select",attrs:{tabindex:-1},props:{close:this.deletableChips&&!i,disabled:i,inputValue:t===this.selectedIndex,small:this.smallChips},on:{click:e=>{i||(e.stopPropagation(),this.selectedIndex=t)},"click:close":()=>this.onChipInput(e)},key:JSON.stringify(this.getValue(e))},this.getText(e))},genCommaSelection(e,t,i){const n=t===this.selectedIndex&&this.computedColor,r=this.disabled||this.getDisabled(e);return this.$createElement("div",this.setTextColor(n,{staticClass:"v-select__selection v-select__selection--comma",class:{"v-select__selection--disabled":r},key:JSON.stringify(this.getValue(e))}),`${this.getText(e)}${i?"":", "}`)},genDefaultSlot(){const e=this.genSelections(),t=this.genInput();return Array.isArray(e)?e.push(t):(e.children=e.children||[],e.children.push(t)),[this.genFieldset(),this.$createElement("div",{staticClass:"v-select__slot",directives:this.directives},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,e,this.suffix?this.genAffix("suffix"):null,this.genClearIcon(),this.genIconSlot(),this.genHiddenInput()]),this.genMenu(),this.genProgress()]},genIcon(e,t,i){const n=W["a"].options.methods.genIcon.call(this,e,t,i);return"append"===e&&(n.children[0].data=Object(X["a"])(n.children[0].data,{attrs:{tabindex:n.children[0].componentOptions.listeners&&"-1","aria-hidden":"true","aria-label":void 0}})),n},genInput(){const e=G["a"].options.methods.genInput.call(this);return delete e.data.attrs.name,e.data=Object(X["a"])(e.data,{domProps:{value:null},attrs:{readonly:!0,type:"text","aria-readonly":String(this.readonly),"aria-activedescendant":Object(w["l"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(w["l"])(e.data,"attrs.autocomplete","off")},on:{keypress:this.onKeyPress}}),e},genHiddenInput(){return this.$createElement("input",{domProps:{value:this.lazyValue},attrs:{type:"hidden",name:this.attrs$.name}})},genInputSlot(){const e=G["a"].options.methods.genInputSlot.call(this);return e.data.attrs={...e.data.attrs,role:"button","aria-haspopup":"listbox","aria-expanded":String(this.isMenuActive),"aria-owns":this.computedOwns},e},genList(){return this.$slots["no-data"]||this.$slots["prepend-item"]||this.$slots["append-item"]?this.genListWithSlot():this.staticList},genListWithSlot(){const e=["prepend-item","no-data","append-item"].filter(e=>this.$slots[e]).map(e=>this.$createElement("template",{slot:e},this.$slots[e]));return this.$createElement(V,{...this.listData},e)},genMenu(){const e=this.$_menuProps;return e.activator=this.$refs["input-slot"],""===this.attach||!0===this.attach||"attach"===this.attach?e.attach=this.$el:e.attach=this.attach,this.$createElement(O,{attrs:{role:void 0,offsetY:!0},props:e,on:{input:e=>{this.isMenuActive=e,this.isFocused=e}},ref:"menu"},[this.genList()])},genSelections(){let e=this.selectedItems.length;const t=new Array(e);let i;i=this.$scopedSlots.selection?this.genSlotSelection:this.hasChips?this.genChipSelection:this.genCommaSelection;while(e--)t[e]=i(this.selectedItems[e],e,e===t.length-1);return this.$createElement("div",{staticClass:"v-select__selections"},t)},genSlotSelection(e,t){return this.$scopedSlots.selection({attrs:{class:"v-chip--select"},parent:this,item:e,index:t,select:e=>{e.stopPropagation(),this.selectedIndex=t},selected:t===this.selectedIndex,disabled:this.disabled||this.readonly})},getMenuIndex(){return this.$refs.menu?this.$refs.menu.listIndex:-1},getDisabled(e){return Object(w["m"])(e,this.itemDisabled,!1)},getText(e){return Object(w["m"])(e,this.itemText,e)},getValue(e){return Object(w["m"])(e,this.itemValue,this.getText(e))},onBlur(e){e&&this.$emit("blur",e)},onChipInput(e){this.multiple?this.selectItem(e):this.setValue(null),0===this.selectedItems.length?this.isMenuActive=!0:this.isMenuActive=!1,this.selectedIndex=-1},onClick(e){this.isDisabled||(this.isAppendInner(e.target)||(this.isMenuActive=!0),this.isFocused||(this.isFocused=!0,this.$emit("focus")),this.$emit("click",e))},onEscDown(e){e.preventDefault(),this.isMenuActive&&(e.stopPropagation(),this.isMenuActive=!1)},onKeyPress(e){if(this.multiple||this.readonly||this.disableLookup)return;const t=1e3,i=performance.now();i-this.keyboardLookupLastTime>t&&(this.keyboardLookupPrefix=""),this.keyboardLookupPrefix+=e.key.toLowerCase(),this.keyboardLookupLastTime=i;const n=this.allItems.findIndex(e=>{const t=(this.getText(e)||"").toString();return t.toLowerCase().startsWith(this.keyboardLookupPrefix)}),r=this.allItems[n];-1!==n&&(this.lastItem=Math.max(this.lastItem,n+5),this.setValue(this.returnObject?r:this.getValue(r)),this.$nextTick(()=>this.$refs.menu.getTiles()),setTimeout(()=>this.setMenuIndex(n)))},onKeyDown(e){if(this.readonly)return;const t=e.keyCode,i=this.$refs.menu;return[w["r"].enter,w["r"].space].includes(t)&&this.activateMenu(),this.$emit("keydown",e),i?(this.isMenuActive&&t!==w["r"].tab&&this.$nextTick(()=>{i.changeListIndex(e),this.$emit("update:list-index",i.listIndex)}),!this.isMenuActive&&[w["r"].up,w["r"].down].includes(t)?this.onUpDown(e):t===w["r"].esc?this.onEscDown(e):t===w["r"].tab?this.onTabDown(e):t===w["r"].space?this.onSpaceDown(e):void 0):void 0},onMenuActiveChange(e){if(this.multiple&&!e||this.getMenuIndex()>-1)return;const t=this.$refs.menu;if(t&&this.isDirty)for(let i=0;i<t.tiles.length;i++)if("true"===t.tiles[i].getAttribute("aria-selected")){this.setMenuIndex(i);break}},onMouseUp(e){this.hasMouseDown&&3!==e.which&&!this.isDisabled&&(this.isAppendInner(e.target)?this.$nextTick(()=>this.isMenuActive=!this.isMenuActive):this.isEnclosed&&(this.isMenuActive=!0)),G["a"].options.methods.onMouseUp.call(this,e)},onScroll(){if(this.isMenuActive){if(this.lastItem>=this.computedItems.length)return;const e=this.getContent().scrollHeight-(this.getContent().scrollTop+this.getContent().clientHeight)<200;e&&(this.lastItem+=20)}else requestAnimationFrame(()=>this.getContent().scrollTop=0)},onSpaceDown(e){e.preventDefault()},onTabDown(e){const t=this.$refs.menu;if(!t)return;const i=t.activeTile;!this.multiple&&i&&this.isMenuActive?(e.preventDefault(),e.stopPropagation(),i.click()):this.blur(e)},onUpDown(e){const t=this.$refs.menu;if(!t)return;if(e.preventDefault(),this.multiple)return this.activateMenu();const i=e.keyCode;t.isBooted=!0,window.requestAnimationFrame(()=>{t.getTiles(),w["r"].up===i?t.prevTile():t.nextTile(),t.activeTile&&t.activeTile.click()})},selectItem(e){if(this.multiple){const t=(this.internalValue||[]).slice(),i=this.findExistingIndex(e);if(-1!==i?t.splice(i,1):t.push(e),this.setValue(t.map(e=>this.returnObject?e:this.getValue(e))),this.$nextTick(()=>{this.$refs.menu&&this.$refs.menu.updateDimensions()}),!this.multiple)return;const n=this.getMenuIndex();if(this.setMenuIndex(-1),this.hideSelected)return;this.$nextTick(()=>this.setMenuIndex(n))}else this.setValue(this.returnObject?e:this.getValue(e)),this.isMenuActive=!1},setMenuIndex(e){this.$refs.menu&&(this.$refs.menu.listIndex=e)},setSelectedItems(){const e=[],t=this.multiple&&Array.isArray(this.internalValue)?this.internalValue:[this.internalValue];for(const i of t){const t=this.allItems.findIndex(e=>this.valueComparator(this.getValue(e),this.getValue(i)));t>-1&&e.push(this.allItems[t])}this.selectedItems=e},setValue(e){const t=this.internalValue;this.internalValue=e,e!==t&&this.$emit("change",e)},isAppendInner(e){const t=this.$refs["append-inner"];return t&&(t===e||t.contains(e))}}})},ba0d:function(e,t,i){"use strict";i("9e29");var n=i("c37a"),r=i("0789"),o=i("58df"),s=i("297c"),a=i("a293"),c=i("80d2"),l=i("d9bd");t["a"]=Object(o["a"])(n["a"],s["a"]).extend({name:"v-slider",directives:{ClickOutside:a["a"]},mixins:[s["a"]],props:{disabled:Boolean,inverseLabel:Boolean,max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:1},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:e=>"boolean"===typeof e||"always"===e},thumbSize:{type:[Number,String],default:32},tickLabels:{type:Array,default:()=>[]},ticks:{type:[Boolean,String],default:!1,validator:e=>"boolean"===typeof e||"always"===e},tickSize:{type:[Number,String],default:2},trackColor:String,trackFillColor:String,value:[Number,String],vertical:Boolean},data:()=>({app:null,oldValue:null,keyPressed:0,isFocused:!1,isActive:!1,noClick:!1}),computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-input__slider":!0,"v-input__slider--vertical":this.vertical,"v-input__slider--inverse-label":this.inverseLabel}},internalValue:{get(){return this.lazyValue},set(e){e=isNaN(e)?this.minValue:e;const t=this.roundValue(Math.min(Math.max(e,this.minValue),this.maxValue));t!==this.lazyValue&&(this.lazyValue=t,this.$emit("input",t))}},trackTransition(){return this.keyPressed>=2?"none":""},minValue(){return parseFloat(this.min)},maxValue(){return parseFloat(this.max)},stepNumeric(){return this.step>0?parseFloat(this.step):0},inputWidth(){const e=(this.roundValue(this.internalValue)-this.minValue)/(this.maxValue-this.minValue)*100;return e},trackFillStyles(){const e=this.vertical?"bottom":"left",t=this.vertical?"top":"right",i=this.vertical?"height":"width",n=this.$vuetify.rtl?"auto":"0",r=this.$vuetify.rtl?"0":"auto",o=this.disabled?`calc(${this.inputWidth}% - 10px)`:this.inputWidth+"%";return{transition:this.trackTransition,[e]:n,[t]:r,[i]:o}},trackStyles(){const e=this.vertical?this.$vuetify.rtl?"bottom":"top":this.$vuetify.rtl?"left":"right",t=this.vertical?"height":"width",i="0px",n=this.disabled?`calc(${100-this.inputWidth}% - 10px)`:`calc(${100-this.inputWidth}%)`;return{transition:this.trackTransition,[e]:i,[t]:n}},showTicks(){return this.tickLabels.length>0||!(this.disabled||!this.stepNumeric||!this.ticks)},numTicks(){return Math.ceil((this.maxValue-this.minValue)/this.stepNumeric)},showThumbLabel(){return!this.disabled&&!(!this.thumbLabel&&!this.$scopedSlots["thumb-label"])},computedTrackColor(){if(!this.disabled)return this.trackColor?this.trackColor:this.isDark?this.validationState:this.validationState||"primary lighten-3"},computedTrackFillColor(){if(!this.disabled)return this.trackFillColor?this.trackFillColor:this.validationState||this.computedColor},computedThumbColor(){return this.thumbColor?this.thumbColor:this.validationState||this.computedColor}},watch:{min(e){const t=parseFloat(e);t>this.internalValue&&this.$emit("input",t)},max(e){const t=parseFloat(e);t<this.internalValue&&this.$emit("input",t)},value:{handler(e){this.internalValue=e}}},beforeMount(){this.internalValue=this.value},mounted(){this.app=document.querySelector("[data-app]")||Object(l["c"])("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot(){const e=[this.genLabel()],t=this.genSlider();return this.inverseLabel?e.unshift(t):e.push(t),e.push(this.genProgress()),e},genSlider(){return this.$createElement("div",{class:{"v-slider":!0,"v-slider--horizontal":!this.vertical,"v-slider--vertical":this.vertical,"v-slider--focused":this.isFocused,"v-slider--active":this.isActive,"v-slider--disabled":this.disabled,"v-slider--readonly":this.readonly,...this.themeClasses},directives:[{name:"click-outside",value:this.onBlur}],on:{click:this.onSliderClick}},this.genChildren())},genChildren(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isActive,this.isFocused,this.onThumbMouseDown,this.onFocus,this.onBlur)]},genInput(){return this.$createElement("input",{attrs:{value:this.internalValue,id:this.computedId,disabled:this.disabled,readonly:!0,tabindex:-1,...this.$attrs}})},genTrackContainer(){const e=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track-background",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedTrackFillColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track-container",ref:"track"},e)},genSteps(){if(!this.step||!this.showTicks)return null;const e=parseFloat(this.tickSize),t=Object(c["g"])(this.numTicks+1),i=this.vertical?"bottom":"left",n=this.vertical?"right":"top";this.vertical&&t.reverse();const r=t.map(t=>{const r=this.$vuetify.rtl?this.maxValue-t:t,o=[];this.tickLabels[r]&&o.push(this.$createElement("div",{staticClass:"v-slider__tick-label"},this.tickLabels[r]));const s=t*(100/this.numTicks),a=this.$vuetify.rtl?100-this.inputWidth<s:s<this.inputWidth;return this.$createElement("span",{key:t,staticClass:"v-slider__tick",class:{"v-slider__tick--filled":a},style:{width:e+"px",height:e+"px",[i]:`calc(${s}% - ${e/2}px)`,[n]:`calc(50% - ${e/2}px)`}},o)});return this.$createElement("div",{staticClass:"v-slider__ticks-container",class:{"v-slider__ticks-container--always-show":"always"===this.ticks||this.tickLabels.length>0}},r)},genThumbContainer(e,t,i,n,r,o,s,a="thumb"){const c=[this.genThumb()],l=this.genThumbLabelContent(e);return this.showThumbLabel&&c.push(this.genThumbLabel(l)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{ref:a,staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--active":i,"v-slider__thumb-container--focused":n,"v-slider__thumb-container--show-label":this.showThumbLabel},style:this.getThumbContainerStyles(t),attrs:{role:"slider",tabindex:this.disabled||this.readonly?-1:this.$attrs.tabindex?this.$attrs.tabindex:0,"aria-label":this.label,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue,"aria-readonly":String(this.readonly),"aria-orientation":this.vertical?"vertical":"horizontal",...this.$attrs},on:{focus:o,blur:s,keydown:this.onKeyDown,keyup:this.onKeyUp,touchstart:r,mousedown:r}}),c)},genThumbLabelContent(e){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:e}):[this.$createElement("span",[String(e)])]},genThumbLabel(e){const t=Object(c["f"])(this.thumbSize),i=this.vertical?`translateY(20%) translateY(${Number(this.thumbSize)/3-1}px) translateX(55%) rotate(135deg)`:"translateY(-20%) translateY(-12px) translateX(-50%) rotate(45deg)";return this.$createElement(r["e"],{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label-container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:t,width:t,transform:i}}),[this.$createElement("div",e)])])])},genThumb(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},getThumbContainerStyles(e){const t=this.vertical?"top":"left";let i=this.$vuetify.rtl?100-e:e;return i=this.vertical?100-i:i,{transition:this.trackTransition,[t]:i+"%"}},onThumbMouseDown(e){e.preventDefault(),this.oldValue=this.internalValue,this.keyPressed=2,this.isActive=!0;const t=!c["v"]||{passive:!0,capture:!0},i=!!c["v"]&&{passive:!0};"touches"in e?(this.app.addEventListener("touchmove",this.onMouseMove,i),Object(c["a"])(this.app,"touchend",this.onSliderMouseUp,t)):(this.app.addEventListener("mousemove",this.onMouseMove,i),Object(c["a"])(this.app,"mouseup",this.onSliderMouseUp,t)),this.$emit("start",this.internalValue)},onSliderMouseUp(e){e.stopPropagation(),this.keyPressed=0;const t=!!c["v"]&&{passive:!0};this.app.removeEventListener("touchmove",this.onMouseMove,t),this.app.removeEventListener("mousemove",this.onMouseMove,t),this.$emit("end",this.internalValue),Object(c["i"])(this.oldValue,this.internalValue)||(this.$emit("change",this.internalValue),this.noClick=!0),this.isActive=!1},onMouseMove(e){const{value:t}=this.parseMouseMove(e);this.internalValue=t},onKeyDown(e){if(this.disabled||this.readonly)return;const t=this.parseKeyDown(e,this.internalValue);null!=t&&(this.internalValue=t,this.$emit("change",t))},onKeyUp(){this.keyPressed=0},onSliderClick(e){if(this.noClick)return void(this.noClick=!1);const t=this.$refs.thumb;t.focus(),this.onMouseMove(e),this.$emit("change",this.internalValue)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},parseMouseMove(e){const t=this.vertical?"top":"left",i=this.vertical?"height":"width",n=this.vertical?"clientY":"clientX",{[t]:r,[i]:o}=this.$refs.track.getBoundingClientRect(),s="touches"in e?e.touches[0][n]:e[n];let a=Math.min(Math.max((s-r)/o,0),1)||0;this.vertical&&(a=1-a),this.$vuetify.rtl&&(a=1-a);const c=s>=r&&s<=r+o,l=parseFloat(this.min)+a*(this.maxValue-this.minValue);return{value:l,isInsideTrack:c}},parseKeyDown(e,t){if(this.disabled)return;const{pageup:i,pagedown:n,end:r,home:o,left:s,right:a,down:l,up:h}=c["r"];if(![i,n,r,o,s,a,l,h].includes(e.keyCode))return;e.preventDefault();const u=this.stepNumeric||1,d=(this.maxValue-this.minValue)/u;if([s,a,l,h].includes(e.keyCode)){this.keyPressed+=1;const i=this.$vuetify.rtl?[s,h]:[a,h],n=i.includes(e.keyCode)?1:-1,r=e.shiftKey?3:e.ctrlKey?2:1;t+=n*u*r}else if(e.keyCode===o)t=this.minValue;else if(e.keyCode===r)t=this.maxValue;else{const i=e.keyCode===n?1:-1;t-=i*u*(d>100?d/10:10)}return t},roundValue(e){if(!this.stepNumeric)return e;const t=this.step.toString().trim(),i=t.indexOf(".")>-1?t.length-t.indexOf(".")-1:0,n=this.minValue%this.stepNumeric,r=Math.round((e-n)/this.stepNumeric)*this.stepNumeric+n;return parseFloat(Math.min(r,this.maxValue).toFixed(i))}}})},ba87:function(e,t,i){"use strict";i("1b2c");var n=i("a9ad"),r=i("7560"),o=i("58df"),s=i("80d2"),a=Object(o["a"])(r["a"]).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render(e,t){const{children:i,listeners:o,props:a}=t,c={staticClass:"v-label",class:{"v-label--active":a.value,"v-label--is-disabled":a.disabled,...Object(r["b"])(t)},attrs:{for:a.for,"aria-hidden":!a.for},on:o,style:{left:Object(s["f"])(a.left),right:Object(s["f"])(a.right),position:a.absolute?"absolute":"relative"},ref:"label"};return e("label",n["a"].options.methods.setTextColor(a.focused&&a.color,c),i)}});t["a"]=a},bc3a:function(e,t,i){e.exports=i("cee4")},bdbb:function(e,t){function i(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}function n(t){e.exports.defaults=t}e.exports={defaults:i(),getDefaults:i,changeDefaults:n}},c04e:function(e,t,i){var n=i("861d");e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},c345:function(e,t,i){"use strict";var n=i("c532"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),i=n.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([i]):s[t]?s[t]+", "+i:i}})),s):s}},c37a:function(e,t,i){"use strict";i("d191");var n=i("9d26"),r=i("ba87"),o=(i("8ff2"),i("a9ad")),s=i("7560"),a=i("58df"),c=i("80d2"),l=Object(a["a"])(o["a"],s["a"]).extend({name:"v-messages",props:{value:{type:Array,default:()=>[]}},methods:{genChildren(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage(e,t){return this.$createElement("div",{staticClass:"v-messages__message",key:t},Object(c["n"])(this,"default",{message:e,key:t})||[e])}},render(e){return e("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}}),h=l,u=i("7e2b"),d=i("38cb"),p=i("d9f7");const f=Object(a["a"])(u["a"],d["a"]);var m=f.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes(){return{"v-input--has-state":this.hasState,"v-input--hide-details":!this.showDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.disabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&null!=this.loading,"v-input--is-readonly":this.readonly,"v-input--dense":this.dense,...this.themeClasses}},computedId(){return this.id||"input-"+this._uid},hasDetails(){return this.messagesToDisplay.length>0},hasHint(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel(){return!(!this.$slots.label&&!this.label)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit(this.$_modelEvent,e)}},isDirty(){return!!this.lazyValue},isDisabled(){return this.disabled||this.readonly},isLabelActive(){return this.isDirty},messagesToDisplay(){return this.hasHint?[this.hint]:this.hasMessages?this.validations.map(e=>{if("string"===typeof e)return e;const t=e(this.internalValue);return"string"===typeof t?t:""}).filter(e=>""!==e):[]},showDetails(){return!1===this.hideDetails||"auto"===this.hideDetails&&this.hasDetails}},watch:{value(e){this.lazyValue=e}},beforeCreate(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl(){return this.$createElement("div",{staticClass:"v-input__control"},[this.genInputSlot(),this.genMessages()])},genDefaultSlot(){return[this.genLabel(),this.$slots.default]},genIcon(e,t,i={}){const r=this[e+"Icon"],o="click:"+Object(c["q"])(e),s=!(!this.listeners$[o]&&!t),a=Object(p["a"])({attrs:{"aria-label":s?Object(c["q"])(e).split("-")[0]+" icon":void 0,color:this.validationState,dark:this.dark,disabled:this.disabled,light:this.light},on:s?{click:e=>{e.preventDefault(),e.stopPropagation(),this.$emit(o,e),t&&t(e)},mouseup:e=>{e.preventDefault(),e.stopPropagation()}}:void 0},i);return this.$createElement("div",{staticClass:"v-input__icon",class:e?"v-input__icon--"+Object(c["q"])(e):void 0},[this.$createElement(n["a"],a,r)])},genInputSlot(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(c["f"])(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel(){return this.hasLabel?this.$createElement(r["a"],{props:{color:this.validationState,dark:this.dark,disabled:this.disabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages(){return this.showDetails?this.$createElement(h,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:e=>Object(c["n"])(this,"message",e)}}):null},genSlot(e,t,i){if(!i.length)return null;const n=`${e}-${t}`;return this.$createElement("div",{staticClass:"v-input__"+n,ref:n},i)},genPrependSlot(){const e=[];return this.$slots.prepend?e.push(this.$slots.prepend):this.prependIcon&&e.push(this.genIcon("prepend")),this.genSlot("prepend","outer",e)},genAppendSlot(){const e=[];return this.$slots.append?e.push(this.$slots.append):this.appendIcon&&e.push(this.genIcon("append")),this.genSlot("append","outer",e)},onClick(e){this.$emit("click",e)},onMouseDown(e){this.hasMouseDown=!0,this.$emit("mousedown",e)},onMouseUp(e){this.hasMouseDown=!1,this.$emit("mouseup",e)}},render(e){return e("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}});t["a"]=m},c3f0:function(e,t,i){"use strict";var n=i("80d2");const r=e=>{const{touchstartX:t,touchendX:i,touchstartY:n,touchendY:r}=e,o=.5,s=16;e.offsetX=i-t,e.offsetY=r-n,Math.abs(e.offsetY)<o*Math.abs(e.offsetX)&&(e.left&&i<t-s&&e.left(e),e.right&&i>t+s&&e.right(e)),Math.abs(e.offsetX)<o*Math.abs(e.offsetY)&&(e.up&&r<n-s&&e.up(e),e.down&&r>n+s&&e.down(e))};function o(e,t){const i=e.changedTouches[0];t.touchstartX=i.clientX,t.touchstartY=i.clientY,t.start&&t.start(Object.assign(e,t))}function s(e,t){const i=e.changedTouches[0];t.touchendX=i.clientX,t.touchendY=i.clientY,t.end&&t.end(Object.assign(e,t)),r(t)}function a(e,t){const i=e.changedTouches[0];t.touchmoveX=i.clientX,t.touchmoveY=i.clientY,t.move&&t.move(Object.assign(e,t))}function c(e){const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:e=>o(e,t),touchend:e=>s(e,t),touchmove:e=>a(e,t)}}function l(e,t,i){const r=t.value,o=r.parent?e.parentElement:e,s=r.options||{passive:!0};if(!o)return;const a=c(t.value);o._touchHandlers=Object(o._touchHandlers),o._touchHandlers[i.context._uid]=a,Object(n["s"])(a).forEach(e=>{o.addEventListener(e,a[e],s)})}function h(e,t,i){const r=t.value.parent?e.parentElement:e;if(!r||!r._touchHandlers)return;const o=r._touchHandlers[i.context._uid];Object(n["s"])(o).forEach(e=>{r.removeEventListener(e,o[e])}),delete r._touchHandlers[i.context._uid]}const u={inserted:l,unbind:h};t["a"]=u},c401:function(e,t,i){"use strict";var n=i("c532");e.exports=function(e,t,i){return n.forEach(i,(function(i){e=i(e,t)})),e}},c430:function(e,t){e.exports=!1},c532:function(e,t,i){"use strict";var n=i("1d2b"),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function s(e){return"undefined"===typeof e}function a(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function c(e){return"[object ArrayBuffer]"===r.call(e)}function l(e){return"undefined"!==typeof FormData&&e instanceof FormData}function h(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function u(e){return"string"===typeof e}function d(e){return"number"===typeof e}function p(e){return null!==e&&"object"===typeof e}function f(e){return"[object Date]"===r.call(e)}function m(e){return"[object File]"===r.call(e)}function v(e){return"[object Blob]"===r.call(e)}function g(e){return"[object Function]"===r.call(e)}function y(e){return p(e)&&g(e.pipe)}function _(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function b(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function x(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function w(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}function S(){var e={};function t(t,i){"object"===typeof e[i]&&"object"===typeof t?e[i]=S(e[i],t):e[i]=t}for(var i=0,n=arguments.length;i<n;i++)w(arguments[i],t);return e}function C(){var e={};function t(t,i){"object"===typeof e[i]&&"object"===typeof t?e[i]=C(e[i],t):e[i]="object"===typeof t?C({},t):t}for(var i=0,n=arguments.length;i<n;i++)w(arguments[i],t);return e}function M(e,t,i){return w(t,(function(t,r){e[r]=i&&"function"===typeof t?n(t,i):t})),e}e.exports={isArray:o,isArrayBuffer:c,isBuffer:a,isFormData:l,isArrayBufferView:h,isString:u,isNumber:d,isObject:p,isUndefined:s,isDate:f,isFile:m,isBlob:v,isFunction:g,isStream:y,isURLSearchParams:_,isStandardBrowserEnv:x,forEach:w,merge:S,deepMerge:C,extend:M,trim:b}},c6b6:function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},c6cd:function(e,t,i){var n=i("da84"),r=i("ce4e"),o="__core-js_shared__",s=n[o]||r(o,{});e.exports=s},c8af:function(e,t,i){"use strict";var n=i("c532");e.exports=function(e,t){n.forEach(e,(function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])}))}},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}e.exports=i},c975:function(e,t,i){"use strict";var n=i("23e7"),r=i("4d64").indexOf,o=i("a640"),s=i("ae40"),a=[].indexOf,c=!!a&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),h=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!l||!h},{indexOf:function(e){return c?a.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,i){var n=i("5135"),r=i("fc6a"),o=i("4d64").indexOf,s=i("d012");e.exports=function(e,t){var i,a=r(e),c=0,l=[];for(i in a)!n(s,i)&&n(a,i)&&l.push(i);while(t.length>c)n(a,i=t[c++])&&(~o(l,i)||l.push(i));return l}},cc12:function(e,t,i){var n=i("da84"),r=i("861d"),o=n.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cca6:function(e,t,i){var n=i("23e7"),r=i("60da");n({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},cdf9:function(e,t,i){var n=i("825a"),r=i("861d"),o=i("f069");e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var i=o.f(e),s=i.resolve;return s(t),i.promise}},ce4e:function(e,t,i){var n=i("da84"),r=i("9112");e.exports=function(e,t){try{r(n,e,t)}catch(i){n[e]=t}return t}},ce87:function(e,t,i){"use strict";var n=i("16b7"),r=i("f2e7"),o=i("58df"),s=i("d9bd");t["a"]=Object(o["a"])(n["a"],r["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter(){this.runDelay("open")},onMouseLeave(){this.runDelay("close")}},render(){if(!this.$scopedSlots.default&&void 0===this.value)return Object(s["c"])("v-hover is missing a default scopedSlot or bound value",this),null;let e;return this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(s["c"])("v-hover should only contain a single element",this),e)}})},cee4:function(e,t,i){"use strict";var n=i("c532"),r=i("1d2b"),o=i("0a06"),s=i("4a7b"),a=i("2444");function c(e){var t=new o(e),i=r(o.prototype.request,t);return n.extend(i,o.prototype,t),n.extend(i,t),i}var l=c(a);l.Axios=o,l.create=function(e){return c(s(l.defaults,e))},l.Cancel=i("7a77"),l.CancelToken=i("8df4"),l.isCancel=i("2e67"),l.all=function(e){return Promise.all(e)},l.spread=i("0df6"),e.exports=l,e.exports.default=l},cf36:function(e,t,i){},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,i){var n=i("428f"),r=i("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(r[e]):n[e]&&n[e][t]||r[e]&&r[e][t]}},d10f:function(e,t,i){"use strict";var n=i("2b0e");t["a"]=n["a"].extend({name:"ssr-bootable",data:()=>({isBooted:!1}),mounted(){window.requestAnimationFrame(()=>{this.$el.setAttribute("data-booted","true"),this.isBooted=!0})}})},d191:function(e,t,i){},d1e7:function(e,t,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);t.f=o?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},d28b:function(e,t,i){var n=i("746f");n("iterator")},d2bb:function(e,t,i){var n=i("825a"),r=i("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(i,[]),t=i instanceof Array}catch(o){}return function(i,o){return n(i),r(o),t?e.call(i,o):i.__proto__=o,i}}():void 0)},d3b7:function(e,t,i){var n=i("00ee"),r=i("6eeb"),o=i("b041");n||r(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,i){var n=i("9bf2").f,r=i("5135"),o=i("b622"),s=o("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},d4ec:function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"a",(function(){return n}))},d784:function(e,t,i){"use strict";i("ac1f");var n=i("6eeb"),r=i("d039"),o=i("b622"),s=i("9263"),a=i("9112"),c=o("species"),l=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),h=function(){return"$0"==="a".replace(/./,"$0")}(),u=o("replace"),d=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));e.exports=function(e,t,i,u){var f=o(e),m=!r((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),v=m&&!r((function(){var t=!1,i=/a/;return"split"===e&&(i={},i.constructor={},i.constructor[c]=function(){return i},i.flags="",i[f]=/./[f]),i.exec=function(){return t=!0,null},i[f](""),!t}));if(!m||!v||"replace"===e&&(!l||!h||d)||"split"===e&&!p){var g=/./[f],y=i(f,""[e],(function(e,t,i,n,r){return t.exec===s?m&&!r?{done:!0,value:g.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),_=y[0],b=y[1];n(String.prototype,e,_),n(RegExp.prototype,f,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&a(RegExp.prototype[f],"sham",!0)}},d81d:function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").map,o=i("1dde"),s=i("ae40"),a=o("map"),c=s("map");n({target:"Array",proto:!0,forced:!a||!c},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},d925:function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},d9bd:function(e,t,i){"use strict";function n(e,t,i){if(i&&(t={_isVue:!0,$parent:i,$options:t}),t){if(t.$_alreadyWarned=t.$_alreadyWarned||[],t.$_alreadyWarned.includes(e))return;t.$_alreadyWarned.push(e)}return"[Vuetify] "+e+(t?u(t):"")}function r(e,t,i){const r=n(e,t,i);null!=r&&console.warn(r)}function o(e,t,i){const r=n(e,t,i);null!=r&&console.error(r)}function s(e,t,i,n){o(`[BREAKING] '${e}' has been removed, use '${t}' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide`,i,n)}function a(e,t,i){r(`[REMOVED] '${e}' has been removed. You can safely omit it.`,t,i)}i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return s})),i.d(t,"d",(function(){return a}));const c=/(?:^|[-_])(\w)/g,l=e=>e.replace(c,e=>e.toUpperCase()).replace(/[-_]/g,"");function h(e,t){if(e.$root===e)return"<Root>";const i="function"===typeof e&&null!=e.cid?e.options:e._isVue?e.$options||e.constructor.options:e||{};let n=i.name||i._componentTag;const r=i.__file;if(!n&&r){const e=r.match(/([^/\\]+)\.vue$/);n=e&&e[1]}return(n?`<${l(n)}>`:"<Anonymous>")+(r&&!1!==t?" at "+r:"")}function u(e){if(e._isVue&&e.$parent){const t=[];let i=0;while(e){if(t.length>0){const n=t[t.length-1];if(n.constructor===e.constructor){i++,e=e.$parent;continue}i>0&&(t[t.length-1]=[n,i],i=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map((e,t)=>`${0===t?"---\x3e ":" ".repeat(5+2*t)}${Array.isArray(e)?`${h(e[0])}... (${e[1]} recursive calls)`:h(e)}`).join("\n")}return`\n\n(found in ${h(e)})`}},d9f7:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("80d2");const r={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function o(e){const t={};for(const i of e.split(r.styleList)){let[e,o]=i.split(r.styleProp);e=e.trim(),e&&("string"===typeof o&&(o=o.trim()),t[Object(n["c"])(e)]=o)}return t}function s(){const e={};let t,i,n=arguments.length;while(n--)for(t of Object.keys(arguments[n]))switch(t){case"class":case"style":case"directives":if(!arguments[n][t])break;if(Array.isArray(e[t])||(e[t]=[]),"style"===t){let e;e=Array.isArray(arguments[n].style)?arguments[n].style:[arguments[n].style];for(let t=0;t<e.length;t++){const i=e[t];"string"===typeof i&&(e[t]=o(i))}arguments[n].style=e}e[t]=e[t].concat(arguments[n][t]);break;case"staticClass":if(!arguments[n][t])break;void 0===e[t]&&(e[t]=""),e[t]&&(e[t]+=" "),e[t]+=arguments[n][t].trim();break;case"on":case"nativeOn":if(!arguments[n][t])break;e[t]||(e[t]={});const r=e[t];for(i of Object.keys(arguments[n][t]||{}))r[i]?r[i]=Array().concat(r[i],arguments[n][t][i]):r[i]=arguments[n][t][i];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[n][t])break;e[t]||(e[t]={}),e[t]={...arguments[n][t],...e[t]};break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:e[t]||(e[t]=arguments[n][t])}return e}},da13:function(e,t,i){"use strict";i("61d2");var n=i("a9ad"),r=i("1c87"),o=i("4e82"),s=i("7560"),a=i("f2e7"),c=i("5607"),l=i("80d2"),h=i("d9bd"),u=i("58df");const d=Object(u["a"])(n["a"],r["a"],s["a"],Object(o["a"])("listItemGroup"),Object(a["b"])("inputValue"));t["a"]=d.extend().extend({name:"v-list-item",directives:{Ripple:c["a"]},inheritAttrs:!1,inject:{isInGroup:{default:!1},isInList:{default:!1},isInMenu:{default:!1},isInNav:{default:!1}},props:{activeClass:{type:String,default(){return this.listItemGroup?this.listItemGroup.activeClass:""}},dense:Boolean,inactive:Boolean,link:Boolean,selectable:{type:Boolean},tag:{type:String,default:"div"},threeLine:Boolean,twoLine:Boolean,value:null},data:()=>({proxyClass:"v-list-item--active"}),computed:{classes(){return{"v-list-item":!0,...r["a"].options.computed.classes.call(this),"v-list-item--dense":this.dense,"v-list-item--disabled":this.disabled,"v-list-item--link":this.isClickable&&!this.inactive,"v-list-item--selectable":this.selectable,"v-list-item--three-line":this.threeLine,"v-list-item--two-line":this.twoLine,...this.themeClasses}},isClickable(){return Boolean(r["a"].options.computed.isClickable.call(this)||this.listItemGroup)}},created(){this.$attrs.hasOwnProperty("avatar")&&Object(h["d"])("avatar",this)},methods:{click(e){e.detail&&this.$el.blur(),this.$emit("click",e),this.to||this.toggle()},genAttrs(){const e={"aria-disabled":!!this.disabled||void 0,tabindex:this.isClickable&&!this.disabled?0:-1,...this.$attrs};return this.$attrs.hasOwnProperty("role")||this.isInNav||(this.isInGroup?(e.role="listitem",e["aria-selected"]=String(this.isActive)):this.isInMenu?(e.role=this.isClickable?"menuitem":void 0,e.id=e.id||"list-item-"+this._uid):this.isInList&&(e.role="listitem")),e}},render(e){let{tag:t,data:i}=this.generateRouteLink();i.attrs={...i.attrs,...this.genAttrs()},i.on={...i.on,click:this.click,keydown:e=>{e.keyCode===l["r"].enter&&this.click(e),this.$emit("keydown",e)}};const n=this.$scopedSlots.default?this.$scopedSlots.default({active:this.isActive,toggle:this.toggle}):this.$slots.default;return t=this.inactive?"div":t,e(t,this.setTextColor(this.color,i),n)}})},da84:function(e,t,i){(function(t){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")()}).call(this,i("c8ba"))},daaf:function(e,t,i){},db42:function(e,t,i){},dc22:function(e,t,i){"use strict";function n(e,t){const i=t.value,n=t.options||{passive:!0};window.addEventListener("resize",i,n),e._onResize={callback:i,options:n},t.modifiers&&t.modifiers.quiet||i()}function r(e){if(!e._onResize)return;const{callback:t,options:i}=e._onResize;window.removeEventListener("resize",t,i),delete e._onResize}const o={inserted:n,unbind:r};t["a"]=o},ddb0:function(e,t,i){var n=i("da84"),r=i("fdbc"),o=i("e260"),s=i("9112"),a=i("b622"),c=a("iterator"),l=a("toStringTag"),h=o.values;for(var u in r){var d=n[u],p=d&&d.prototype;if(p){if(p[c]!==h)try{s(p,c,h)}catch(m){p[c]=h}if(p[l]||s(p,l,u),r[u])for(var f in o)if(p[f]!==o[f])try{s(p,f,o[f])}catch(m){p[f]=o[f]}}}},df75:function(e,t,i){var n=i("ca84"),r=i("7839");e.exports=Object.keys||function(e){return n(e,r)}},df7c:function(e,t,i){(function(e){function i(e,t){for(var i=0,n=e.length-1;n>=0;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,i=0,n=-1,r=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!r){i=t+1;break}}else-1===n&&(r=!1,n=t+1);return-1===n?"":e.slice(i,n)}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,n="/"===s.charAt(0))}return t=i(r(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),s="/"===o(e,-1);return e=i(r(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&s&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,i){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var i=e.length-1;i>=0;i--)if(""!==e[i])break;return t>i?[]:e.slice(t,i-t+1)}e=t.resolve(e).substr(1),i=t.resolve(i).substr(1);for(var r=n(e.split("/")),o=n(i.split("/")),s=Math.min(r.length,o.length),a=s,c=0;c<s;c++)if(r[c]!==o[c]){a=c;break}var l=[];for(c=a;c<r.length;c++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,n=-1,r=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!r){n=o;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var i=n(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,i=0,n=-1,r=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===n&&(r=!1,n=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!r){i=s+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===i+1?"":e.slice(t,n)};var o="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,i("4362"))},df86:function(e,t,i){},e01a:function(e,t,i){"use strict";var n=i("23e7"),r=i("83ab"),o=i("da84"),s=i("5135"),a=i("861d"),c=i("9bf2").f,l=i("e893"),h=o.Symbol;if(r&&"function"==typeof h&&(!("description"in h.prototype)||void 0!==h().description)){var u={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new h(e):void 0===e?h():h(e);return""===e&&(u[t]=!0),t};l(d,h);var p=d.prototype=h.prototype;p.constructor=d;var f=p.toString,m="Symbol(test)"==String(h("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=f.call(e);if(s(u,e))return"";var i=m?t.slice(7,-1):t.replace(v,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:d})}},e0c1:function(e,t,i){const n=i("4fd2"),r=i("eba7"),o=i("49b6"),s=i("fbf7"),a=i("8725"),c=i("27b0"),{merge:l,checkSanitizeDeprecation:h,escape:u}=i("ad42"),{getDefaults:d,changeDefaults:p,defaults:f}=i("bdbb");function m(e,t,i){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"===typeof t){i||(i=t,t=null),t=l({},m.defaults,t||{}),h(t);const s=t.highlight;let a,c,u=0;try{a=n.lex(e,t)}catch(o){return i(o)}c=a.length;const d=function(e){if(e)return t.highlight=s,i(e);let n;try{n=r.parse(a,t)}catch(o){e=o}return t.highlight=s,e?i(e):i(null,n)};if(!s||s.length<3)return d();if(delete t.highlight,!c)return d();for(;u<a.length;u++)(function(e){"code"!==e.type?--c||d():s(e.text,e.lang,(function(t,i){return t?d(t):null==i||i===e.text?--c||d():(e.text=i,e.escaped=!0,void(--c||d()))}))})(a[u])}else try{return t=l({},m.defaults,t||{}),h(t),r.parse(n.lex(e,t),t)}catch(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||m.defaults).silent)return"<p>An error occurred:</p><pre>"+u(o.message+"",!0)+"</pre>";throw o}}m.options=m.setOptions=function(e){return l(m.defaults,e),p(m.defaults),m},m.getDefaults=d,m.defaults=f,m.Parser=r,m.parser=r.parse,m.Renderer=o,m.TextRenderer=s,m.Lexer=n,m.lexer=n.lex,m.InlineLexer=a,m.inlineLexer=a.output,m.Slugger=c,m.parse=m,e.exports=m},e163:function(e,t,i){var n=i("5135"),r=i("7b0b"),o=i("f772"),s=i("e177"),a=o("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=r(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,t,i){var n=i("d039");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,i){"use strict";var n=i("fc6a"),r=i("44d2"),o=i("3f8c"),s=i("69f3"),a=i("7dd0"),c="Array Iterator",l=s.set,h=s.getterFor(c);e.exports=a(Array,"Array",(function(e,t){l(this,{type:c,target:n(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},e2cc:function(e,t,i){var n=i("6eeb");e.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}},e4d3:function(e,t,i){"use strict";var n=i("2b0e");t["a"]=n["a"].extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(e){e?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(e){this.originalValue=e,setTimeout(()=>{this.isActive=!1})}}})},e538:function(e,t,i){var n=i("b622");t.f=n},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e683:function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e6cf:function(e,t,i){"use strict";var n,r,o,s,a=i("23e7"),c=i("c430"),l=i("da84"),h=i("d066"),u=i("fea9"),d=i("6eeb"),p=i("e2cc"),f=i("d44e"),m=i("2626"),v=i("861d"),g=i("1c0b"),y=i("19aa"),_=i("c6b6"),b=i("8925"),x=i("2266"),w=i("1c7e"),S=i("4840"),C=i("2cf4").set,M=i("b575"),E=i("cdf9"),T=i("44de"),A=i("f069"),L=i("e667"),O=i("69f3"),R=i("94ca"),k=i("b622"),P=i("2d00"),D=k("species"),I="Promise",B=O.get,N=O.set,j=O.getterFor(I),H=u,F=l.TypeError,z=l.document,U=l.process,V=h("fetch"),W=A.f,G=W,$="process"==_(U),q=!!(z&&z.createEvent&&l.dispatchEvent),X="unhandledrejection",Y="rejectionhandled",Z=0,J=1,K=2,Q=1,ee=2,te=R(I,(function(){var e=b(H)!==String(H);if(!e){if(66===P)return!0;if(!$&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!H.prototype["finally"])return!0;if(P>=51&&/native code/.test(H))return!1;var t=H.resolve(1),i=function(e){e((function(){}),(function(){}))},n=t.constructor={};return n[D]=i,!(t.then((function(){}))instanceof i)})),ie=te||!w((function(e){H.all(e)["catch"]((function(){}))})),ne=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},re=function(e,t,i){if(!t.notified){t.notified=!0;var n=t.reactions;M((function(){var r=t.value,o=t.state==J,s=0;while(n.length>s){var a,c,l,h=n[s++],u=o?h.ok:h.fail,d=h.resolve,p=h.reject,f=h.domain;try{u?(o||(t.rejection===ee&&ce(e,t),t.rejection=Q),!0===u?a=r:(f&&f.enter(),a=u(r),f&&(f.exit(),l=!0)),a===h.promise?p(F("Promise-chain cycle")):(c=ne(a))?c.call(a,d,p):d(a)):p(r)}catch(m){f&&!l&&f.exit(),p(m)}}t.reactions=[],t.notified=!1,i&&!t.rejection&&se(e,t)}))}},oe=function(e,t,i){var n,r;q?(n=z.createEvent("Event"),n.promise=t,n.reason=i,n.initEvent(e,!1,!0),l.dispatchEvent(n)):n={promise:t,reason:i},(r=l["on"+e])?r(n):e===X&&T("Unhandled promise rejection",i)},se=function(e,t){C.call(l,(function(){var i,n=t.value,r=ae(t);if(r&&(i=L((function(){$?U.emit("unhandledRejection",n,e):oe(X,e,n)})),t.rejection=$||ae(t)?ee:Q,i.error))throw i.value}))},ae=function(e){return e.rejection!==Q&&!e.parent},ce=function(e,t){C.call(l,(function(){$?U.emit("rejectionHandled",e):oe(Y,e,t.value)}))},le=function(e,t,i,n){return function(r){e(t,i,r,n)}},he=function(e,t,i,n){t.done||(t.done=!0,n&&(t=n),t.value=i,t.state=K,re(e,t,!0))},ue=function(e,t,i,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===i)throw F("Promise can't be resolved itself");var r=ne(i);r?M((function(){var n={done:!1};try{r.call(i,le(ue,e,n,t),le(he,e,n,t))}catch(o){he(e,n,o,t)}})):(t.value=i,t.state=J,re(e,t,!1))}catch(o){he(e,{done:!1},o,t)}}};te&&(H=function(e){y(this,H,I),g(e),n.call(this);var t=B(this);try{e(le(ue,this,t),le(he,this,t))}catch(i){he(this,t,i)}},n=function(e){N(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})},n.prototype=p(H.prototype,{then:function(e,t){var i=j(this),n=W(S(this,H));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=$?U.domain:void 0,i.parent=!0,i.reactions.push(n),i.state!=Z&&re(this,i,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new n,t=B(e);this.promise=e,this.resolve=le(ue,e,t),this.reject=le(he,e,t)},A.f=W=function(e){return e===H||e===o?new r(e):G(e)},c||"function"!=typeof u||(s=u.prototype.then,d(u.prototype,"then",(function(e,t){var i=this;return new H((function(e,t){s.call(i,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return E(H,V.apply(l,arguments))}}))),a({global:!0,wrap:!0,forced:te},{Promise:H}),f(H,I,!1,!0),m(I),o=h(I),a({target:I,stat:!0,forced:te},{reject:function(e){var t=W(this);return t.reject.call(void 0,e),t.promise}}),a({target:I,stat:!0,forced:c||te},{resolve:function(e){return E(c&&this===o?H:this,e)}}),a({target:I,stat:!0,forced:ie},{all:function(e){var t=this,i=W(t),n=i.resolve,r=i.reject,o=L((function(){var i=g(t.resolve),o=[],s=0,a=1;x(e,(function(e){var c=s++,l=!1;o.push(void 0),a++,i.call(t,e).then((function(e){l||(l=!0,o[c]=e,--a||n(o))}),r)})),--a||n(o)}));return o.error&&r(o.value),i.promise},race:function(e){var t=this,i=W(t),n=i.reject,r=L((function(){var r=g(t.resolve);x(e,(function(e){r.call(t,e).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}})},e707:function(e,t,i){"use strict";i("3c93");var n=i("a9ad"),r=i("7560"),o=i("f2e7"),s=i("58df"),a=Object(s["a"])(n["a"],r["a"],o["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const e=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",e)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(e){const t=[this.__scrim];return this.isActive&&t.push(this.genContent()),e("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},t)}}),c=a,l=i("80d2"),h=i("2b0e");t["a"]=h["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data(){return{overlay:null}},watch:{hideOverlay(e){this.isActive&&(e?this.removeOverlay():this.genOverlay())}},beforeDestroy(){this.removeOverlay()},methods:{createOverlay(){const e=new c({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});e.$mount();const t=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");t&&t.insertBefore(e.$el,t.firstChild),this.overlay=e},genOverlay(){if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),requestAnimationFrame(()=>{this.overlay&&(void 0!==this.activeZIndex?this.overlay.zIndex=String(this.activeZIndex-1):this.$el&&(this.overlay.zIndex=Object(l["p"])(this.$el)))}),this.overlay&&(this.overlay.value=!0),!0},removeOverlay(e=!0){this.overlay&&(Object(l["a"])(this.overlay.$el,"transitionend",()=>{this.overlay&&this.overlay.$el&&this.overlay.$el.parentNode&&!this.overlay.value&&(this.overlay.$el.parentNode.removeChild(this.overlay.$el),this.overlay.$destroy(),this.overlay=null)}),this.overlay.value=!1),e&&this.showScroll()},scrollListener(e){if("keydown"===e.type){if(["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||e.target.isContentEditable)return;const t=[l["r"].up,l["r"].pageup],i=[l["r"].down,l["r"].pagedown];if(t.includes(e.keyCode))e.deltaY=-1;else{if(!i.includes(e.keyCode))return;e.deltaY=1}}(e.target===this.overlay||"keydown"!==e.type&&e.target===document.body||this.checkPath(e))&&e.preventDefault()},hasScrollbar(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["auto","scroll"].includes(t.overflowY)&&e.scrollHeight>e.clientHeight},shouldScroll(e,t){return 0===e.scrollTop&&t<0||e.scrollTop+e.clientHeight===e.scrollHeight&&t>0},isInside(e,t){return e===t||null!==e&&e!==document.body&&this.isInside(e.parentNode,t)},checkPath(e){const t=e.path||this.composedPath(e),i=e.deltaY;if("keydown"===e.type&&t[0]===document.body){const e=this.$refs.dialog,t=window.getSelection().anchorNode;return!(e&&this.hasScrollbar(e)&&this.isInside(t,e))||this.shouldScroll(e,i)}for(let n=0;n<t.length;n++){const e=t[n];if(e===document)return!0;if(e===document.documentElement)return!0;if(e===this.$refs.content)return!0;if(this.hasScrollbar(e))return this.shouldScroll(e,i)}return!0},composedPath(e){if(e.composedPath)return e.composedPath();const t=[];let i=e.target;while(i){if(t.push(i),"HTML"===i.tagName)return t.push(document),t.push(window),t;i=i.parentElement}return t},hideScroll(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(l["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}})},e893:function(e,t,i){var n=i("5135"),r=i("56ef"),o=i("06cf"),s=i("9bf2");e.exports=function(e,t){for(var i=r(t),a=s.f,c=o.f,l=0;l<i.length;l++){var h=i[l];n(e,h)||a(e,h,c(t,h))}}},e8b5:function(e,t,i){var n=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},e95a:function(e,t,i){var n=i("b622"),r=i("3f8c"),o=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[o]===e)}},e9b1:function(e,t,i){},eba7:function(e,t,i){const n=i("49b6"),r=i("27b0"),o=i("8725"),s=i("fbf7"),{defaults:a}=i("bdbb"),{merge:c,unescape:l}=i("ad42");e.exports=class e{constructor(e){this.tokens=[],this.token=null,this.options=e||a,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new r}static parse(t,i){const n=new e(i);return n.parse(t)}parse(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,c({},this.options,{renderer:new s})),this.tokens=e.reverse();let t="";while(this.next())t+=this.tok();return t}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let e=this.token.text;while("text"===this.peek().type)e+="\n"+this.next().text;return this.inline.output(e)}tok(){let e="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,l(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let t,i,n,r,o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(o+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(i=this.token.cells[t],n="",r=0;r<i.length;r++)n+=this.renderer.tablecell(this.inline.output(i[r]),{header:!1,align:this.token.align[r]});e+=this.renderer.tablerow(n)}return this.renderer.table(o,e)}case"blockquote_start":e="";while("blockquote_end"!==this.next().type)e+=this.tok();return this.renderer.blockquote(e);case"list_start":{e="";const t=this.token.ordered,i=this.token.start;while("list_end"!==this.next().type)e+=this.tok();return this.renderer.list(e,t,i)}case"list_item_start":{e="";const t=this.token.loose,i=this.token.checked,n=this.token.task;if(this.token.task)if(t)if("text"===this.peek().type){const e=this.peek();e.text=this.renderer.checkbox(i)+" "+e.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(i)});else e+=this.renderer.checkbox(i);while("list_item_end"!==this.next().type)e+=t||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(e,n,i)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const e='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(e);console.log(e)}}}}},ec29:function(e,t,i){},ee6f:function(e,t,i){},f069:function(e,t,i){"use strict";var n=i("1c0b"),r=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)};e.exports.f=function(e){return new r(e)}},f2e7:function(e,t,i){"use strict";i.d(t,"b",(function(){return r}));var n=i("2b0e");function r(e="value",t="input"){return n["a"].extend({name:"toggleable",model:{prop:e,event:t},props:{[e]:{required:!1}},data(){return{isActive:!!this[e]}},watch:{[e](e){this.isActive=!!e},isActive(i){!!i!==this[e]&&this.$emit(t,i)}}})}const o=r();t["a"]=o},f309:function(e,t,i){"use strict";i.d(t,"a",(function(){return xe}));var n={};i.r(n),i.d(n,"linear",(function(){return f})),i.d(n,"easeInQuad",(function(){return m})),i.d(n,"easeOutQuad",(function(){return v})),i.d(n,"easeInOutQuad",(function(){return g})),i.d(n,"easeInCubic",(function(){return y})),i.d(n,"easeOutCubic",(function(){return _})),i.d(n,"easeInOutCubic",(function(){return b})),i.d(n,"easeInQuart",(function(){return x})),i.d(n,"easeOutQuart",(function(){return w})),i.d(n,"easeInOutQuart",(function(){return S})),i.d(n,"easeInQuint",(function(){return C})),i.d(n,"easeOutQuint",(function(){return M})),i.d(n,"easeInOutQuint",(function(){return E}));var r=i("2b0e"),o=i("d9bd");function s(e,t={}){if(s.installed)return;s.installed=!0,r["a"]!==e&&Object(o["b"])("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");const i=t.components||{},n=t.directives||{};for(const r in n){const t=n[r];e.directive(r,t)}(function t(i){if(i){for(const n in i){const r=i[n];r&&!t(r.$_vuetify_subcomponents)&&e.component(n,r)}return!0}return!1})(i),e.$_vuetify_installed||(e.$_vuetify_installed=!0,e.mixin({beforeCreate(){const t=this.$options;t.vuetify?(t.vuetify.init(this,t.ssrContext),this.$vuetify=e.observable(t.vuetify.framework)):this.$vuetify=t.parent&&t.parent.$vuetify||this}}))}i("95ed");var a={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"}};const c={breakpoint:{scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:a},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}};var l=i("80d2");class h{constructor(){this.framework={}}init(e,t){}}class u extends h{constructor(e,t){super();const i=Object(l["t"])({},c),{userPreset:n}=t,{preset:r={},...s}=n;null!=r.preset&&Object(o["c"])("Global presets do not support the **preset** option, it can be safely omitted"),t.preset=Object(l["t"])(Object(l["t"])(i,r),s)}}u.property="presets";class d extends h{constructor(){super(...arguments),this.bar=0,this.top=0,this.left=0,this.insetFooter=0,this.right=0,this.bottom=0,this.footer=0,this.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}}}register(e,t,i){this.application[t]={[e]:i},this.update(t)}unregister(e,t){null!=this.application[t][e]&&(delete this.application[t][e],this.update(t))}update(e){this[e]=Object.values(this.application[e]).reduce((e,t)=>e+t,0)}}d.property="application";class p extends h{constructor(e){super(),this.xs=!1,this.sm=!1,this.md=!1,this.lg=!1,this.xl=!1,this.xsOnly=!1,this.smOnly=!1,this.smAndDown=!1,this.smAndUp=!1,this.mdOnly=!1,this.mdAndDown=!1,this.mdAndUp=!1,this.lgOnly=!1,this.lgAndDown=!1,this.lgAndUp=!1,this.xlOnly=!1,this.name="",this.height=0,this.width=0,this.resizeTimeout=0;const{scrollBarWidth:t,thresholds:i}=e[p.property];this.scrollBarWidth=t,this.thresholds=i,this.init()}init(){"undefined"!==typeof window&&(window.addEventListener("resize",this.onResize.bind(this),{passive:!0}),this.update())}onResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}update(){const e=this.getClientHeight(),t=this.getClientWidth(),i=t<this.thresholds.xs,n=t<this.thresholds.sm&&!i,r=t<this.thresholds.md-this.scrollBarWidth&&!(n||i),o=t<this.thresholds.lg-this.scrollBarWidth&&!(r||n||i),s=t>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=e,this.width=t,this.xs=i,this.sm=n,this.md=r,this.lg=o,this.xl=s,this.xsOnly=i,this.smOnly=n,this.smAndDown=(i||n)&&!(r||o||s),this.smAndUp=!i&&(n||r||o||s),this.mdOnly=r,this.mdAndDown=(i||n||r)&&!(o||s),this.mdAndUp=!(i||n)&&(r||o||s),this.lgOnly=o,this.lgAndDown=(i||n||r||o)&&!s,this.lgAndUp=!(i||n||r)&&(o||s),this.xlOnly=s,!0){case i:this.name="xs";break;case n:this.name="sm";break;case r:this.name="md";break;case o:this.name="lg";break;default:this.name="xl";break}}getClientWidth(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}getClientHeight(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}p.property="breakpoint";const f=e=>e,m=e=>e**2,v=e=>e*(2-e),g=e=>e<.5?2*e**2:(4-2*e)*e-1,y=e=>e**3,_=e=>--e**3+1,b=e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,x=e=>e**4,w=e=>1- --e**4,S=e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,C=e=>e**5,M=e=>1+--e**5,E=e=>e<.5?16*e**5:1+16*--e**5;function T(e){if("number"===typeof e)return e;let t=O(e);if(!t)throw"string"===typeof e?new Error(`Target element "${e}" not found.`):new TypeError(`Target must be a Number/Selector/HTMLElement/VueComponent, received ${L(e)} instead.`);let i=0;while(t)i+=t.offsetTop,t=t.offsetParent;return i}function A(e){const t=O(e);if(t)return t;throw"string"===typeof e?new Error(`Container element "${e}" not found.`):new TypeError(`Container must be a Selector/HTMLElement/VueComponent, received ${L(e)} instead.`)}function L(e){return null==e?e:e.constructor.name}function O(e){return"string"===typeof e?document.querySelector(e):e&&e._isVue?e.$el:e instanceof HTMLElement?e:null}function R(e,t={}){const i={container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0,...t},r=A(i.container);if(i.appOffset&&R.framework.application){const e=r.classList.contains("v-navigation-drawer"),t=r.classList.contains("v-navigation-drawer--clipped"),{bar:n,top:o}=R.framework.application;i.offset+=n,e&&!t||(i.offset+=o)}const o=performance.now();let s;s="number"===typeof e?T(e)-i.offset:T(e)-T(r)-i.offset;const a=r.scrollTop;if(s===a)return Promise.resolve(s);const c="function"===typeof i.easing?i.easing:n[i.easing];if(!c)throw new TypeError(`Easing function "${i.easing}" not found.`);return new Promise(e=>requestAnimationFrame((function t(n){const l=n-o,h=Math.abs(i.duration?Math.min(l/i.duration,1):1);r.scrollTop=Math.floor(a+(s-a)*c(h));const u=r===document.body?document.documentElement.clientHeight:r.clientHeight;if(1===h||u+r.scrollTop===r.scrollHeight)return e(s);requestAnimationFrame(t)})))}R.framework={},R.init=()=>{};class k extends h{constructor(){return super(),R}}k.property="goTo";const P={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",success:"M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",warning:"M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z",error:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"};var D=P;const I={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"};var B=I;const N={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"};var j=N;const H={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"};var F=H;const z={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"};var U=z;function V(e,t){const i={};for(const n in t)i[n]={component:e,props:{icon:t[n].split(" fa-")}};return i}var W=V("font-awesome-icon",F),G=Object.freeze({mdiSvg:D,md:B,mdi:j,fa:F,fa4:U,faSvg:W});class $ extends h{constructor(e){super();const{iconfont:t,values:i}=e[$.property];this.iconfont=t,this.values=Object(l["t"])(G[t],i)}}$.property="icons";const q="$vuetify.",X=Symbol("Lang fallback");function Y(e,t,i=!1,n){const r=t.replace(q,"");let s=Object(l["l"])(e,r,X);return s===X&&(i?(Object(o["b"])(`Translation key "${r}" not found in fallback`),s=t):(Object(o["c"])(`Translation key "${r}" not found, falling back to default`),s=Y(n,t,!0,n))),s}class Z extends h{constructor(e){super(),this.defaultLocale="en";const{current:t,locales:i,t:n}=e[Z.property];this.current=t,this.locales=i,this.translator=n||this.defaultTranslator}currentLocale(e){const t=this.locales[this.current],i=this.locales[this.defaultLocale];return Y(t,e,!1,i)}t(e,...t){return e.startsWith(q)?this.translator(e,...t):this.replace(e,t)}defaultTranslator(e,...t){return this.replace(this.currentLocale(e),t)}replace(e,t){return e.replace(/\{(\d+)\}/g,(e,i)=>String(t[+i]))}}Z.property="lang";const J=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],K=e=>e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055,Q=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],ee=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function te(e){const t=Array(3),i=K,n=J;for(let r=0;r<3;++r)t[r]=Math.round(255*Object(l["e"])(i(n[r][0]*e[0]+n[r][1]*e[1]+n[r][2]*e[2])));return(t[0]<<16)+(t[1]<<8)+(t[2]<<0)}function ie(e){const t=[0,0,0],i=ee,n=Q,r=i((e>>16&255)/255),o=i((e>>8&255)/255),s=i((e>>0&255)/255);for(let a=0;a<3;++a)t[a]=n[a][0]*r+n[a][1]*o+n[a][2]*s;return t}function ne(e){let t;if("number"===typeof e)t=e;else{if("string"!==typeof e)throw new TypeError(`Colors can only be numbers or strings, recieved ${null==e?e:e.constructor.name} instead`);{let i="#"===e[0]?e.substring(1):e;3===i.length&&(i=i.split("").map(e=>e+e).join("")),6!==i.length&&Object(o["c"])(`'${e}' is not a valid rgb color`),t=parseInt(i,16)}}return t<0?(Object(o["c"])(`Colors cannot be negative: '${e}'`),t=0):(t>16777215||isNaN(t))&&(Object(o["c"])(`'${e}' is not a valid rgb color`),t=16777215),t}function re(e){let t=e.toString(16);return t.length<6&&(t="0".repeat(6-t.length)+t),"#"+t}function oe(e){return re(ne(e))}const se=.20689655172413793,ae=e=>e>se**3?Math.cbrt(e):e/(3*se**2)+4/29,ce=e=>e>se?e**3:3*se**2*(e-4/29);function le(e){const t=ae,i=t(e[1]);return[116*i-16,500*(t(e[0]/.95047)-i),200*(i-t(e[2]/1.08883))]}function he(e){const t=ce,i=(e[0]+16)/116;return[.95047*t(i+e[1]/500),t(i),1.08883*t(i-e[2]/200)]}function ue(e,t=!1){const{anchor:i,...n}=e,r=Object.keys(n),o={};for(let s=0;s<r.length;++s){const i=r[s],n=e[i];null!=n&&(t?("base"===i||i.startsWith("lighten")||i.startsWith("darken"))&&(o[i]=oe(n)):o[i]="object"===typeof n?ue(n,!0):ge(i,ne(n)))}return t||(o.anchor=i||o.base||o.primary.base),o}const de=(e,t)=>`\n.v-application .${e} {\n  background-color: ${t} !important;\n  border-color: ${t} !important;\n}\n.v-application .${e}--text {\n  color: ${t} !important;\n  caret-color: ${t} !important;\n}`,pe=(e,t,i)=>{const[n,r]=t.split(/(\d)/,2);return`\n.v-application .${e}.${n}-${r} {\n  background-color: ${i} !important;\n  border-color: ${i} !important;\n}\n.v-application .${e}--text.text--${n}-${r} {\n  color: ${i} !important;\n  caret-color: ${i} !important;\n}`},fe=(e,t="base")=>`--v-${e}-${t}`,me=(e,t="base")=>`var(${fe(e,t)})`;function ve(e,t=!1){const{anchor:i,...n}=e,r=Object.keys(n);if(!r.length)return"";let o="",s="";const a=t?me("anchor"):i;s+=`.v-application a { color: ${a}; }`,t&&(o+=`  ${fe("anchor")}: ${i};\n`);for(let c=0;c<r.length;++c){const i=r[c],n=e[i];s+=de(i,t?me(i):n.base),t&&(o+=`  ${fe(i)}: ${n.base};\n`);const a=Object.keys(n);for(let e=0;e<a.length;++e){const r=a[e],c=n[r];"base"!==r&&(s+=pe(i,r,t?me(i,r):c),t&&(o+=`  ${fe(i,r)}: ${c};\n`))}}return t&&(o=`:root {\n${o}}\n\n`),o+s}function ge(e,t){const i={base:re(t)};for(let n=5;n>0;--n)i["lighten"+n]=re(ye(t,n));for(let n=1;n<=4;++n)i["darken"+n]=re(_e(t,n));return i}function ye(e,t){const i=le(ie(e));return i[0]=i[0]+10*t,te(he(i))}function _e(e,t){const i=le(ie(e));return i[0]=i[0]-10*t,te(he(i))}class be extends h{constructor(e){super(),this.disabled=!1,this.isDark=null,this.vueInstance=null,this.vueMeta=null;const{dark:t,disable:i,options:n,themes:r}=e[be.property];this.dark=Boolean(t),this.defaults=this.themes=r,this.options=n,i?this.disabled=!0:this.themes={dark:this.fillVariant(r.dark,!0),light:this.fillVariant(r.light,!1)}}set css(e){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=e)}set dark(e){const t=this.isDark;this.isDark=e,null!=t&&this.applyTheme()}get dark(){return Boolean(this.isDark)}applyTheme(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}clearCss(){this.css=""}init(e,t){this.disabled||(e.$meta?this.initVueMeta(e):t&&this.initSSR(t),this.initTheme())}setTheme(e,t){this.themes[e]=Object.assign(this.themes[e],t),this.applyTheme()}resetThemes(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}checkOrCreateStyleElement(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}fillVariant(e={},t){const i=this.themes[t?"dark":"light"];return Object.assign({},i,e)}genStyleElement(){if("undefined"===typeof document)return;const e=this.options||{};this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",e.cspNonce&&this.styleEl.setAttribute("nonce",e.cspNonce),document.head.appendChild(this.styleEl)}initVueMeta(e){if(this.vueMeta=e.$meta(),this.isVueMeta23)return void e.$nextTick(()=>{this.applyVueMeta23()});const t="function"===typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",i=e.$options[t]||{};e.$options[t]=()=>{i.style=i.style||[];const e=i.style.find(e=>"vuetify-theme-stylesheet"===e.id);return e?e.cssText=this.generatedStyles:i.style.push({cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(this.options||{}).cspNonce}),i}}applyVueMeta23(){const{set:e}=this.vueMeta.addApp("vuetify");e({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(this.options||{}).cspNonce}]})}initSSR(e){const t=this.options||{},i=t.cspNonce?` nonce="${t.cspNonce}"`:"";e.head=e.head||"",e.head+=`<style type="text/css" id="vuetify-theme-stylesheet"${i}>${this.generatedStyles}</style>`}initTheme(){"undefined"!==typeof document&&(this.vueInstance&&this.vueInstance.$destroy(),this.vueInstance=new r["a"]({data:{themes:this.themes},watch:{themes:{immediate:!0,deep:!0,handler:()=>this.applyTheme()}}}))}get currentTheme(){const e=this.dark?"dark":"light";return this.themes[e]}get generatedStyles(){const e=this.parsedTheme,t=this.options||{};let i;return null!=t.themeCache&&(i=t.themeCache.get(e),null!=i)||(i=ve(e,t.customProperties),null!=t.minifyTheme&&(i=t.minifyTheme(i)),null!=t.themeCache&&t.themeCache.set(e,i)),i}get parsedTheme(){const e=this.currentTheme||{};return ue(e)}get isVueMeta23(){return"function"===typeof this.vueMeta.addApp}}be.property="theme";class xe{constructor(e={}){this.framework={},this.installed=[],this.preset={},this.userPreset={},this.userPreset=e,this.use(u),this.use(d),this.use(p),this.use(k),this.use($),this.use(Z),this.use(be)}init(e,t){this.installed.forEach(i=>{const n=this.framework[i];n.framework=this.framework,n.init(e,t)}),this.framework.rtl=Boolean(this.preset.rtl)}use(e){const t=e.property;this.installed.includes(t)||(this.framework[t]=new e(this.preset,this),this.installed.push(t))}}xe.install=s,xe.installed=!1,xe.version="2.2.25"},f5df:function(e,t,i){var n=i("00ee"),r=i("c6b6"),o=i("b622"),s=o("toStringTag"),a="Arguments"==r(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(i){}};e.exports=n?r:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=c(t=Object(e),s))?i:a?r(t):"Object"==(n=r(t))&&"function"==typeof t.callee?"Arguments":n}},f6b4:function(e,t,i){"use strict";var n=i("c532");function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},f772:function(e,t,i){var n=i("5692"),r=i("90e3"),o=n("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},f774:function(e,t,i){"use strict";i("7958");var n=i("adda"),r=i("3a66"),o=i("a9ad"),s=i("b848"),a=i("e707"),c=i("d10f"),l=i("7560"),h=i("a293"),u=i("dc22"),d=i("c3f0"),p=i("80d2"),f=i("58df");const m=Object(f["a"])(Object(r["a"])("left",["isActive","isMobile","miniVariant","expandOnHover","permanent","right","temporary","width"]),o["a"],s["a"],a["a"],c["a"],l["a"]);t["a"]=m.extend({name:"v-navigation-drawer",provide(){return{isInNav:"nav"===this.tag}},directives:{ClickOutside:h["a"],Resize:u["a"],Touch:d["a"]},props:{bottom:Boolean,clipped:Boolean,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,height:{type:[Number,String],default(){return this.app?"100vh":"100%"}},miniVariant:Boolean,miniVariantWidth:{type:[Number,String],default:56},mobileBreakPoint:{type:[Number,String],default:1264},permanent:Boolean,right:Boolean,src:{type:[String,Object],default:""},stateless:Boolean,tag:{type:String,default(){return this.app?"nav":"aside"}},temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},value:null},data:()=>({isMouseover:!1,touchArea:{left:0,right:0},stackMinZIndex:6}),computed:{applicationProperty(){return this.right?"right":"left"},classes(){return{"v-navigation-drawer":!0,"v-navigation-drawer--absolute":this.absolute,"v-navigation-drawer--bottom":this.bottom,"v-navigation-drawer--clipped":this.clipped,"v-navigation-drawer--close":!this.isActive,"v-navigation-drawer--fixed":!this.absolute&&(this.app||this.fixed),"v-navigation-drawer--floating":this.floating,"v-navigation-drawer--is-mobile":this.isMobile,"v-navigation-drawer--is-mouseover":this.isMouseover,"v-navigation-drawer--mini-variant":this.isMiniVariant,"v-navigation-drawer--custom-mini-variant":56!==Number(this.miniVariantWidth),"v-navigation-drawer--open":this.isActive,"v-navigation-drawer--open-on-hover":this.expandOnHover,"v-navigation-drawer--right":this.right,"v-navigation-drawer--temporary":this.temporary,...this.themeClasses}},computedMaxHeight(){if(!this.hasApp)return null;const e=this.$vuetify.application.bottom+this.$vuetify.application.footer+this.$vuetify.application.bar;return this.clipped?e+this.$vuetify.application.top:e},computedTop(){if(!this.hasApp)return 0;let e=this.$vuetify.application.bar;return e+=this.clipped?this.$vuetify.application.top:0,e},computedTransform(){return this.isActive?0:this.isBottom||this.right?100:-100},computedWidth(){return this.isMiniVariant?this.miniVariantWidth:this.width},hasApp(){return this.app&&!this.isMobile&&!this.temporary},isBottom(){return this.bottom&&this.isMobile},isMiniVariant(){return!this.expandOnHover&&this.miniVariant||this.expandOnHover&&!this.isMouseover},isMobile(){return!this.stateless&&!this.permanent&&this.$vuetify.breakpoint.width<parseInt(this.mobileBreakPoint,10)},reactsToClick(){return!this.stateless&&!this.permanent&&(this.isMobile||this.temporary)},reactsToMobile(){return this.app&&!this.disableResizeWatcher&&!this.permanent&&!this.stateless&&!this.temporary},reactsToResize(){return!this.disableResizeWatcher&&!this.stateless},reactsToRoute(){return!this.disableRouteWatcher&&!this.stateless&&(this.temporary||this.isMobile)},showOverlay(){return!this.hideOverlay&&this.isActive&&(this.isMobile||this.temporary)},styles(){const e=this.isBottom?"translateY":"translateX",t={height:Object(p["f"])(this.height),top:this.isBottom?"auto":Object(p["f"])(this.computedTop),maxHeight:null!=this.computedMaxHeight?`calc(100% - ${Object(p["f"])(this.computedMaxHeight)})`:void 0,transform:`${e}(${Object(p["f"])(this.computedTransform,"%")})`,width:Object(p["f"])(this.computedWidth)};return t}},watch:{$route:"onRouteChange",isActive(e){this.$emit("input",e)},isMobile(e,t){!e&&this.isActive&&!this.temporary&&this.removeOverlay(),null!=t&&this.reactsToResize&&this.reactsToMobile&&(this.isActive=!e)},permanent(e){e&&(this.isActive=!0)},showOverlay(e){e?this.genOverlay():this.removeOverlay()},value(e){this.permanent||(null!=e?e!==this.isActive&&(this.isActive=e):this.init())},expandOnHover:"updateMiniVariant",isMouseover(e){this.updateMiniVariant(!e)}},beforeMount(){this.init()},methods:{calculateTouchArea(){const e=this.$el.parentNode;if(!e)return;const t=e.getBoundingClientRect();this.touchArea={left:t.left+50,right:t.right-50}},closeConditional(){return this.isActive&&!this._isDestroyed&&this.reactsToClick},genAppend(){return this.genPosition("append")},genBackground(){const e={height:"100%",width:"100%",src:this.src},t=this.$scopedSlots.img?this.$scopedSlots.img(e):this.$createElement(n["a"],{props:e});return this.$createElement("div",{staticClass:"v-navigation-drawer__image"},[t])},genDirectives(){const e=[{name:"click-outside",value:()=>this.isActive=!1,args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}}];return this.touchless||this.stateless||e.push({name:"touch",value:{parent:!0,left:this.swipeLeft,right:this.swipeRight}}),e},genListeners(){const e={transitionend:e=>{if(e.target!==e.currentTarget)return;this.$emit("transitionend",e);const t=document.createEvent("UIEvents");t.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(t)}};return this.miniVariant&&(e.click=()=>this.$emit("update:mini-variant",!1)),this.expandOnHover&&(e.mouseenter=()=>this.isMouseover=!0,e.mouseleave=()=>this.isMouseover=!1),e},genPosition(e){const t=Object(p["n"])(this,e);return t?this.$createElement("div",{staticClass:"v-navigation-drawer__"+e},t):t},genPrepend(){return this.genPosition("prepend")},genContent(){return this.$createElement("div",{staticClass:"v-navigation-drawer__content"},this.$slots.default)},genBorder(){return this.$createElement("div",{staticClass:"v-navigation-drawer__border"})},init(){this.permanent?this.isActive=!0:this.stateless||null!=this.value?this.isActive=this.value:this.temporary||(this.isActive=!this.isMobile)},onRouteChange(){this.reactsToRoute&&this.closeConditional()&&(this.isActive=!1)},swipeLeft(e){this.isActive&&this.right||(this.calculateTouchArea(),Math.abs(e.touchendX-e.touchstartX)<100||(this.right&&e.touchstartX>=this.touchArea.right?this.isActive=!0:!this.right&&this.isActive&&(this.isActive=!1)))},swipeRight(e){this.isActive&&!this.right||(this.calculateTouchArea(),Math.abs(e.touchendX-e.touchstartX)<100||(!this.right&&e.touchstartX<=this.touchArea.left?this.isActive=!0:this.right&&this.isActive&&(this.isActive=!1)))},updateApplication(){if(!this.isActive||this.isMobile||this.temporary||!this.$el)return 0;const e=Number(this.computedWidth);return isNaN(e)?this.$el.clientWidth:e},updateMiniVariant(e){this.miniVariant!==e&&this.$emit("update:mini-variant",e)}},render(e){const t=[this.genPrepend(),this.genContent(),this.genAppend(),this.genBorder()];return(this.src||Object(p["n"])(this,"img"))&&t.unshift(this.genBackground()),e(this.tag,this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,directives:this.genDirectives(),on:this.genListeners()}),t)}})},fb6a:function(e,t,i){"use strict";var n=i("23e7"),r=i("861d"),o=i("e8b5"),s=i("23cb"),a=i("50c4"),c=i("fc6a"),l=i("8418"),h=i("b622"),u=i("1dde"),d=i("ae40"),p=u("slice"),f=d("slice",{ACCESSORS:!0,0:0,1:2}),m=h("species"),v=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!p||!f},{slice:function(e,t){var i,n,h,u=c(this),d=a(u.length),p=s(e,d),f=s(void 0===t?d:t,d);if(o(u)&&(i=u.constructor,"function"!=typeof i||i!==Array&&!o(i.prototype)?r(i)&&(i=i[m],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return v.call(u,p,f);for(n=new(void 0===i?Array:i)(g(f-p,0)),h=0;p<f;p++,h++)p in u&&l(n,h,u[p]);return n.length=h,n}})},fbf7:function(e,t){e.exports=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}},fc6a:function(e,t,i){var n=i("44ad"),r=i("1d80");e.exports=function(e){return n(r(e))}},fcf3:function(e,t,i){!function(t,i){e.exports=i()}(window,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=32)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._listeners=[],this._disposed=!1}return Object.defineProperty(e.prototype,"event",{get:function(){var e=this;return this._event||(this._event=function(t){return e._listeners.push(t),{dispose:function(){if(!e._disposed)for(var i=0;i<e._listeners.length;i++)if(e._listeners[i]===t)return void e._listeners.splice(i,1)}}}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e,t){for(var i=[],n=0;n<this._listeners.length;n++)i.push(this._listeners[n]);for(n=0;n<i.length;n++)i[n].call(void 0,e,t)},e.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},e}();t.EventEmitter=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(14);t.IBufferService=n.createDecorator("BufferService"),t.ICoreMouseService=n.createDecorator("CoreMouseService"),t.ICoreService=n.createDecorator("CoreService"),t.ICharsetService=n.createDecorator("CharsetService"),t.IDirtyRowService=n.createDecorator("DirtyRowService"),t.IInstantiationService=n.createDecorator("InstantiationService"),t.ILogService=n.createDecorator("LogService"),t.IOptionsService=n.createDecorator("OptionsService"),t.IUnicodeService=n.createDecorator("UnicodeService")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._disposables=[],this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed=!0,this._disposables.forEach((function(e){return e.dispose()})),this._disposables.length=0},e.prototype.register=function(e){this._disposables.push(e)},e.prototype.unregister=function(e){var t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)},e}();t.Disposable=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLOR=256,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(14);t.ICharSizeService=n.createDecorator("CharSizeService"),t.ICoreBrowserService=n.createDecorator("CoreBrowserService"),t.IMouseService=n.createDecorator("MouseService"),t.IRenderService=n.createDecorator("RenderService"),t.ISelectionService=n.createDecorator("SelectionService"),t.ISoundService=n.createDecorator("SoundService")},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(7),s=i(3),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.content=0,t.fg=0,t.bg=0,t.combinedData="",t}return r(t,e),t.fromCharData=function(e){var i=new t;return i.setFromCharData(e),i},t.prototype.isCombined=function(){return 2097152&this.content},t.prototype.getWidth=function(){return this.content>>22},t.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?o.stringFromCodePoint(2097151&this.content):""},t.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},t.prototype.setFromCharData=function(e){this.fg=e[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var t=!1;if(e[s.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[s.CHAR_DATA_CHAR_INDEX].length){var i=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){var n=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=n&&n<=57343?this.content=1024*(i-55296)+n-56320+65536|e[s.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[s.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[s.CHAR_DATA_WIDTH_INDEX]<<22)},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(i(6).AttributeData);t.CellData=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.fg=0,this.bg=0}return e.toColorRGB=function(e){return[e>>>16&255,e>>>8&255,255&e]},e.fromColorRGB=function(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},e.prototype.clone=function(){var t=new e;return t.fg=this.fg,t.bg=this.bg,t},e.prototype.isInverse=function(){return 67108864&this.fg},e.prototype.isBold=function(){return 134217728&this.fg},e.prototype.isUnderline=function(){return 268435456&this.fg},e.prototype.isBlink=function(){return 536870912&this.fg},e.prototype.isInvisible=function(){return 1073741824&this.fg},e.prototype.isItalic=function(){return 67108864&this.bg},e.prototype.isDim=function(){return 134217728&this.bg},e.prototype.getFgColorMode=function(){return 50331648&this.fg},e.prototype.getBgColorMode=function(){return 50331648&this.bg},e.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},e.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},e.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},e.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},e.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},e.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},e.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},e.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},e.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},e}();t.AttributeData=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=e.length);for(var n="",r=t;r<i;++r){var o=e[r];o>65535?(o-=65536,n+=String.fromCharCode(55296+(o>>10))+String.fromCharCode(o%1024+56320)):n+=String.fromCharCode(o)}return n};var n=function(){function e(){this._interim=0}return e.prototype.clear=function(){this._interim=0},e.prototype.decode=function(e,t){var i=e.length;if(!i)return 0;var n=0,r=0;this._interim&&(56320<=(a=e.charCodeAt(r++))&&a<=57343?t[n++]=1024*(this._interim-55296)+a-56320+65536:(t[n++]=this._interim,t[n++]=a),this._interim=0);for(var o=r;o<i;++o){var s=e.charCodeAt(o);if(55296<=s&&s<=56319){if(++o>=i)return this._interim=s,n;var a;56320<=(a=e.charCodeAt(o))&&a<=57343?t[n++]=1024*(s-55296)+a-56320+65536:(t[n++]=s,t[n++]=a)}else t[n++]=s}return n},e}();t.StringToUtf32=n;var r=function(){function e(){this.interim=new Uint8Array(3)}return e.prototype.clear=function(){this.interim.fill(0)},e.prototype.decode=function(e,t){var i=e.length;if(!i)return 0;var n,r,o,s,a=0,c=0,l=0;if(this.interim[0]){var h=!1,u=this.interim[0];u&=192==(224&u)?31:224==(240&u)?15:7;for(var d=0,p=void 0;(p=63&this.interim[++d])&&d<4;)u<<=6,u|=p;for(var f=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,m=f-d;l<m;){if(l>=i)return 0;if(128!=(192&(p=e[l++]))){l--,h=!0;break}this.interim[d++]=p,u<<=6,u|=63&p}h||(2===f?u<128?l--:t[a++]=u:3===f?u<2048||u>=55296&&u<=57343||(t[a++]=u):u<65536||u>1114111||(t[a++]=u)),this.interim.fill(0)}for(var v=i-4,g=l;g<i;){for(;!(!(g<v)||128&(n=e[g])||128&(r=e[g+1])||128&(o=e[g+2])||128&(s=e[g+3]));)t[a++]=n,t[a++]=r,t[a++]=o,t[a++]=s,g+=4;if((n=e[g++])<128)t[a++]=n;else if(192==(224&n)){if(g>=i)return this.interim[0]=n,a;if(128!=(192&(r=e[g++]))){g--;continue}if((c=(31&n)<<6|63&r)<128){g--;continue}t[a++]=c}else if(224==(240&n)){if(g>=i)return this.interim[0]=n,a;if(128!=(192&(r=e[g++]))){g--;continue}if(g>=i)return this.interim[0]=n,this.interim[1]=r,a;if(128!=(192&(o=e[g++]))){g--;continue}if((c=(15&n)<<12|(63&r)<<6|63&o)<2048||c>=55296&&c<=57343)continue;t[a++]=c}else if(240==(248&n)){if(g>=i)return this.interim[0]=n,a;if(128!=(192&(r=e[g++]))){g--;continue}if(g>=i)return this.interim[0]=n,this.interim[1]=r,a;if(128!=(192&(o=e[g++]))){g--;continue}if(g>=i)return this.interim[0]=n,this.interim[1]=r,this.interim[2]=o,a;if(128!=(192&(s=e[g++]))){g--;continue}if((c=(7&n)<<18|(63&r)<<12|(63&o)<<6|63&s)<65536||c>1114111)continue;t[a++]=c}}return a},e}();t.Utf8ToUtf32=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=function(e,t,i,n){e.addEventListener(t,i,n);var r=!1;return{dispose:function(){r||(r=!0,e.removeEventListener(t,i,n))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.CHAR_ATLAS_CELL_SPACING=1},function(e,t,i){"use strict";var n,r,o,s;function a(e){var t=e.toString(16);return t.length<2?"0"+t:t}function c(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.toCss=function(e,t,i,n){return void 0!==n?"#"+a(e)+a(t)+a(i)+a(n):"#"+a(e)+a(t)+a(i)},e.toRgba=function(e,t,i,n){return void 0===n&&(n=255),(e<<24|t<<16|i<<8|n)>>>0}}(n=t.channels||(t.channels={})),(r=t.color||(t.color={})).blend=function(e,t){var i=(255&t.rgba)/255;if(1===i)return{css:t.css,rgba:t.rgba};var r=t.rgba>>24&255,o=t.rgba>>16&255,s=t.rgba>>8&255,a=e.rgba>>24&255,c=e.rgba>>16&255,l=e.rgba>>8&255,h=a+Math.round((r-a)*i),u=c+Math.round((o-c)*i),d=l+Math.round((s-l)*i);return{css:n.toCss(h,u,d),rgba:n.toRgba(h,u,d)}},r.ensureContrastRatio=function(e,t,i){var n=s.ensureContrastRatio(e.rgba,t.rgba,i);if(n)return s.toColor(n>>24&255,n>>16&255,n>>8&255)},r.opaque=function(e){var t=(255|e.rgba)>>>0,i=s.toChannels(t),r=i[0],o=i[1],a=i[2];return{css:n.toCss(r,o,a),rgba:t}},(t.css||(t.css={})).toColor=function(e){return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0}},function(e){function t(e,t,i){var n=e/255,r=t/255,o=i/255;return.2126*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.7152*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.0722*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(o=t.rgb||(t.rgb={})),function(e){function t(e,t,i){for(var n=e>>24&255,r=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,h=t>>8&255,u=c(o.relativeLuminance2(a,h,l),o.relativeLuminance2(n,r,s));u<i&&(a>0||l>0||h>0);)a-=Math.max(0,Math.ceil(.1*a)),l-=Math.max(0,Math.ceil(.1*l)),h-=Math.max(0,Math.ceil(.1*h)),u=c(o.relativeLuminance2(a,h,l),o.relativeLuminance2(n,r,s));return(a<<24|l<<16|h<<8|255)>>>0}function i(e,t,i){for(var n=e>>24&255,r=e>>16&255,s=e>>8&255,a=t>>24&255,l=t>>16&255,h=t>>8&255,u=c(o.relativeLuminance2(a,h,l),o.relativeLuminance2(n,r,s));u<i&&(a<255||l<255||h<255);)a=Math.min(255,a+Math.ceil(.1*(255-a))),l=Math.min(255,l+Math.ceil(.1*(255-l))),h=Math.min(255,h+Math.ceil(.1*(255-h))),u=c(o.relativeLuminance2(a,h,l),o.relativeLuminance2(n,r,s));return(a<<24|l<<16|h<<8|255)>>>0}e.ensureContrastRatio=function(e,n,r){var s=o.relativeLuminance(e>>8),a=o.relativeLuminance(n>>8);if(c(s,a)<r)return a<s?t(e,n,r):i(e,n,r)},e.reduceLuminance=t,e.increaseLuminance=i,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,i){return{css:n.toCss(e,t,i),rgba:n.toRgba(e,t,i)}}}(s=t.rgba||(t.rgba={})),t.toPaddedHex=a,t.contrastRatio=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="undefined"==typeof navigator,r=n?"node":navigator.userAgent,o=n?"node":navigator.platform;function s(e,t){return e.indexOf(t)>=0}t.isFirefox=!!~r.indexOf("Firefox"),t.isSafari=/^((?!chrome|android).)*safari/i.test(r),t.isMac=s(["Macintosh","MacIntel","MacPPC","Mac68K"],o),t.isIpad="iPad"===o,t.isIphone="iPhone"===o,t.isWindows=s(["Windows","Win16","Win32","WinCE"],o),t.isLinux=o.indexOf("Linux")>=0},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NUL="\0",e.SOH="",e.STX="",e.ETX="",e.EOT="",e.ENQ="",e.ACK="",e.BEL="",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="",e.SI="",e.DLE="",e.DC1="",e.DC2="",e.DC3="",e.DC4="",e.NAK="",e.SYN="",e.ETB="",e.CAN="",e.EM="",e.SUB="",e.ESC="",e.FS="",e.GS="",e.RS="",e.US="",e.SP=" ",e.DEL=""}(t.C0||(t.C0={})),function(e){e.PAD="",e.HOP="",e.BPH="",e.NBH="",e.IND="",e.NEL="",e.SSA="",e.ESA="",e.HTS="",e.HTJ="",e.VTS="",e.PLD="",e.PLU="",e.RI="",e.SS2="",e.SS3="",e.DCS="",e.PU1="",e.PU2="",e.STS="",e.CCH="",e.MW="",e.SPA="",e.EPA="",e.SOS="",e.SGCI="",e.SCI="",e.CSI="",e.ST="",e.OSC="",e.PM="",e.APC=""}(t.C1||(t.C1={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3),r=i(9),o=i(23),s=i(6),a=i(26),c=i(10),l=function(){function e(e,t,i,n,r,o,s,a){this._container=e,this._alpha=n,this._colors=r,this._rendererId=o,this._bufferService=s,this._optionsService=a,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._currentGlyphIdentifier={chars:"",code:0,bg:0,fg:0,bold:!1,dim:!1,italic:!1},this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+t+"-layer"),this._canvas.style.zIndex=i.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return e.prototype.dispose=function(){var e;this._container.removeChild(this._canvas),null===(e=this._charAtlas)||void 0===e||e.dispose()},e.prototype._initCanvas=function(){this._ctx=a.throwIfFalsy(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},e.prototype.onOptionsChanged=function(){},e.prototype.onBlur=function(){},e.prototype.onFocus=function(){},e.prototype.onCursorMove=function(){},e.prototype.onGridChanged=function(e,t){},e.prototype.onSelectionChanged=function(e,t,i){void 0===i&&(i=!1)},e.prototype.setColors=function(e){this._refreshCharAtlas(e)},e.prototype._setTransparency=function(e){if(e!==this._alpha){var t=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,t),this._refreshCharAtlas(this._colors),this.onGridChanged(0,this._bufferService.rows-1)}},e.prototype._refreshCharAtlas=function(e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=o.acquireCharAtlas(this._optionsService.options,this._rendererId,e,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},e.prototype.resize=function(e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(this._colors)},e.prototype._fillCells=function(e,t,i,n){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight)},e.prototype._fillBottomLineAtCells=function(e,t,i){void 0===i&&(i=1),this._ctx.fillRect(e*this._scaledCellWidth,(t+1)*this._scaledCellHeight-window.devicePixelRatio-1,i*this._scaledCellWidth,window.devicePixelRatio)},e.prototype._fillLeftLineAtCell=function(e,t,i){this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,window.devicePixelRatio*i,this._scaledCellHeight)},e.prototype._strokeRectAtCell=function(e,t,i,n){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(e*this._scaledCellWidth+window.devicePixelRatio/2,t*this._scaledCellHeight+window.devicePixelRatio/2,i*this._scaledCellWidth-window.devicePixelRatio,n*this._scaledCellHeight-window.devicePixelRatio)},e.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},e.prototype._clearCells=function(e,t,i,n){this._alpha?this._ctx.clearRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(e*this._scaledCellWidth,t*this._scaledCellHeight,i*this._scaledCellWidth,n*this._scaledCellHeight))},e.prototype._fillCharTrueColor=function(e,t,i){this._ctx.font=this._getFont(!1,!1),this._ctx.textBaseline="middle",this._clipRow(i),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2)},e.prototype._drawChars=function(e,t,i){var o,s,a=this._getContrastColor(e);a||e.isFgRGB()||e.isBgRGB()?this._drawUncachedChars(e,t,i,a):(e.isInverse()?(o=e.isBgDefault()?r.INVERTED_DEFAULT_COLOR:e.getBgColor(),s=e.isFgDefault()?r.INVERTED_DEFAULT_COLOR:e.getFgColor()):(s=e.isBgDefault()?n.DEFAULT_COLOR:e.getBgColor(),o=e.isFgDefault()?n.DEFAULT_COLOR:e.getFgColor()),o+=this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8?8:0,this._currentGlyphIdentifier.chars=e.getChars()||n.WHITESPACE_CELL_CHAR,this._currentGlyphIdentifier.code=e.getCode()||n.WHITESPACE_CELL_CODE,this._currentGlyphIdentifier.bg=s,this._currentGlyphIdentifier.fg=o,this._currentGlyphIdentifier.bold=!!e.isBold(),this._currentGlyphIdentifier.dim=!!e.isDim(),this._currentGlyphIdentifier.italic=!!e.isItalic(),this._charAtlas&&this._charAtlas.draw(this._ctx,this._currentGlyphIdentifier,t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop)||this._drawUncachedChars(e,t,i))},e.prototype._drawUncachedChars=function(e,t,i,n){if(this._ctx.save(),this._ctx.font=this._getFont(!!e.isBold(),!!e.isItalic()),this._ctx.textBaseline="middle",e.isInverse())if(n)this._ctx.fillStyle=n.css;else if(e.isBgDefault())this._ctx.fillStyle=c.color.opaque(this._colors.background).css;else if(e.isBgRGB())this._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var o=e.getBgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),this._ctx.fillStyle=this._colors.ansi[o].css}else if(n)this._ctx.fillStyle=n.css;else if(e.isFgDefault())this._ctx.fillStyle=this._colors.foreground.css;else if(e.isFgRGB())this._ctx.fillStyle="rgb("+s.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var a=e.getFgColor();this._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&a<8&&(a+=8),this._ctx.fillStyle=this._colors.ansi[a].css}this._clipRow(i),e.isDim()&&(this._ctx.globalAlpha=r.DIM_OPACITY),this._ctx.fillText(e.getChars(),t*this._scaledCellWidth+this._scaledCharLeft,i*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight/2),this._ctx.restore()},e.prototype._clipRow=function(e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,this._bufferService.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},e.prototype._getFont=function(e,t){return(t?"italic":"")+" "+(e?this._optionsService.options.fontWeightBold:this._optionsService.options.fontWeight)+" "+this._optionsService.options.fontSize*window.devicePixelRatio+"px "+this._optionsService.options.fontFamily},e.prototype._getContrastColor=function(e){if(1!==this._optionsService.options.minimumContrastRatio){var t=this._colors.contrastCache.getColor(e.bg,e.fg);if(void 0!==t)return t||void 0;var i=e.getFgColor(),n=e.getFgColorMode(),r=e.getBgColor(),o=e.getBgColorMode(),s=!!e.isInverse(),a=!!e.isInverse();if(s){var l=i;i=r,r=l;var h=n;n=o,o=h}var u=this._resolveBackgroundRgba(o,r,s),d=this._resolveForegroundRgba(n,i,s,a),p=c.rgba.ensureContrastRatio(u,d,this._optionsService.options.minimumContrastRatio);if(p){var f={css:c.channels.toCss(p>>24&255,p>>16&255,p>>8&255),rgba:p};return this._colors.contrastCache.setColor(e.bg,e.fg,f),f}this._colors.contrastCache.setColor(e.bg,e.fg,null)}},e.prototype._resolveBackgroundRgba=function(e,t,i){switch(e){case 16777216:case 33554432:return this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return i?this._colors.foreground.rgba:this._colors.background.rgba}},e.prototype._resolveForegroundRgba=function(e,t,i,n){switch(e){case 16777216:case 33554432:return this._optionsService.options.drawBoldTextInBrightColors&&n&&t<8&&(t+=8),this._colors.ansi[t].rgba;case 50331648:return t<<8;case 0:default:return i?this._colors.background.rgba:this._colors.foreground.rgba}},e}();t.BaseRenderLayer=l},function(e,t,i){"use strict";function n(e,t,i){t.di$target===t?t.di$dependencies.push({id:e,index:i}):(t.di$dependencies=[{id:e,index:i}],t.di$target=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e.di$dependencies||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);var i=function(e,t,r){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");n(i,e,r)};return i.toString=function(){return e},t.serviceRegistry.set(e,i),i}},function(e,t,i){"use strict";function n(e,t,i,n){if(void 0===i&&(i=0),void 0===n&&(n=e.length),i>=e.length)return e;i=(e.length+i)%e.length,n=n>=e.length?e.length:(e.length+n)%e.length;for(var r=i;r<n;++r)e[r]=t;return e}Object.defineProperty(t,"__esModule",{value:!0}),t.fill=function(e,t,i,r){return e.fill?e.fill(t,i,r):n(e,t,i,r)},t.fillFallback=n,t.concat=function(e,t){var i=new e.constructor(e.length+t.length);return i.set(e),i.set(t,e.length),i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),r=i(3),o=i(5),s=i(6);t.DEFAULT_ATTR_DATA=Object.freeze(new s.AttributeData);var a=function(){function e(e,t,i){void 0===i&&(i=!1),this.isWrapped=i,this._combined={},this._data=new Uint32Array(3*e);for(var n=t||o.CellData.fromCharData([0,r.NULL_CELL_CHAR,r.NULL_CELL_WIDTH,r.NULL_CELL_CODE]),s=0;s<e;++s)this.setCell(s,n);this.length=e}return e.prototype.get=function(e){var t=this._data[3*e+0],i=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:i?n.stringFromCodePoint(i):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):i]},e.prototype.set=function(e,t){this._data[3*e+1]=t[r.CHAR_DATA_ATTR_INDEX],t[r.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[r.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[r.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[r.CHAR_DATA_WIDTH_INDEX]<<22},e.prototype.getWidth=function(e){return this._data[3*e+0]>>22},e.prototype.hasWidth=function(e){return 12582912&this._data[3*e+0]},e.prototype.getFg=function(e){return this._data[3*e+1]},e.prototype.getBg=function(e){return this._data[3*e+2]},e.prototype.hasContent=function(e){return 4194303&this._data[3*e+0]},e.prototype.getCodePoint=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t},e.prototype.isCombined=function(e){return 2097152&this._data[3*e+0]},e.prototype.getString=function(e){var t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?n.stringFromCodePoint(2097151&t):""},e.prototype.loadCell=function(e,t){var i=3*e;return t.content=this._data[i+0],t.fg=this._data[i+1],t.bg=this._data[i+2],2097152&t.content&&(t.combinedData=this._combined[e]),t},e.prototype.setCell=function(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg},e.prototype.setCellFromCodePoint=function(e,t,i,n,r){this._data[3*e+0]=t|i<<22,this._data[3*e+1]=n,this._data[3*e+2]=r},e.prototype.addCodepointToCell=function(e,t){var i=this._data[3*e+0];2097152&i?this._combined[e]+=n.stringFromCodePoint(t):(2097151&i?(this._combined[e]=n.stringFromCodePoint(2097151&i)+n.stringFromCodePoint(t),i&=-2097152,i|=2097152):i=t|1<<22,this._data[3*e+0]=i)},e.prototype.insertCells=function(e,t,i,n){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0),t<this.length-e){for(var r=new o.CellData,s=this.length-e-t-1;s>=0;--s)this.setCell(e+t+s,this.loadCell(e+s,r));for(s=0;s<t;++s)this.setCell(e+s,i)}else for(s=e;s<this.length;++s)this.setCell(s,i);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0)},e.prototype.deleteCells=function(e,t,i,n){if(e%=this.length,t<this.length-e){for(var r=new o.CellData,s=0;s<this.length-e-t;++s)this.setCell(e+s,this.loadCell(e+t+s,r));for(s=this.length-t;s<this.length;++s)this.setCell(s,i)}else for(s=e;s<this.length;++s)this.setCell(s,i);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0)},e.prototype.replaceCells=function(e,t,i,n){for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==n?void 0:n.fg)||0,(null==n?void 0:n.bg)||0);e<t&&e<this.length;)this.setCell(e++,i)},e.prototype.resize=function(e,t){if(e!==this.length){if(e>this.length){var i=new Uint32Array(3*e);this.length&&(3*e<this._data.length?i.set(this._data.subarray(0,3*e)):i.set(this._data)),this._data=i;for(var n=this.length;n<e;++n)this.setCell(n,t)}else if(e){(i=new Uint32Array(3*e)).set(this._data.subarray(0,3*e)),this._data=i;var r=Object.keys(this._combined);for(n=0;n<r.length;n++){var o=parseInt(r[n],10);o>=e&&delete this._combined[o]}}else this._data=new Uint32Array(0),this._combined={};this.length=e}},e.prototype.fill=function(e){this._combined={};for(var t=0;t<this.length;++t)this.setCell(t,e)},e.prototype.copyFrom=function(e){for(var t in this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={},e._combined)this._combined[t]=e._combined[t];this.isWrapped=e.isWrapped},e.prototype.clone=function(){var t=new e(0);for(var i in t._data=new Uint32Array(this._data),t.length=this.length,this._combined)t._combined[i]=this._combined[i];return t.isWrapped=this.isWrapped,t},e.prototype.getTrimmedLength=function(){for(var e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0},e.prototype.copyCellsFrom=function(e,t,i,n,r){var o=e._data;if(r)for(var s=n-1;s>=0;s--)for(var a=0;a<3;a++)this._data[3*(i+s)+a]=o[3*(t+s)+a];else for(s=0;s<n;s++)for(a=0;a<3;a++)this._data[3*(i+s)+a]=o[3*(t+s)+a];var c=Object.keys(e._combined);for(a=0;a<c.length;a++){var l=parseInt(c[a],10);l>=t&&(this._combined[l-t+i]=e._combined[l])}},e.prototype.translateToString=function(e,t,i){void 0===e&&(e=!1),void 0===t&&(t=0),void 0===i&&(i=this.length),e&&(i=Math.min(i,this.getTrimmedLength()));for(var o="";t<i;){var s=this._data[3*t+0],a=2097151&s;o+=2097152&s?this._combined[t]:a?n.stringFromCodePoint(a):r.WHITESPACE_CELL_CHAR,t+=s>>22||1}return o},e}();t.BufferLine=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},t.CHARSETS.A={"#":""},t.CHARSETS.B=null,t.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},t.CHARSETS.C=t.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},t.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},t.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS.E=t.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},t.CHARSETS.H=t.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},t.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){if(void 0===e&&(e=32),void 0===t&&(t=32),this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}return e.fromArray=function(t){var i=new e;if(!t.length)return i;for(var n=t[0]instanceof Array?1:0;n<t.length;++n){var r=t[n];if(r instanceof Array)for(var o=0;o<r.length;++o)i.addSubParam(r[o]);else i.addParam(r)}return i},e.prototype.clone=function(){var t=new e(this.maxLength,this.maxSubParamsLength);return t.params.set(this.params),t.length=this.length,t._subParams.set(this._subParams),t._subParamsLength=this._subParamsLength,t._subParamsIdx.set(this._subParamsIdx),t._rejectDigits=this._rejectDigits,t._rejectSubDigits=this._rejectSubDigits,t._digitIsSub=this._digitIsSub,t},e.prototype.toArray=function(){for(var e=[],t=0;t<this.length;++t){e.push(this.params[t]);var i=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];n-i>0&&e.push(Array.prototype.slice.call(this._subParams,i,n))}return e},e.prototype.reset=function(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1},e.prototype.addParam=function(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>2147483647?2147483647:e}},e.prototype.addSubParam=function(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>2147483647?2147483647:e,this._subParamsIdx[this.length-1]++}},e.prototype.hasSubParams=function(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0},e.prototype.getSubParams=function(e){var t=this._subParamsIdx[e]>>8,i=255&this._subParamsIdx[e];return i-t>0?this._subParams.subarray(t,i):null},e.prototype.getSubParamsAll=function(){for(var e={},t=0;t<this.length;++t){var i=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];n-i>0&&(e[t]=this._subParams.slice(i,n))}return e},e.prototype.addDigit=function(e){var t;if(!(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)){var i=this._digitIsSub?this._subParams:this.params,n=i[t-1];i[t-1]=~n?Math.min(10*n+e,2147483647):e}},e}();t.Params=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(21),r=i(7),o=function(){function e(){this._state=0,this._id=-1,this._handlers=Object.create(null),this._handlerFb=function(){}}return e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var i=this._handlers[e];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.reset=function(){2===this._state&&this.end(!1),this._id=-1,this._state=0},e.prototype._start=function(){var e=this._handlers[this._id];if(e)for(var t=e.length-1;t>=0;t--)e[t].start();else this._handlerFb(this._id,"START")},e.prototype._put=function(e,t,i){var n=this._handlers[this._id];if(n)for(var o=n.length-1;o>=0;o--)n[o].put(e,t,i);else this._handlerFb(this._id,"PUT",r.utf32ToString(e,t,i))},e.prototype._end=function(e){var t=this._handlers[this._id];if(t){for(var i=t.length-1;i>=0&&!1===t[i].end(e);i--);for(i--;i>=0;i--)t[i].end(!1)}else this._handlerFb(this._id,"END",e)},e.prototype.start=function(){this.reset(),this._id=-1,this._state=1},e.prototype.put=function(e,t,i){if(3!==this._state){if(1===this._state)for(;t<i;){var n=e[t++];if(59===n){this._state=2,this._start();break}if(n<48||57<n)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+n-48}2===this._state&&i-t>0&&this._put(e,t,i)}},e.prototype.end=function(e){0!==this._state&&(3!==this._state&&(1===this._state&&this._start(),this._end(e)),this._id=-1,this._state=0)},e}();t.OscParser=o;var s=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.start=function(){this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,i){this._hitLimit||(this._data+=r.utf32ToString(e,t,i),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.end=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data)),this._data="",this._hitLimit=!1,t},e}();t.OscHandler=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=1e7},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(7),r=i(19),o=i(21),s=[],a=function(){function e(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=function(){}}return e.prototype.dispose=function(){this._handlers=Object.create(null),this._handlerFb=function(){}},e.prototype.addHandler=function(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);var i=this._handlers[e];return i.push(t),{dispose:function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}}},e.prototype.setHandler=function(e,t){this._handlers[e]=[t]},e.prototype.clearHandler=function(e){this._handlers[e]&&delete this._handlers[e]},e.prototype.setHandlerFallback=function(e){this._handlerFb=e},e.prototype.reset=function(){this._active.length&&this.unhook(!1),this._active=s,this._ident=0},e.prototype.hook=function(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(var i=this._active.length-1;i>=0;i--)this._active[i].hook(t);else this._handlerFb(this._ident,"HOOK",t)},e.prototype.put=function(e,t,i){if(this._active.length)for(var r=this._active.length-1;r>=0;r--)this._active[r].put(e,t,i);else this._handlerFb(this._ident,"PUT",n.utf32ToString(e,t,i))},e.prototype.unhook=function(e){if(this._active.length){for(var t=this._active.length-1;t>=0&&!1===this._active[t].unhook(e);t--);for(t--;t>=0;t--)this._active[t].unhook(!1)}else this._handlerFb(this._ident,"UNHOOK",e);this._active=s,this._ident=0},e}();t.DcsParser=a;var c=function(){function e(e){this._handler=e,this._data="",this._hitLimit=!1}return e.prototype.hook=function(e){this._params=e.clone(),this._data="",this._hitLimit=!1},e.prototype.put=function(e,t,i){this._hitLimit||(this._data+=n.utf32ToString(e,t,i),this._data.length>o.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))},e.prototype.unhook=function(e){var t;return this._hitLimit?t=!1:e&&(t=this._handler(this._data,this._params?this._params:new r.Params)),this._params=void 0,this._data="",this._hitLimit=!1,t},e}();t.DcsHandler=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(24),r=i(42),o=[];t.acquireCharAtlas=function(e,t,i,s,a){for(var c=n.generateConfig(s,a,e,i),l=0;l<o.length;l++){var h=(u=o[l]).ownedBy.indexOf(t);if(h>=0){if(n.configEquals(u.config,c))return u.atlas;1===u.ownedBy.length?(u.atlas.dispose(),o.splice(l,1)):u.ownedBy.splice(h,1);break}}for(l=0;l<o.length;l++){var u=o[l];if(n.configEquals(u.config,c))return u.ownedBy.push(t),u.atlas}var d={atlas:new r.DynamicCharAtlas(document,c),config:c,ownedBy:[t]};return o.push(d),d.atlas},t.removeTerminalFromCache=function(e){for(var t=0;t<o.length;t++){var i=o[t].ownedBy.indexOf(e);if(-1!==i){1===o[t].ownedBy.length?(o[t].atlas.dispose(),o.splice(t,1)):o[t].ownedBy.splice(i,1);break}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3);t.generateConfig=function(e,t,i,n){var r={foreground:n.foreground,background:n.background,cursor:void 0,cursorAccent:void 0,selection:void 0,ansi:n.ansi.slice(0,16)};return{devicePixelRatio:window.devicePixelRatio,scaledCharWidth:e,scaledCharHeight:t,fontFamily:i.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight,fontWeightBold:i.fontWeightBold,allowTransparency:i.allowTransparency,colors:r}},t.configEquals=function(e,t){for(var i=0;i<e.colors.ansi.length;i++)if(e.colors.ansi[i].rgba!==t.colors.ansi[i].rgba)return!1;return e.devicePixelRatio===t.devicePixelRatio&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontWeight===t.fontWeight&&e.fontWeightBold===t.fontWeightBold&&e.allowTransparency===t.allowTransparency&&e.scaledCharWidth===t.scaledCharWidth&&e.scaledCharHeight===t.scaledCharHeight&&e.colors.foreground===t.colors.foreground&&e.colors.background===t.colors.background},t.is256Color=function(e){return e<n.DEFAULT_COLOR}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(10),r=i(44),o=n.css.toColor("#ffffff"),s=n.css.toColor("#000000"),a=n.css.toColor("#ffffff"),c=n.css.toColor("#000000"),l={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=function(){for(var e=[n.css.toColor("#2e3436"),n.css.toColor("#cc0000"),n.css.toColor("#4e9a06"),n.css.toColor("#c4a000"),n.css.toColor("#3465a4"),n.css.toColor("#75507b"),n.css.toColor("#06989a"),n.css.toColor("#d3d7cf"),n.css.toColor("#555753"),n.css.toColor("#ef2929"),n.css.toColor("#8ae234"),n.css.toColor("#fce94f"),n.css.toColor("#729fcf"),n.css.toColor("#ad7fa8"),n.css.toColor("#34e2e2"),n.css.toColor("#eeeeec")],t=[0,95,135,175,215,255],i=0;i<216;i++){var r=t[i/36%6|0],o=t[i/6%6|0],s=t[i%6];e.push({css:n.channels.toCss(r,o,s),rgba:n.channels.toRgba(r,o,s)})}for(i=0;i<24;i++){var a=8+10*i;e.push({css:n.channels.toCss(a,a,a),rgba:n.channels.toRgba(a,a,a)})}return e}();var h=function(){function e(e,i){this.allowTransparency=i;var h=e.createElement("canvas");h.width=1,h.height=1;var u=h.getContext("2d");if(!u)throw new Error("Could not get rendering context");this._ctx=u,this._ctx.globalCompositeOperation="copy",this._litmusColor=this._ctx.createLinearGradient(0,0,1,1),this._contrastCache=new r.ColorContrastCache,this.colors={foreground:o,background:s,cursor:a,cursorAccent:c,selection:l,selectionOpaque:n.color.blend(s,l),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache}}return e.prototype.onOptionsChange=function(e){"minimumContrastRatio"===e&&this._contrastCache.clear()},e.prototype.setTheme=function(e){void 0===e&&(e={}),this.colors.foreground=this._parseColor(e.foreground,o),this.colors.background=this._parseColor(e.background,s),this.colors.cursor=this._parseColor(e.cursor,a,!0),this.colors.cursorAccent=this._parseColor(e.cursorAccent,c,!0),this.colors.selection=this._parseColor(e.selection,l,!0),this.colors.selectionOpaque=n.color.blend(this.colors.background,this.colors.selection),this.colors.ansi[0]=this._parseColor(e.black,t.DEFAULT_ANSI_COLORS[0]),this.colors.ansi[1]=this._parseColor(e.red,t.DEFAULT_ANSI_COLORS[1]),this.colors.ansi[2]=this._parseColor(e.green,t.DEFAULT_ANSI_COLORS[2]),this.colors.ansi[3]=this._parseColor(e.yellow,t.DEFAULT_ANSI_COLORS[3]),this.colors.ansi[4]=this._parseColor(e.blue,t.DEFAULT_ANSI_COLORS[4]),this.colors.ansi[5]=this._parseColor(e.magenta,t.DEFAULT_ANSI_COLORS[5]),this.colors.ansi[6]=this._parseColor(e.cyan,t.DEFAULT_ANSI_COLORS[6]),this.colors.ansi[7]=this._parseColor(e.white,t.DEFAULT_ANSI_COLORS[7]),this.colors.ansi[8]=this._parseColor(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),this.colors.ansi[9]=this._parseColor(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),this.colors.ansi[10]=this._parseColor(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),this.colors.ansi[11]=this._parseColor(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),this.colors.ansi[12]=this._parseColor(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),this.colors.ansi[13]=this._parseColor(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),this.colors.ansi[14]=this._parseColor(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),this.colors.ansi[15]=this._parseColor(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),this._contrastCache.clear()},e.prototype._parseColor=function(e,t,i){if(void 0===i&&(i=this.allowTransparency),void 0===e)return t;if(this._ctx.fillStyle=this._litmusColor,this._ctx.fillStyle=e,"string"!=typeof this._ctx.fillStyle)return console.warn("Color: "+e+" is invalid using fallback "+t.css),t;this._ctx.fillRect(0,0,1,1);var r=this._ctx.getImageData(0,0,1,1).data;if(255!==r[3]){if(!i)return console.warn("Color: "+e+" is using transparency, but allowTransparency is false. Using fallback "+t.css+"."),t;var o=this._ctx.fillStyle.substring(5,this._ctx.fillStyle.length-1).split(",").map((function(e){return Number(e)})),s=o[0],a=o[1],c=o[2],l=o[3],h=Math.round(255*l);return{rgba:n.channels.toRgba(s,a,c,h),css:e}}return{css:this._ctx.fillStyle,rgba:n.channels.toRgba(r[0],r[1],r[2],r[3])}},e}();t.ColorManager=h},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e}},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(6),s=i(3),a=i(5),c=function(e){function t(t,i,n){var r=e.call(this)||this;return r.content=0,r.combinedData="",r.fg=t.fg,r.bg=t.bg,r.combinedData=i,r._width=n,r}return r(t,e),t.prototype.isCombined=function(){return 2097152},t.prototype.getWidth=function(){return this._width},t.prototype.getChars=function(){return this.combinedData},t.prototype.getCode=function(){return 2097151},t.prototype.setFromCharData=function(e){throw new Error("not implemented")},t.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},t}(o.AttributeData);t.JoinedCellData=c;var l=function(){function e(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new a.CellData}return e.prototype.registerCharacterJoiner=function(e){var t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id},e.prototype.deregisterCharacterJoiner=function(e){for(var t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1},e.prototype.getJoinedCharacters=function(e){if(0===this._characterJoiners.length)return[];var t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];for(var i=[],n=t.translateToString(!0),r=0,o=0,a=0,c=t.getFg(0),l=t.getBg(0),h=0;h<t.getTrimmedLength();h++)if(t.loadCell(h,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==c||this._workCell.bg!==l){if(h-r>1)for(var u=this._getJoinedRanges(n,a,o,t,r),d=0;d<u.length;d++)i.push(u[d]);r=h,a=o,c=this._workCell.fg,l=this._workCell.bg}o+=this._workCell.getChars().length||s.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-r>1)for(u=this._getJoinedRanges(n,a,o,t,r),d=0;d<u.length;d++)i.push(u[d]);return i},e.prototype._getJoinedRanges=function(t,i,n,r,o){for(var s=t.substring(i,n),a=this._characterJoiners[0].handler(s),c=1;c<this._characterJoiners.length;c++)for(var l=this._characterJoiners[c].handler(s),h=0;h<l.length;h++)e._mergeRanges(a,l[h]);return this._stringRangesToCellRanges(a,r,o),a},e.prototype._stringRangesToCellRanges=function(e,t,i){var n=0,r=!1,o=0,a=e[n];if(a){for(var c=i;c<this._bufferService.cols;c++){var l=t.getWidth(c),h=t.getString(c).length||s.WHITESPACE_CELL_CHAR.length;if(0!==l){if(!r&&a[0]<=o&&(a[0]=c,r=!0),a[1]<=o){if(a[1]=c,!(a=e[++n]))break;a[0]<=o?(a[0]=c,r=!0):r=!1}o+=h}}a&&(a[1]=this._bufferService.cols)}},e._mergeRanges=function(e,t){for(var i=!1,n=0;n<e.length;n++){var r=e[n];if(i){if(t[1]<=r[0])return e[n-1][1]=t[1],e;if(t[1]<=r[1])return e[n-1][1]=Math.max(t[1],r[1]),e.splice(n,1),e;e.splice(n,1),n--}else{if(t[1]<=r[0])return e.splice(n,0,t),e;if(t[1]<=r[1])return r[0]=Math.min(t[0],r[0]),e;t[0]<r[1]&&(r[0]=Math.min(t[0],r[0]),i=!0)}}return i?e[e.length-1][1]=t[1]:e.push(t),e},e}();t.CharacterJoinerRegistry=l},function(e,t,i){"use strict";function n(e,t){var i=t.getBoundingClientRect();return[e.clientX-i.left,e.clientY-i.top]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoordsRelativeToElement=n,t.getCoords=function(e,t,i,r,o,s,a,c){if(o){var l=n(e,t);if(l)return l[0]=Math.ceil((l[0]+(c?s/2:0))/s),l[1]=Math.ceil(l[1]/a),l[0]=Math.min(Math.max(l[0],1),i+(c?1:0)),l[1]=Math.min(Math.max(l[1],1),r),l}},t.getRawByteCoords=function(e){if(e)return{x:e[0]+32,y:e[1]+32}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._renderCallback=e}return e.prototype.dispose=function(){this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.refresh=function(e,t,i){var n=this;this._rowCount=i,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){return n._innerRefresh()})))},e.prototype._innerRefresh=function(){void 0!==this._rowStart&&void 0!==this._rowEnd&&void 0!==this._rowCount&&(this._rowStart=Math.max(this._rowStart,0),this._rowEnd=Math.min(this._rowEnd,this._rowCount-1),this._renderCallback(this._rowStart,this._rowEnd),this._rowStart=void 0,this._rowEnd=void 0,this._animationFrame=void 0)},e}();t.RenderDebouncer=n},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentDevicePixelRatio=window.devicePixelRatio,t}return r(t,e),t.prototype.setListener=function(e){var t=this;this._listener&&this.clearListener(),this._listener=e,this._outerListener=function(){t._listener&&(t._listener(window.devicePixelRatio,t._currentDevicePixelRatio),t._updateDpr())},this._updateDpr()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.clearListener()},t.prototype._updateDpr=function(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._currentDevicePixelRatio=window.devicePixelRatio,this._resolutionMediaMatchList=window.matchMedia("screen and (resolution: "+window.devicePixelRatio+"dppx)"),this._resolutionMediaMatchList.addListener(this._outerListener))},t.prototype.clearListener=function(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)},t}(i(2).Disposable);t.ScreenDprMonitor=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function e(t,i){if(void 0===i&&(i=5),"object"!=typeof t)return t;var n=Array.isArray(t)?[]:{};for(var r in t)n[r]=i<=1?t[r]:t[r]?e(t[r],i-1):t[r];return n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(5),r=i(33),o=i(17),s=i(0),a=i(81),c=function(){function e(e){this._core=new r.Terminal(e),this._addonManager=new a.AddonManager}return Object.defineProperty(e.prototype,"onCursorMove",{get:function(){return this._core.onCursorMove},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLineFeed",{get:function(){return this._core.onLineFeed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._core.onSelectionChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onData",{get:function(){return this._core.onData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._core.onBinary},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTitleChange",{get:function(){return this._core.onTitleChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onScroll",{get:function(){return this._core.onScroll},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onKey",{get:function(){return this._core.onKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRender",{get:function(){return this._core.onRender},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onResize",{get:function(){return this._core.onResize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._core.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parser",{get:function(){return this._parser||(this._parser=new d(this._core)),this._parser},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unicode",{get:function(){return new p(this._core)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textarea",{get:function(){return this._core.textarea},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._core.rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cols",{get:function(){return this._core.cols},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffer",{get:function(){return new h(this._core.buffers)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"markers",{get:function(){return this._core.markers},enumerable:!0,configurable:!0}),e.prototype.blur=function(){this._core.blur()},e.prototype.focus=function(){this._core.focus()},e.prototype.resize=function(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)},e.prototype.open=function(e){this._core.open(e)},e.prototype.attachCustomKeyEventHandler=function(e){this._core.attachCustomKeyEventHandler(e)},e.prototype.registerLinkMatcher=function(e,t,i){return this._core.registerLinkMatcher(e,t,i)},e.prototype.deregisterLinkMatcher=function(e){this._core.deregisterLinkMatcher(e)},e.prototype.registerLinkProvider=function(e){return this._core.registerLinkProvider(e)},e.prototype.registerCharacterJoiner=function(e){return this._core.registerCharacterJoiner(e)},e.prototype.deregisterCharacterJoiner=function(e){this._core.deregisterCharacterJoiner(e)},e.prototype.registerMarker=function(e){return this._verifyIntegers(e),this._core.addMarker(e)},e.prototype.addMarker=function(e){return this.registerMarker(e)},e.prototype.hasSelection=function(){return this._core.hasSelection()},e.prototype.select=function(e,t,i){this._verifyIntegers(e,t,i),this._core.select(e,t,i)},e.prototype.getSelection=function(){return this._core.getSelection()},e.prototype.getSelectionPosition=function(){return this._core.getSelectionPosition()},e.prototype.clearSelection=function(){this._core.clearSelection()},e.prototype.selectAll=function(){this._core.selectAll()},e.prototype.selectLines=function(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)},e.prototype.dispose=function(){this._addonManager.dispose(),this._core.dispose()},e.prototype.scrollLines=function(e){this._verifyIntegers(e),this._core.scrollLines(e)},e.prototype.scrollPages=function(e){this._verifyIntegers(e),this._core.scrollPages(e)},e.prototype.scrollToTop=function(){this._core.scrollToTop()},e.prototype.scrollToBottom=function(){this._core.scrollToBottom()},e.prototype.scrollToLine=function(e){this._verifyIntegers(e),this._core.scrollToLine(e)},e.prototype.clear=function(){this._core.clear()},e.prototype.write=function(e,t){this._core.write(e,t)},e.prototype.writeUtf8=function(e,t){this._core.write(e,t)},e.prototype.writeln=function(e,t){this._core.write(e),this._core.write("\r\n",t)},e.prototype.paste=function(e){this._core.paste(e)},e.prototype.getOption=function(e){return this._core.optionsService.getOption(e)},e.prototype.setOption=function(e,t){this._core.optionsService.setOption(e,t)},e.prototype.refresh=function(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)},e.prototype.reset=function(){this._core.reset()},e.prototype.loadAddon=function(e){return this._addonManager.loadAddon(this,e)},Object.defineProperty(e,"strings",{get:function(){return o},enumerable:!0,configurable:!0}),e.prototype._verifyIntegers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.forEach((function(e){if(e===1/0||isNaN(e)||e%1!=0)throw new Error("This API only accepts integers")}))},e}();t.Terminal=c;var l=function(){function e(e,t){this._buffer=e,this.type=t}return e.prototype.init=function(e){return this._buffer=e,this},Object.defineProperty(e.prototype,"cursorY",{get:function(){return this._buffer.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursorX",{get:function(){return this._buffer.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewportY",{get:function(){return this._buffer.ydisp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseY",{get:function(){return this._buffer.ybase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._buffer.lines.length},enumerable:!0,configurable:!0}),e.prototype.getLine=function(e){var t=this._buffer.lines.get(e);if(t)return new u(t)},e.prototype.getNullCell=function(){return new n.CellData},e}(),h=function(){function e(e){var t=this;this._buffers=e,this._onBufferChange=new s.EventEmitter,this._normal=new l(this._buffers.normal,"normal"),this._alternate=new l(this._buffers.alt,"alternate"),this._buffers.onBufferActivate((function(){return t._onBufferChange.fire(t.active)}))}return Object.defineProperty(e.prototype,"onBufferChange",{get:function(){return this._onBufferChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){if(this._buffers.active===this._buffers.normal)return this.normal;if(this._buffers.active===this._buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal.init(this._buffers.normal)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alternate",{get:function(){return this._alternate.init(this._buffers.alt)},enumerable:!0,configurable:!0}),e}(),u=function(){function e(e){this._line=e}return Object.defineProperty(e.prototype,"isWrapped",{get:function(){return this._line.isWrapped},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._line.length},enumerable:!0,configurable:!0}),e.prototype.getCell=function(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new n.CellData)},e.prototype.translateToString=function(e,t,i){return this._line.translateToString(e,t,i)},e}(),d=function(){function e(e){this._core=e}return e.prototype.registerCsiHandler=function(e,t){return this._core.addCsiHandler(e,(function(e){return t(e.toArray())}))},e.prototype.addCsiHandler=function(e,t){return this.registerCsiHandler(e,t)},e.prototype.registerDcsHandler=function(e,t){return this._core.addDcsHandler(e,(function(e,i){return t(e,i.toArray())}))},e.prototype.addDcsHandler=function(e,t){return this.registerDcsHandler(e,t)},e.prototype.registerEscHandler=function(e,t){return this._core.addEscHandler(e,t)},e.prototype.addEscHandler=function(e,t){return this.registerEscHandler(e,t)},e.prototype.registerOscHandler=function(e,t){return this._core.addOscHandler(e,t)},e.prototype.addOscHandler=function(e,t){return this.registerOscHandler(e,t)},e}(),p=function(){function e(e){this._core=e}return e.prototype.register=function(e){this._core.unicodeService.register(e)},Object.defineProperty(e.prototype,"versions",{get:function(){return this._core.unicodeService.versions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._core.unicodeService.activeVersion},set:function(e){this._core.unicodeService.activeVersion=e},enumerable:!0,configurable:!0}),e}()},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(34),s=i(35),a=i(36),c=i(12),l=i(37),h=i(39),u=i(49),d=i(50),p=i(11),f=i(8),m=i(17),v=i(53),g=i(54),y=i(55),_=i(56),b=i(58),x=i(0),w=i(16),S=i(59),C=i(25),M=i(60),E=i(1),T=i(61),A=i(4),L=i(62),O=i(63),R=i(2),k=i(69),P=i(70),D=i(71),I=i(72),B=i(73),N=i(74),j=i(75),H=i(76),F=i(77),z=i(78),U=i(80),V="undefined"!=typeof window?window.document:null,W=function(e){function t(t){void 0===t&&(t={});var i=e.call(this)||this;return i.browser=p,i.mouseEvents=0,i._keyDownHandled=!1,i._blankLine=null,i._onCursorMove=new x.EventEmitter,i._onData=new x.EventEmitter,i._onBinary=new x.EventEmitter,i._onKey=new x.EventEmitter,i._onLineFeed=new x.EventEmitter,i._onRender=new x.EventEmitter,i._onResize=new x.EventEmitter,i._onScroll=new x.EventEmitter,i._onSelectionChange=new x.EventEmitter,i._onTitleChange=new x.EventEmitter,i._onFocus=new x.EventEmitter,i._onBlur=new x.EventEmitter,i.onA11yCharEmitter=new x.EventEmitter,i.onA11yTabEmitter=new x.EventEmitter,i._instantiationService=new B.InstantiationService,i.optionsService=new T.OptionsService(t),i._instantiationService.setService(E.IOptionsService,i.optionsService),i._bufferService=i._instantiationService.createInstance(O.BufferService),i._instantiationService.setService(E.IBufferService,i._bufferService),i._logService=i._instantiationService.createInstance(D.LogService),i._instantiationService.setService(E.ILogService,i._logService),i._coreService=i._instantiationService.createInstance(P.CoreService,(function(){return i.scrollToBottom()})),i._instantiationService.setService(E.ICoreService,i._coreService),i._coreService.onData((function(e){return i._onData.fire(e)})),i._coreService.onBinary((function(e){return i._onBinary.fire(e)})),i._coreMouseService=i._instantiationService.createInstance(N.CoreMouseService),i._instantiationService.setService(E.ICoreMouseService,i._coreMouseService),i._dirtyRowService=i._instantiationService.createInstance(I.DirtyRowService),i._instantiationService.setService(E.IDirtyRowService,i._dirtyRowService),i.unicodeService=i._instantiationService.createInstance(z.UnicodeService),i._instantiationService.setService(E.IUnicodeService,i.unicodeService),i._charsetService=i._instantiationService.createInstance(U.CharsetService),i._instantiationService.setService(E.ICharsetService,i._charsetService),i._setupOptionsListeners(),i._setup(),i._writeBuffer=new j.WriteBuffer((function(e){return i._inputHandler.parse(e)})),i}return r(t,e),Object.defineProperty(t.prototype,"options",{get:function(){return this.optionsService.options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this._bufferService.cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._bufferService.rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onData",{get:function(){return this._onData.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onKey",{get:function(){return this._onKey.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onResize",{get:function(){return this._onResize.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onTitleChange",{get:function(){return this._onTitleChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onFocus",{get:function(){return this._onFocus.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onBlur",{get:function(){return this._onBlur.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onA11yChar",{get:function(){return this.onA11yCharEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onA11yTab",{get:function(){return this.onA11yTabEmitter.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t,i,n,r;this._isDisposed||(e.prototype.dispose.call(this),null===(t=this._windowsMode)||void 0===t||t.dispose(),this._windowsMode=void 0,null===(i=this._renderService)||void 0===i||i.dispose(),this._customKeyEventHandler=null,this.write=function(){},null===(r=null===(n=this.element)||void 0===n?void 0:n.parentNode)||void 0===r||r.removeChild(this.element))},t.prototype._setup=function(){var e=this;this._customKeyEventHandler=null,this.insertMode=!1,this.bracketedPasteMode=!1,this._userScrolling=!1,this._inputHandler?this._inputHandler.reset():(this._inputHandler=new l.InputHandler(this,this._bufferService,this._charsetService,this._coreService,this._dirtyRowService,this._logService,this.optionsService,this._coreMouseService,this.unicodeService,this._instantiationService),this._inputHandler.onRequestBell((function(){return e.bell()})),this._inputHandler.onRequestRefreshRows((function(t,i){return e.refresh(t,i)})),this._inputHandler.onRequestReset((function(){return e.reset()})),this._inputHandler.onCursorMove((function(){return e._onCursorMove.fire()})),this._inputHandler.onLineFeed((function(){return e._onLineFeed.fire()})),this.register(this._inputHandler)),this.linkifier||(this.linkifier=new u.Linkifier(this._bufferService,this._logService,this.optionsService,this.unicodeService)),this.linkifier2||(this.linkifier2=new H.Linkifier2(this._bufferService)),this.options.windowsMode&&this._enableWindowsMode()},t.prototype._enableWindowsMode=function(){var e=this;if(!this._windowsMode){var t=[];t.push(this.onLineFeed(S.updateWindowsModeWrappedState.bind(null,this._bufferService))),t.push(this.addCsiHandler({final:"H"},(function(){return S.updateWindowsModeWrappedState(e._bufferService),!1}))),this._windowsMode={dispose:function(){t.forEach((function(e){return e.dispose()}))}}}},Object.defineProperty(t.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"buffers",{get:function(){return this._bufferService.buffers},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.textarea&&this.textarea.focus({preventScroll:!0})},t.prototype._setupOptionsListeners=function(){var e=this;this.optionsService.onOptionChange((function(t){var i,n,r,o,s;switch(t){case"fontFamily":case"fontSize":null===(i=e._renderService)||void 0===i||i.clear(),null===(n=e._charSizeService)||void 0===n||n.measure();break;case"cursorBlink":case"cursorStyle":e.refresh(e.buffer.y,e.buffer.y);break;case"drawBoldTextInBrightColors":case"letterSpacing":case"lineHeight":case"fontWeight":case"fontWeightBold":case"minimumContrastRatio":e._renderService&&(e._renderService.clear(),e._renderService.onResize(e.cols,e.rows),e.refresh(0,e.rows-1));break;case"rendererType":e._renderService&&(e._renderService.setRenderer(e._createRenderer()),e._renderService.onResize(e.cols,e.rows));break;case"scrollback":e.buffers.resize(e.cols,e.rows),null===(r=e.viewport)||void 0===r||r.syncScrollArea();break;case"screenReaderMode":e.optionsService.options.screenReaderMode?!e._accessibilityManager&&e._renderService&&(e._accessibilityManager=new y.AccessibilityManager(e,e._renderService)):(null===(o=e._accessibilityManager)||void 0===o||o.dispose(),e._accessibilityManager=null);break;case"tabStopWidth":e.buffers.setupTabStops();break;case"theme":e._setTheme(e.optionsService.options.theme);break;case"windowsMode":e.optionsService.options.windowsMode?e._enableWindowsMode():(null===(s=e._windowsMode)||void 0===s||s.dispose(),e._windowsMode=void 0)}}))},t.prototype._onTextAreaFocus=function(e){this.sendFocus&&this._coreService.triggerDataEvent(c.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this.showCursor(),this._onFocus.fire()},t.prototype.blur=function(){return this.textarea.blur()},t.prototype._onTextAreaBlur=function(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.sendFocus&&this._coreService.triggerDataEvent(c.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()},t.prototype._initGlobal=function(){var e=this;this._bindKeys(),this.register(f.addDisposableDomListener(this.element,"copy",(function(t){e.hasSelection()&&a.copyHandler(t,e._selectionService)})));var t=function(t){return a.handlePasteEvent(t,e.textarea,e.bracketedPasteMode,e._coreService)};this.register(f.addDisposableDomListener(this.textarea,"paste",t)),this.register(f.addDisposableDomListener(this.element,"paste",t)),p.isFirefox?this.register(f.addDisposableDomListener(this.element,"mousedown",(function(t){2===t.button&&a.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))):this.register(f.addDisposableDomListener(this.element,"contextmenu",(function(t){a.rightClickHandler(t,e.textarea,e.screenElement,e._selectionService,e.options.rightClickSelectsWord)}))),p.isLinux&&this.register(f.addDisposableDomListener(this.element,"auxclick",(function(t){1===t.button&&a.moveTextAreaUnderMouseCursor(t,e.textarea,e.screenElement)})))},t.prototype._bindKeys=function(){var e=this;this.register(f.addDisposableDomListener(this.textarea,"keyup",(function(t){return e._keyUp(t)}),!0)),this.register(f.addDisposableDomListener(this.textarea,"keydown",(function(t){return e._keyDown(t)}),!0)),this.register(f.addDisposableDomListener(this.textarea,"keypress",(function(t){return e._keyPress(t)}),!0)),this.register(f.addDisposableDomListener(this.textarea,"compositionstart",(function(){return e._compositionHelper.compositionstart()}))),this.register(f.addDisposableDomListener(this.textarea,"compositionupdate",(function(t){return e._compositionHelper.compositionupdate(t)}))),this.register(f.addDisposableDomListener(this.textarea,"compositionend",(function(){return e._compositionHelper.compositionend()}))),this.register(this.onRender((function(){return e._compositionHelper.updateCompositionElements()}))),this.register(this.onRender((function(t){return e._queueLinkification(t.start,t.end)})))},t.prototype.open=function(e){var t=this;if(!e)throw new Error("Terminal requires a parent element.");V.body.contains(e)||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),this.element.setAttribute("tabindex","0"),e.appendChild(this.element);var i=V.createDocumentFragment();this._viewportElement=V.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),i.appendChild(this._viewportElement),this._viewportScrollArea=V.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=V.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=V.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),i.appendChild(this.screenElement),this.textarea=V.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",m.promptLabel),this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this.register(f.addDisposableDomListener(this.textarea,"focus",(function(e){return t._onTextAreaFocus(e)}))),this.register(f.addDisposableDomListener(this.textarea,"blur",(function(){return t._onTextAreaBlur()}))),this._helperContainer.appendChild(this.textarea);var n=this._instantiationService.createInstance(F.CoreBrowserService,this.textarea);this._instantiationService.setService(A.ICoreBrowserService,n),this._charSizeService=this._instantiationService.createInstance(L.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(A.ICharSizeService,this._charSizeService),this._compositionView=V.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(o.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(i),this._theme=this.options.theme||this._theme,this.options.theme=void 0,this._colorManager=new C.ColorManager(V,this.options.allowTransparency),this.optionsService.onOptionChange((function(e){return t._colorManager.onOptionsChange(e)})),this._colorManager.setTheme(this._theme);var r=this._createRenderer();this._renderService=this._instantiationService.createInstance(M.RenderService,r,this.rows,this.screenElement),this._instantiationService.setService(A.IRenderService,this._renderService),this._renderService.onRender((function(e){return t._onRender.fire(e)})),this.onResize((function(e){return t._renderService.resize(e.cols,e.rows)})),this._soundService=this._instantiationService.createInstance(v.SoundService),this._instantiationService.setService(A.ISoundService,this._soundService),this._mouseService=this._instantiationService.createInstance(k.MouseService),this._instantiationService.setService(A.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(s.Viewport,(function(e,i){return t.scrollLines(e,i)}),this._viewportElement,this._viewportScrollArea),this.viewport.onThemeChange(this._colorManager.colors),this.register(this.viewport),this.register(this.onCursorMove((function(){return t._renderService.onCursorMove()}))),this.register(this.onResize((function(){return t._renderService.onResize(t.cols,t.rows)}))),this.register(this.onBlur((function(){return t._renderService.onBlur()}))),this.register(this.onFocus((function(){return t._renderService.onFocus()}))),this.register(this._renderService.onDimensionsChange((function(){return t.viewport.syncScrollArea()}))),this._selectionService=this._instantiationService.createInstance(d.SelectionService,(function(e,i){return t.scrollLines(e,i)}),this.element,this.screenElement),this._instantiationService.setService(A.ISelectionService,this._selectionService),this.register(this._selectionService.onSelectionChange((function(){return t._onSelectionChange.fire()}))),this.register(this._selectionService.onRedrawRequest((function(e){return t._renderService.onSelectionChanged(e.start,e.end,e.columnSelectMode)}))),this.register(this._selectionService.onLinuxMouseSelection((function(e){t.textarea.value=e,t.textarea.focus(),t.textarea.select()}))),this.register(this.onScroll((function(){t.viewport.syncScrollArea(),t._selectionService.refresh()}))),this.register(f.addDisposableDomListener(this._viewportElement,"scroll",(function(){return t._selectionService.refresh()}))),this._mouseZoneManager=this._instantiationService.createInstance(g.MouseZoneManager,this.element,this.screenElement),this.register(this._mouseZoneManager),this.register(this.onScroll((function(){return t._mouseZoneManager.clearAll()}))),this.linkifier.attachToDom(this.element,this._mouseZoneManager),this.linkifier2.attachToDom(this.element,this._mouseService,this._renderService),this.register(f.addDisposableDomListener(this.element,"mousedown",(function(e){return t._selectionService.onMouseDown(e)}))),this.mouseEvents?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=new y.AccessibilityManager(this,this._renderService)),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()},t.prototype._createRenderer=function(){switch(this.options.rendererType){case"canvas":return this._instantiationService.createInstance(h.Renderer,this._colorManager.colors,this.screenElement,this.linkifier,this.linkifier2);case"dom":return this._instantiationService.createInstance(_.DomRenderer,this._colorManager.colors,this.element,this.screenElement,this._viewportElement,this.linkifier,this.linkifier2);default:throw new Error('Unrecognized rendererType "'+this.options.rendererType+'"')}},t.prototype._setTheme=function(e){var t,i,n;this._theme=e,null===(t=this._colorManager)||void 0===t||t.setTheme(e),null===(i=this._renderService)||void 0===i||i.setColors(this._colorManager.colors),null===(n=this.viewport)||void 0===n||n.onThemeChange(this._colorManager.colors)},t.prototype.bindMouse=function(){var e=this,t=this,i=this.element;function n(e){var i,n,r=t._mouseService.getRawByteCoords(e,t.screenElement,t.cols,t.rows);if(!r)return!1;switch(e.overrideType||e.type){case"mousemove":n=32,void 0===e.buttons?(i=3,void 0!==e.button&&(i=e.button<3?e.button:3)):i=1&e.buttons?0:4&e.buttons?1:2&e.buttons?2:3;break;case"mouseup":n=0,i=e.button<3?e.button:3;break;case"mousedown":n=1,i=e.button<3?e.button:3;break;case"wheel":0!==e.deltaY&&(n=e.deltaY<0?0:1),i=4;break;default:return!1}return!(void 0===n||void 0===i||i>4)&&t._coreMouseService.triggerMouseEvent({col:r.x-33,row:r.y-33,button:i,action:n,ctrl:e.ctrlKey,alt:e.altKey,shift:e.shiftKey})}var r={mouseup:null,wheel:null,mousedrag:null,mousemove:null},o=function(t){return n(t),t.buttons||(e._document.removeEventListener("mouseup",r.mouseup),r.mousedrag&&e._document.removeEventListener("mousemove",r.mousedrag)),e.cancel(t)},s=function(t){return n(t),t.preventDefault(),e.cancel(t)},a=function(e){e.buttons&&n(e)},l=function(e){e.buttons||n(e)};this._coreMouseService.onProtocolChange((function(t){e.mouseEvents=t,t?("debug"===e.optionsService.options.logLevel&&e._logService.debug("Binding to mouse events:",e._coreMouseService.explainEvents(t)),e.element.classList.add("enable-mouse-events"),e._selectionService.disable()):(e._logService.debug("Unbinding from mouse events."),e.element.classList.remove("enable-mouse-events"),e._selectionService.enable()),8&t?r.mousemove||(i.addEventListener("mousemove",l),r.mousemove=l):(i.removeEventListener("mousemove",r.mousemove),r.mousemove=null),16&t?r.wheel||(i.addEventListener("wheel",s),r.wheel=s):(i.removeEventListener("wheel",r.wheel),r.wheel=null),2&t?r.mouseup||(r.mouseup=o):(e._document.removeEventListener("mouseup",r.mouseup),r.mouseup=null),4&t?r.mousedrag||(r.mousedrag=a):(e._document.removeEventListener("mousemove",r.mousedrag),r.mousedrag=null)})),this._coreMouseService.activeProtocol=this._coreMouseService.activeProtocol,this.register(f.addDisposableDomListener(i,"mousedown",(function(t){if(t.preventDefault(),e.focus(),e.mouseEvents&&!e._selectionService.shouldForceSelection(t))return n(t),r.mouseup&&e._document.addEventListener("mouseup",r.mouseup),r.mousedrag&&e._document.addEventListener("mousemove",r.mousedrag),e.cancel(t)}))),this.register(f.addDisposableDomListener(i,"wheel",(function(t){if(r.wheel);else if(!e.buffer.hasScrollback){var i=e.viewport.getLinesScrolled(t);if(0===i)return;for(var n=c.C0.ESC+(e._coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(t.deltaY<0?"A":"B"),o="",s=0;s<Math.abs(i);s++)o+=n;e._coreService.triggerDataEvent(o,!0)}}))),this.register(f.addDisposableDomListener(i,"wheel",(function(t){if(!r.wheel)return e.viewport.onWheel(t)?void 0:e.cancel(t)}))),this.register(f.addDisposableDomListener(i,"touchstart",(function(t){if(!e.mouseEvents)return e.viewport.onTouchStart(t),e.cancel(t)}))),this.register(f.addDisposableDomListener(i,"touchmove",(function(t){if(!e.mouseEvents)return e.viewport.onTouchMove(t)?void 0:e.cancel(t)})))},t.prototype.refresh=function(e,t){var i;null===(i=this._renderService)||void 0===i||i.refreshRows(e,t)},t.prototype._queueLinkification=function(e,t){var i;null===(i=this.linkifier)||void 0===i||i.linkifyRows(e,t)},t.prototype.updateCursorStyle=function(e){this._selectionService&&this._selectionService.shouldColumnSelect(e)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")},t.prototype.showCursor=function(){this._coreService.isCursorInitialized||(this._coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))},t.prototype.scroll=function(e,t){var i;void 0===t&&(t=!1),(i=this._blankLine)&&i.length===this.cols&&i.getFg(0)===e.fg&&i.getBg(0)===e.bg||(i=this.buffer.getBlankLine(e,t),this._blankLine=i),i.isWrapped=t;var n=this.buffer.ybase+this.buffer.scrollTop,r=this.buffer.ybase+this.buffer.scrollBottom;if(0===this.buffer.scrollTop){var o=this.buffer.lines.isFull;r===this.buffer.lines.length-1?o?this.buffer.lines.recycle().copyFrom(i):this.buffer.lines.push(i.clone()):this.buffer.lines.splice(r+1,0,i.clone()),o?this._userScrolling&&(this.buffer.ydisp=Math.max(this.buffer.ydisp-1,0)):(this.buffer.ybase++,this._userScrolling||this.buffer.ydisp++)}else{var s=r-n+1;this.buffer.lines.shiftElements(n+1,s-1,-1),this.buffer.lines.set(r,i.clone())}this._userScrolling||(this.buffer.ydisp=this.buffer.ybase),this._dirtyRowService.markRangeDirty(this.buffer.scrollTop,this.buffer.scrollBottom),this._onScroll.fire(this.buffer.ydisp)},t.prototype.scrollLines=function(e,t){if(e<0){if(0===this.buffer.ydisp)return;this._userScrolling=!0}else e+this.buffer.ydisp>=this.buffer.ybase&&(this._userScrolling=!1);var i=this.buffer.ydisp;this.buffer.ydisp=Math.max(Math.min(this.buffer.ydisp+e,this.buffer.ybase),0),i!==this.buffer.ydisp&&(t||this._onScroll.fire(this.buffer.ydisp),this.refresh(0,this.rows-1))},t.prototype.scrollPages=function(e){this.scrollLines(e*(this.rows-1))},t.prototype.scrollToTop=function(){this.scrollLines(-this.buffer.ydisp)},t.prototype.scrollToBottom=function(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)},t.prototype.scrollToLine=function(e){var t=e-this.buffer.ydisp;0!==t&&this.scrollLines(t)},t.prototype.paste=function(e){a.paste(e,this.textarea,this.bracketedPasteMode,this._coreService)},t.prototype.attachCustomKeyEventHandler=function(e){this._customKeyEventHandler=e},t.prototype.addEscHandler=function(e,t){return this._inputHandler.addEscHandler(e,t)},t.prototype.addDcsHandler=function(e,t){return this._inputHandler.addDcsHandler(e,t)},t.prototype.addCsiHandler=function(e,t){return this._inputHandler.addCsiHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._inputHandler.addOscHandler(e,t)},t.prototype.registerLinkMatcher=function(e,t,i){var n=this.linkifier.registerLinkMatcher(e,t,i);return this.refresh(0,this.rows-1),n},t.prototype.deregisterLinkMatcher=function(e){this.linkifier.deregisterLinkMatcher(e)&&this.refresh(0,this.rows-1)},t.prototype.registerLinkProvider=function(e){return this.linkifier2.registerLinkProvider(e)},t.prototype.registerCharacterJoiner=function(e){var t=this._renderService.registerCharacterJoiner(e);return this.refresh(0,this.rows-1),t},t.prototype.deregisterCharacterJoiner=function(e){this._renderService.deregisterCharacterJoiner(e)&&this.refresh(0,this.rows-1)},Object.defineProperty(t.prototype,"markers",{get:function(){return this.buffer.markers},enumerable:!0,configurable:!0}),t.prototype.addMarker=function(e){if(this.buffer===this.buffers.normal)return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)},t.prototype.hasSelection=function(){return!!this._selectionService&&this._selectionService.hasSelection},t.prototype.select=function(e,t,i){this._selectionService.setSelection(e,t,i)},t.prototype.getSelection=function(){return this._selectionService?this._selectionService.selectionText:""},t.prototype.getSelectionPosition=function(){if(this._selectionService.hasSelection)return{startColumn:this._selectionService.selectionStart[0],startRow:this._selectionService.selectionStart[1],endColumn:this._selectionService.selectionEnd[0],endRow:this._selectionService.selectionEnd[1]}},t.prototype.clearSelection=function(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()},t.prototype.selectAll=function(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()},t.prototype.selectLines=function(e,t){var i;null===(i=this._selectionService)||void 0===i||i.selectLines(e,t)},t.prototype._keyDown=function(e){if(this._keyDownHandled=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(!this._compositionHelper.keydown(e))return this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;var t=b.evaluateKeyboardEvent(e,this._coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===t.type||2===t.type){var i=this.rows-1;return this.scrollLines(2===t.type?-i:i),this.cancel(e,!0)}return 1===t.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(t.cancel&&this.cancel(e,!0),!t.key||(t.key!==c.C0.ETX&&t.key!==c.C0.CR||(this.textarea.value=""),this._onKey.fire({key:t.key,domEvent:e}),this.showCursor(),this._coreService.triggerDataEvent(t.key,!0),this.optionsService.options.screenReaderMode?void(this._keyDownHandled=!0):this.cancel(e,!0)))},t.prototype._isThirdLevelShift=function(e,t){var i=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey;return"keypress"===t.type?i:i&&(!t.keyCode||t.keyCode>47)},t.prototype._keyUp=function(e){this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e))},t.prototype._keyPress=function(e){var t;if(this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e))&&(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this.showCursor(),this._coreService.triggerDataEvent(t,!0),!0)},t.prototype.bell=function(){var e=this;this._soundBell()&&this._soundService.playBellSound(),this._visualBell()&&(this.element.classList.add("visual-bell-active"),clearTimeout(this._visualBellTimer),this._visualBellTimer=window.setTimeout((function(){e.element.classList.remove("visual-bell-active")}),200))},t.prototype.resize=function(e,t){var i,n;isNaN(e)||isNaN(t)||(e!==this.cols||t!==this.rows?(e<O.MINIMUM_COLS&&(e=O.MINIMUM_COLS),t<O.MINIMUM_ROWS&&(t=O.MINIMUM_ROWS),this.buffers.resize(e,t),this._bufferService.resize(e,t),this.buffers.setupTabStops(this.cols),null===(i=this._charSizeService)||void 0===i||i.measure(),null===(n=this.viewport)||void 0===n||n.syncScrollArea(!0),this.refresh(0,this.rows-1),this._onResize.fire({cols:e,rows:t})):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure())},t.prototype.clear=function(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(var e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(w.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire(this.buffer.ydisp)}},t.prototype.is=function(e){return 0===(this.options.termName+"").indexOf(e)},t.prototype.handleTitle=function(e){this._onTitleChange.fire(e)},t.prototype.reset=function(){var e,t;this.options.rows=this.rows,this.options.cols=this.cols;var i=this._customKeyEventHandler,n=this._userScrolling;this._setup(),this._bufferService.reset(),this._charsetService.reset(),this._coreService.reset(),this._coreMouseService.reset(),null===(e=this._selectionService)||void 0===e||e.reset(),this._customKeyEventHandler=i,this._userScrolling=n,this.refresh(0,this.rows-1),null===(t=this.viewport)||void 0===t||t.syncScrollArea()},t.prototype.cancel=function(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1},t.prototype._visualBell=function(){return!1},t.prototype._soundBell=function(){return"sound"===this.options.bellStyle},t.prototype.write=function(e,t){this._writeBuffer.write(e,t)},t.prototype.writeSync=function(e){this._writeBuffer.writeSync(e)},t}(R.Disposable);t.Terminal=W},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(4),s=i(1),a=function(){function e(e,t,i,n,r,o){this._textarea=e,this._compositionView=t,this._bufferService=i,this._optionsService=n,this._charSizeService=r,this._coreService=o,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0}}return e.prototype.compositionstart=function(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._compositionView.classList.add("active")},e.prototype.compositionupdate=function(e){var t=this;this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout((function(){t._compositionPosition.end=t._textarea.value.length}),0)},e.prototype.compositionend=function(){this._finalizeComposition(!0)},e.prototype.keydown=function(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)},e.prototype._finalizeComposition=function(e){var t=this;if(this._compositionView.classList.remove("active"),this._isComposing=!1,this._clearTextareaPosition(),e){var i={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((function(){if(t._isSendingComposition){t._isSendingComposition=!1;var e=void 0;e=t._isComposing?t._textarea.value.substring(i.start,i.end):t._textarea.value.substring(i.start),t._coreService.triggerDataEvent(e,!0)}}),0)}else{this._isSendingComposition=!1;var n=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(n,!0)}},e.prototype._handleAnyTextareaChanges=function(){var e=this,t=this._textarea.value;setTimeout((function(){if(!e._isComposing){var i=e._textarea.value.replace(t,"");i.length>0&&e._coreService.triggerDataEvent(i,!0)}}),0)},e.prototype.updateCompositionElements=function(e){var t=this;if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){var i=Math.ceil(this._charSizeService.height*this._optionsService.options.lineHeight),n=this._bufferService.buffer.y*i,r=this._bufferService.buffer.x*this._charSizeService.width;this._compositionView.style.left=r+"px",this._compositionView.style.top=n+"px",this._compositionView.style.height=i+"px",this._compositionView.style.lineHeight=i+"px",this._compositionView.style.fontFamily=this._optionsService.options.fontFamily,this._compositionView.style.fontSize=this._optionsService.options.fontSize+"px";var o=this._compositionView.getBoundingClientRect();this._textarea.style.left=r+"px",this._textarea.style.top=n+"px",this._textarea.style.width=o.width+"px",this._textarea.style.height=o.height+"px",this._textarea.style.lineHeight=o.height+"px"}e||setTimeout((function(){return t.updateCompositionElements(!0)}),0)}},e.prototype._clearTextareaPosition=function(){this._textarea.style.left="",this._textarea.style.top=""},n([r(2,s.IBufferService),r(3,s.IOptionsService),r(4,o.ICharSizeService),r(5,s.ICoreService)],e)}();t.CompositionHelper=a},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),c=i(8),l=i(4),h=i(1),u=function(e){function t(t,i,n,r,o,s,a){var l=e.call(this)||this;return l._scrollLines=t,l._viewportElement=i,l._scrollArea=n,l._bufferService=r,l._optionsService=o,l._charSizeService=s,l._renderService=a,l.scrollBarWidth=0,l._currentRowHeight=0,l._lastRecordedBufferLength=0,l._lastRecordedViewportHeight=0,l._lastRecordedBufferHeight=0,l._lastTouchY=0,l._lastScrollTop=0,l._wheelPartialScroll=0,l._refreshAnimationFrame=null,l._ignoreNextScrollEvent=!1,l.scrollBarWidth=l._viewportElement.offsetWidth-l._scrollArea.offsetWidth||15,l.register(c.addDisposableDomListener(l._viewportElement,"scroll",l._onScroll.bind(l))),setTimeout((function(){return l.syncScrollArea()}),0),l}return r(t,e),t.prototype.onThemeChange=function(e){this._viewportElement.style.backgroundColor=e.background.css},t.prototype._refresh=function(e){var t=this;if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=requestAnimationFrame((function(){return t._innerRefresh()})))},t.prototype._innerRefresh=function(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;var e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.canvasHeight);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==t&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=t),this._refreshAnimationFrame=null},t.prototype.syncScrollArea=function(e){if(void 0===e&&(e=!1),this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);if(this._lastRecordedViewportHeight===this._renderService.dimensions.canvasHeight){var t=this._bufferService.buffer.ydisp*this._currentRowHeight;this._lastScrollTop===t&&this._lastScrollTop===this._viewportElement.scrollTop&&this._renderService.dimensions.scaledCellHeight/window.devicePixelRatio===this._currentRowHeight||this._refresh(e)}else this._refresh(e)},t.prototype._onScroll=function(e){if(this._lastScrollTop=this._viewportElement.scrollTop,this._viewportElement.offsetParent)if(this._ignoreNextScrollEvent)this._ignoreNextScrollEvent=!1;else{var t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(t,!0)}},t.prototype._bubbleScroll=function(e,t){var i=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&i<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)},t.prototype.onWheel=function(e){var t=this._getPixelsScrolled(e);return 0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},t.prototype._getPixelsScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t},t.prototype.getLinesScrolled=function(e){if(0===e.deltaY)return 0;var t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t},t.prototype._applyScrollModifier=function(e,t){var i=this._optionsService.options.fastScrollModifier;return"alt"===i&&t.altKey||"ctrl"===i&&t.ctrlKey||"shift"===i&&t.shiftKey?e*this._optionsService.options.fastScrollSensitivity*this._optionsService.options.scrollSensitivity:e*this._optionsService.options.scrollSensitivity},t.prototype.onTouchStart=function(e){this._lastTouchY=e.touches[0].pageY},t.prototype.onTouchMove=function(e){var t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))},o([s(3,h.IBufferService),s(4,h.IOptionsService),s(5,l.ICharSizeService),s(6,l.IRenderService)],t)}(a.Disposable);t.Viewport=u},function(e,t,i){"use strict";function n(e){return e.replace(/\r?\n/g,"\r")}function r(e,t){return t?"[200~"+e+"[201~":e}function o(e,t,i,o){e=r(e=n(e),i),o.triggerDataEvent(e,!0),t.value=""}function s(e,t,i){var n=i.getBoundingClientRect(),r=e.clientX-n.left-10,o=e.clientY-n.top-10;t.style.position="absolute",t.style.width="20px",t.style.height="20px",t.style.left=r+"px",t.style.top=o+"px",t.style.zIndex="1000",t.focus(),setTimeout((function(){t.style.position="",t.style.width="",t.style.height="",t.style.left="",t.style.top="",t.style.zIndex=""}),200)}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareTextForTerminal=n,t.bracketTextForPaste=r,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,i,n){e.stopPropagation(),e.clipboardData&&o(e.clipboardData.getData("text/plain"),t,i,n)},t.paste=o,t.moveTextAreaUnderMouseCursor=s,t.rightClickHandler=function(e,t,i,n,r){s(e,t,i),r&&!n.isClickInSelection(e)&&n.selectWordAtCursor(e),t.value=n.selectionText,t.select()}},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(12),s=i(18),a=i(38),c=i(2),l=i(15),h=i(7),u=i(16),d=i(0),p=i(3),f=i(5),m=i(6),v=i(20),g=i(22),y=i(4),_={"(":0,")":1,"*":2,"+":3,"-":1,".":2};function b(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var x=function(){function e(e,t,i,n){this._bufferService=e,this._coreService=t,this._logService=i,this._optionsService=n,this._data=new Uint32Array(0)}return e.prototype.hook=function(e){this._data=new Uint32Array(0)},e.prototype.put=function(e,t,i){this._data=l.concat(this._data,e.subarray(t,i))},e.prototype.unhook=function(e){if(e){var t=h.utf32ToString(this._data);switch(this._data=new Uint32Array(0),t){case'"q':return this._coreService.triggerDataEvent(o.C0.ESC+'P1$r0"q'+o.C0.ESC+"\\");case'"p':return this._coreService.triggerDataEvent(o.C0.ESC+'P1$r61;1"p'+o.C0.ESC+"\\");case"r":var i=this._bufferService.buffer.scrollTop+1+";"+(this._bufferService.buffer.scrollBottom+1)+"r";return this._coreService.triggerDataEvent(o.C0.ESC+"P1$r"+i+o.C0.ESC+"\\");case"m":return this._coreService.triggerDataEvent(o.C0.ESC+"P1$r0m"+o.C0.ESC+"\\");case" q":var n={block:2,underline:4,bar:6}[this._optionsService.options.cursorStyle];return n-=this._optionsService.options.cursorBlink?1:0,this._coreService.triggerDataEvent(o.C0.ESC+"P1$r"+n+" q"+o.C0.ESC+"\\");default:this._logService.debug("Unknown DCS $q %s",t),this._coreService.triggerDataEvent(o.C0.ESC+"P0$r"+o.C0.ESC+"\\")}}else this._data=new Uint32Array(0)},e}(),w=function(e){function t(t,i,n,r,c,l,p,m,g,y,_){void 0===_&&(_=new a.EscapeSequenceParser);var b=e.call(this)||this;b._terminal=t,b._bufferService=i,b._charsetService=n,b._coreService=r,b._dirtyRowService=c,b._logService=l,b._optionsService=p,b._coreMouseService=m,b._unicodeService=g,b._instantiationService=y,b._parser=_,b._parseBuffer=new Uint32Array(4096),b._stringDecoder=new h.StringToUtf32,b._utf8Decoder=new h.Utf8ToUtf32,b._workCell=new f.CellData,b._windowTitle="",b._iconName="",b._windowTitleStack=[],b._iconNameStack=[],b._curAttrData=u.DEFAULT_ATTR_DATA.clone(),b._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone(),b._onRequestRefreshRows=new d.EventEmitter,b._onRequestReset=new d.EventEmitter,b._onRequestBell=new d.EventEmitter,b._onCursorMove=new d.EventEmitter,b._onLineFeed=new d.EventEmitter,b._onScroll=new d.EventEmitter,b.register(b._parser),b._parser.setCsiHandlerFallback((function(e,t){b._logService.debug("Unknown CSI code: ",{identifier:b._parser.identToString(e),params:t.toArray()})})),b._parser.setEscHandlerFallback((function(e){b._logService.debug("Unknown ESC code: ",{identifier:b._parser.identToString(e)})})),b._parser.setExecuteHandlerFallback((function(e){b._logService.debug("Unknown EXECUTE code: ",{code:e})})),b._parser.setOscHandlerFallback((function(e,t,i){b._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:i})})),b._parser.setDcsHandlerFallback((function(e,t,i){"HOOK"===t&&(i=i.toArray()),b._logService.debug("Unknown DCS code: ",{identifier:b._parser.identToString(e),action:t,payload:i})})),b._parser.setPrintHandler((function(e,t,i){return b.print(e,t,i)})),b._parser.setCsiHandler({final:"@"},(function(e){return b.insertChars(e)})),b._parser.setCsiHandler({intermediates:" ",final:"@"},(function(e){return b.scrollLeft(e)})),b._parser.setCsiHandler({final:"A"},(function(e){return b.cursorUp(e)})),b._parser.setCsiHandler({intermediates:" ",final:"A"},(function(e){return b.scrollRight(e)})),b._parser.setCsiHandler({final:"B"},(function(e){return b.cursorDown(e)})),b._parser.setCsiHandler({final:"C"},(function(e){return b.cursorForward(e)})),b._parser.setCsiHandler({final:"D"},(function(e){return b.cursorBackward(e)})),b._parser.setCsiHandler({final:"E"},(function(e){return b.cursorNextLine(e)})),b._parser.setCsiHandler({final:"F"},(function(e){return b.cursorPrecedingLine(e)})),b._parser.setCsiHandler({final:"G"},(function(e){return b.cursorCharAbsolute(e)})),b._parser.setCsiHandler({final:"H"},(function(e){return b.cursorPosition(e)})),b._parser.setCsiHandler({final:"I"},(function(e){return b.cursorForwardTab(e)})),b._parser.setCsiHandler({final:"J"},(function(e){return b.eraseInDisplay(e)})),b._parser.setCsiHandler({prefix:"?",final:"J"},(function(e){return b.eraseInDisplay(e)})),b._parser.setCsiHandler({final:"K"},(function(e){return b.eraseInLine(e)})),b._parser.setCsiHandler({prefix:"?",final:"K"},(function(e){return b.eraseInLine(e)})),b._parser.setCsiHandler({final:"L"},(function(e){return b.insertLines(e)})),b._parser.setCsiHandler({final:"M"},(function(e){return b.deleteLines(e)})),b._parser.setCsiHandler({final:"P"},(function(e){return b.deleteChars(e)})),b._parser.setCsiHandler({final:"S"},(function(e){return b.scrollUp(e)})),b._parser.setCsiHandler({final:"T"},(function(e){return b.scrollDown(e)})),b._parser.setCsiHandler({final:"X"},(function(e){return b.eraseChars(e)})),b._parser.setCsiHandler({final:"Z"},(function(e){return b.cursorBackwardTab(e)})),b._parser.setCsiHandler({final:"`"},(function(e){return b.charPosAbsolute(e)})),b._parser.setCsiHandler({final:"a"},(function(e){return b.hPositionRelative(e)})),b._parser.setCsiHandler({final:"b"},(function(e){return b.repeatPrecedingCharacter(e)})),b._parser.setCsiHandler({final:"c"},(function(e){return b.sendDeviceAttributesPrimary(e)})),b._parser.setCsiHandler({prefix:">",final:"c"},(function(e){return b.sendDeviceAttributesSecondary(e)})),b._parser.setCsiHandler({final:"d"},(function(e){return b.linePosAbsolute(e)})),b._parser.setCsiHandler({final:"e"},(function(e){return b.vPositionRelative(e)})),b._parser.setCsiHandler({final:"f"},(function(e){return b.hVPosition(e)})),b._parser.setCsiHandler({final:"g"},(function(e){return b.tabClear(e)})),b._parser.setCsiHandler({final:"h"},(function(e){return b.setMode(e)})),b._parser.setCsiHandler({prefix:"?",final:"h"},(function(e){return b.setModePrivate(e)})),b._parser.setCsiHandler({final:"l"},(function(e){return b.resetMode(e)})),b._parser.setCsiHandler({prefix:"?",final:"l"},(function(e){return b.resetModePrivate(e)})),b._parser.setCsiHandler({final:"m"},(function(e){return b.charAttributes(e)})),b._parser.setCsiHandler({final:"n"},(function(e){return b.deviceStatus(e)})),b._parser.setCsiHandler({prefix:"?",final:"n"},(function(e){return b.deviceStatusPrivate(e)})),b._parser.setCsiHandler({intermediates:"!",final:"p"},(function(e){return b.softReset(e)})),b._parser.setCsiHandler({intermediates:" ",final:"q"},(function(e){return b.setCursorStyle(e)})),b._parser.setCsiHandler({final:"r"},(function(e){return b.setScrollRegion(e)})),b._parser.setCsiHandler({final:"s"},(function(e){return b.saveCursor(e)})),b._parser.setCsiHandler({final:"t"},(function(e){return b.windowOptions(e)})),b._parser.setCsiHandler({final:"u"},(function(e){return b.restoreCursor(e)})),b._parser.setCsiHandler({intermediates:"'",final:"}"},(function(e){return b.insertColumns(e)})),b._parser.setCsiHandler({intermediates:"'",final:"~"},(function(e){return b.deleteColumns(e)})),b._parser.setExecuteHandler(o.C0.BEL,(function(){return b.bell()})),b._parser.setExecuteHandler(o.C0.LF,(function(){return b.lineFeed()})),b._parser.setExecuteHandler(o.C0.VT,(function(){return b.lineFeed()})),b._parser.setExecuteHandler(o.C0.FF,(function(){return b.lineFeed()})),b._parser.setExecuteHandler(o.C0.CR,(function(){return b.carriageReturn()})),b._parser.setExecuteHandler(o.C0.BS,(function(){return b.backspace()})),b._parser.setExecuteHandler(o.C0.HT,(function(){return b.tab()})),b._parser.setExecuteHandler(o.C0.SO,(function(){return b.shiftOut()})),b._parser.setExecuteHandler(o.C0.SI,(function(){return b.shiftIn()})),b._parser.setExecuteHandler(o.C1.IND,(function(){return b.index()})),b._parser.setExecuteHandler(o.C1.NEL,(function(){return b.nextLine()})),b._parser.setExecuteHandler(o.C1.HTS,(function(){return b.tabSet()})),b._parser.setOscHandler(0,new v.OscHandler((function(e){b.setTitle(e),b.setIconName(e)}))),b._parser.setOscHandler(1,new v.OscHandler((function(e){return b.setIconName(e)}))),b._parser.setOscHandler(2,new v.OscHandler((function(e){return b.setTitle(e)}))),b._parser.setEscHandler({final:"7"},(function(){return b.saveCursor()})),b._parser.setEscHandler({final:"8"},(function(){return b.restoreCursor()})),b._parser.setEscHandler({final:"D"},(function(){return b.index()})),b._parser.setEscHandler({final:"E"},(function(){return b.nextLine()})),b._parser.setEscHandler({final:"H"},(function(){return b.tabSet()})),b._parser.setEscHandler({final:"M"},(function(){return b.reverseIndex()})),b._parser.setEscHandler({final:"="},(function(){return b.keypadApplicationMode()})),b._parser.setEscHandler({final:">"},(function(){return b.keypadNumericMode()})),b._parser.setEscHandler({final:"c"},(function(){return b.fullReset()})),b._parser.setEscHandler({final:"n"},(function(){return b.setgLevel(2)})),b._parser.setEscHandler({final:"o"},(function(){return b.setgLevel(3)})),b._parser.setEscHandler({final:"|"},(function(){return b.setgLevel(3)})),b._parser.setEscHandler({final:"}"},(function(){return b.setgLevel(2)})),b._parser.setEscHandler({final:"~"},(function(){return b.setgLevel(1)})),b._parser.setEscHandler({intermediates:"%",final:"@"},(function(){return b.selectDefaultCharset()})),b._parser.setEscHandler({intermediates:"%",final:"G"},(function(){return b.selectDefaultCharset()}));var w=function(e){S._parser.setEscHandler({intermediates:"(",final:e},(function(){return b.selectCharset("("+e)})),S._parser.setEscHandler({intermediates:")",final:e},(function(){return b.selectCharset(")"+e)})),S._parser.setEscHandler({intermediates:"*",final:e},(function(){return b.selectCharset("*"+e)})),S._parser.setEscHandler({intermediates:"+",final:e},(function(){return b.selectCharset("+"+e)})),S._parser.setEscHandler({intermediates:"-",final:e},(function(){return b.selectCharset("-"+e)})),S._parser.setEscHandler({intermediates:".",final:e},(function(){return b.selectCharset("."+e)})),S._parser.setEscHandler({intermediates:"/",final:e},(function(){return b.selectCharset("/"+e)}))},S=this;for(var C in s.CHARSETS)w(C);return b._parser.setEscHandler({intermediates:"#",final:"8"},(function(){return b.screenAlignmentPattern()})),b._parser.setErrorHandler((function(e){return b._logService.error("Parsing error: ",e),e})),b._parser.setDcsHandler({intermediates:"$",final:"q"},new x(b._bufferService,b._coreService,b._logService,b._optionsService)),b}return r(t,e),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRequestReset",{get:function(){return this._onRequestReset.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRequestBell",{get:function(){return this._onRequestBell.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onCursorMove",{get:function(){return this._onCursorMove.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLineFeed",{get:function(){return this._onLineFeed.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onScroll",{get:function(){return this._onScroll.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.parse=function(e){var t=this._bufferService.buffer,i=t.x,n=t.y;if(this._logService.debug("parsing data",e),this._parseBuffer.length<e.length&&this._parseBuffer.length<131072&&(this._parseBuffer=new Uint32Array(Math.min(e.length,131072))),this._dirtyRowService.clearRange(),e.length>131072)for(var r=0;r<e.length;r+=131072){var o=r+131072<e.length?r+131072:e.length,s="string"==typeof e?this._stringDecoder.decode(e.substring(r,o),this._parseBuffer):this._utf8Decoder.decode(e.subarray(r,o),this._parseBuffer);this._parser.parse(this._parseBuffer,s)}else s="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer),this._parser.parse(this._parseBuffer,s);(t=this._bufferService.buffer).x===i&&t.y===n||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowService.start,this._dirtyRowService.end)},t.prototype.print=function(e,t,i){var n,r,o=this._bufferService.buffer,s=this._charsetService.charset,a=this._optionsService.options.screenReaderMode,c=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,u=this._terminal.insertMode,d=this._curAttrData,f=o.lines.get(o.y+o.ybase);this._dirtyRowService.markDirty(o.y),o.x&&i-t>0&&2===f.getWidth(o.x-1)&&f.setCellFromCodePoint(o.x-1,0,1,d.fg,d.bg);for(var m=t;m<i;++m){if(n=e[m],r=this._unicodeService.wcwidth(n),n<127&&s){var v=s[String.fromCharCode(n)];v&&(n=v.charCodeAt(0))}if(a&&this._terminal.onA11yCharEmitter.fire(h.stringFromCodePoint(n)),r||!o.x){if(o.x+r-1>=c)if(l)o.x=0,o.y++,o.y===o.scrollBottom+1?(o.y--,this._terminal.scroll(this._eraseAttrData(),!0)):(o.y>=this._bufferService.rows&&(o.y=this._bufferService.rows-1),o.lines.get(o.y).isWrapped=!0),f=o.lines.get(o.y+o.ybase);else if(o.x=c-1,2===r)continue;if(u&&(f.insertCells(o.x,r,o.getNullCell(d),d),2===f.getWidth(c-1)&&f.setCellFromCodePoint(c-1,p.NULL_CELL_CODE,p.NULL_CELL_WIDTH,d.fg,d.bg)),f.setCellFromCodePoint(o.x++,n,r,d.fg,d.bg),r>0)for(;--r;)f.setCellFromCodePoint(o.x++,0,0,d.fg,d.bg)}else f.getWidth(o.x-1)?f.addCodepointToCell(o.x-1,n):f.addCodepointToCell(o.x-2,n)}i-t>0&&(f.loadCell(o.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),o.x<c&&i-t>0&&0===f.getWidth(o.x)&&!f.hasContent(o.x)&&f.setCellFromCodePoint(o.x,0,1,d.fg,d.bg),this._dirtyRowService.markDirty(o.y)},t.prototype.addCsiHandler=function(e,t){var i=this;return"t"!==e.final||e.prefix||e.intermediates?this._parser.addCsiHandler(e,t):this._parser.addCsiHandler(e,(function(e){return!b(e.params[0],i._optionsService.options.windowOptions)||t(e)}))},t.prototype.addDcsHandler=function(e,t){return this._parser.addDcsHandler(e,new g.DcsHandler(t))},t.prototype.addEscHandler=function(e,t){return this._parser.addEscHandler(e,t)},t.prototype.addOscHandler=function(e,t){return this._parser.addOscHandler(e,new v.OscHandler(t))},t.prototype.bell=function(){this._onRequestBell.fire()},t.prototype.lineFeed=function(){var e=this._bufferService.buffer;this._dirtyRowService.markDirty(e.y),this._optionsService.options.convertEol&&(e.x=0),e.y++,e.y===e.scrollBottom+1?(e.y--,this._terminal.scroll(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),e.x>=this._bufferService.cols&&e.x--,this._dirtyRowService.markDirty(e.y),this._onLineFeed.fire()},t.prototype.carriageReturn=function(){this._bufferService.buffer.x=0},t.prototype.backspace=function(){this._restrictCursor(),this._bufferService.buffer.x>0&&this._bufferService.buffer.x--},t.prototype.tab=function(){if(!(this._bufferService.buffer.x>=this._bufferService.cols)){var e=this._bufferService.buffer.x;this._bufferService.buffer.x=this._bufferService.buffer.nextStop(),this._optionsService.options.screenReaderMode&&this._terminal.onA11yTabEmitter.fire(this._bufferService.buffer.x-e)}},t.prototype.shiftOut=function(){this._charsetService.setgLevel(1)},t.prototype.shiftIn=function(){this._charsetService.setgLevel(0)},t.prototype._restrictCursor=function(){this._bufferService.buffer.x=Math.min(this._bufferService.cols-1,Math.max(0,this._bufferService.buffer.x)),this._bufferService.buffer.y=this._coreService.decPrivateModes.origin?Math.min(this._bufferService.buffer.scrollBottom,Math.max(this._bufferService.buffer.scrollTop,this._bufferService.buffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._bufferService.buffer.y)),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._setCursor=function(e,t){this._dirtyRowService.markDirty(this._bufferService.buffer.y),this._coreService.decPrivateModes.origin?(this._bufferService.buffer.x=e,this._bufferService.buffer.y=this._bufferService.buffer.scrollTop+t):(this._bufferService.buffer.x=e,this._bufferService.buffer.y=t),this._restrictCursor(),this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype._moveCursor=function(e,t){this._restrictCursor(),this._setCursor(this._bufferService.buffer.x+e,this._bufferService.buffer.y+t)},t.prototype.cursorUp=function(e){var t=this._bufferService.buffer.y-this._bufferService.buffer.scrollTop;t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1))},t.prototype.cursorDown=function(e){var t=this._bufferService.buffer.scrollBottom-this._bufferService.buffer.y;t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1)},t.prototype.cursorForward=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.cursorBackward=function(e){this._moveCursor(-(e.params[0]||1),0)},t.prototype.cursorNextLine=function(e){this.cursorDown(e),this._bufferService.buffer.x=0},t.prototype.cursorPrecedingLine=function(e){this.cursorUp(e),this._bufferService.buffer.x=0},t.prototype.cursorCharAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.cursorPosition=function(e){this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1)},t.prototype.charPosAbsolute=function(e){this._setCursor((e.params[0]||1)-1,this._bufferService.buffer.y)},t.prototype.hPositionRelative=function(e){this._moveCursor(e.params[0]||1,0)},t.prototype.linePosAbsolute=function(e){this._setCursor(this._bufferService.buffer.x,(e.params[0]||1)-1)},t.prototype.vPositionRelative=function(e){this._moveCursor(0,e.params[0]||1)},t.prototype.hVPosition=function(e){this.cursorPosition(e)},t.prototype.tabClear=function(e){var t=e.params[0];0===t?delete this._bufferService.buffer.tabs[this._bufferService.buffer.x]:3===t&&(this._bufferService.buffer.tabs={})},t.prototype.cursorForwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1;t--;)this._bufferService.buffer.x=this._bufferService.buffer.nextStop()},t.prototype.cursorBackwardTab=function(e){if(!(this._bufferService.buffer.x>=this._bufferService.cols))for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.x=i.prevStop()},t.prototype._eraseInBufferLine=function(e,t,i,n){void 0===n&&(n=!1);var r=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);r.replaceCells(t,i,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),n&&(r.isWrapped=!1)},t.prototype._resetBufferLine=function(e){var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.ybase+e);t.fill(this._bufferService.buffer.getNullCell(this._eraseAttrData())),t.isWrapped=!1},t.prototype.eraseInDisplay=function(e){var t;switch(this._restrictCursor(),e.params[0]){case 0:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t++,this._bufferService.buffer.x,this._bufferService.cols,0===this._bufferService.buffer.x);t<this._bufferService.rows;t++)this._resetBufferLine(t);this._dirtyRowService.markDirty(t);break;case 1:for(t=this._bufferService.buffer.y,this._dirtyRowService.markDirty(t),this._eraseInBufferLine(t,0,this._bufferService.buffer.x+1,!0),this._bufferService.buffer.x+1>=this._bufferService.cols&&(this._bufferService.buffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowService.markDirty(t-1);t--;)this._resetBufferLine(t);this._dirtyRowService.markDirty(0);break;case 3:var i=this._bufferService.buffer.lines.length-this._bufferService.rows;i>0&&(this._bufferService.buffer.lines.trimStart(i),this._bufferService.buffer.ybase=Math.max(this._bufferService.buffer.ybase-i,0),this._bufferService.buffer.ydisp=Math.max(this._bufferService.buffer.ydisp-i,0),this._onScroll.fire(0))}},t.prototype.eraseInLine=function(e){switch(this._restrictCursor(),e.params[0]){case 0:this._eraseInBufferLine(this._bufferService.buffer.y,this._bufferService.buffer.x,this._bufferService.cols);break;case 1:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.buffer.x+1);break;case 2:this._eraseInBufferLine(this._bufferService.buffer.y,0,this._bufferService.cols)}this._dirtyRowService.markDirty(this._bufferService.buffer.y)},t.prototype.insertLines=function(e){this._restrictCursor();var t=e.params[0]||1,i=this._bufferService.buffer;if(!(i.y>i.scrollBottom||i.y<i.scrollTop)){for(var n=i.y+i.ybase,r=this._bufferService.rows-1-i.scrollBottom,o=this._bufferService.rows-1+i.ybase-r+1;t--;)i.lines.splice(o-1,1),i.lines.splice(n,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.y,i.scrollBottom),i.x=0}},t.prototype.deleteLines=function(e){this._restrictCursor();var t=e.params[0]||1,i=this._bufferService.buffer;if(!(i.y>i.scrollBottom||i.y<i.scrollTop)){var n,r=i.y+i.ybase;for(n=this._bufferService.rows-1-i.scrollBottom,n=this._bufferService.rows-1+i.ybase-n;t--;)i.lines.splice(r,1),i.lines.splice(n,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.y,i.scrollBottom),i.x=0}},t.prototype.insertChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.y+this._bufferService.buffer.ybase);t&&(t.insertCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.deleteChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.y+this._bufferService.buffer.ybase);t&&(t.deleteCells(this._bufferService.buffer.x,e.params[0]||1,this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.scrollUp=function(e){for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.lines.splice(i.ybase+i.scrollTop,1),i.lines.splice(i.ybase+i.scrollBottom,0,i.getBlankLine(this._eraseAttrData()));this._dirtyRowService.markRangeDirty(i.scrollTop,i.scrollBottom)},t.prototype.scrollDown=function(e){for(var t=e.params[0]||1,i=this._bufferService.buffer;t--;)i.lines.splice(i.ybase+i.scrollBottom,1),i.lines.splice(i.ybase+i.scrollTop,0,i.getBlankLine(u.DEFAULT_ATTR_DATA));this._dirtyRowService.markRangeDirty(i.scrollTop,i.scrollBottom)},t.prototype.scrollLeft=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=t.lines.get(t.ybase+n);r.deleteCells(0,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.scrollRight=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=t.lines.get(t.ybase+n);r.insertCells(0,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.insertColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=this._bufferService.buffer.lines.get(t.ybase+n);r.insertCells(t.x,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.deleteColumns=function(e){var t=this._bufferService.buffer;if(!(t.y>t.scrollBottom||t.y<t.scrollTop)){for(var i=e.params[0]||1,n=t.scrollTop;n<=t.scrollBottom;++n){var r=t.lines.get(t.ybase+n);r.deleteCells(t.x,i,t.getNullCell(this._eraseAttrData()),this._eraseAttrData()),r.isWrapped=!1}this._dirtyRowService.markRangeDirty(t.scrollTop,t.scrollBottom)}},t.prototype.eraseChars=function(e){this._restrictCursor();var t=this._bufferService.buffer.lines.get(this._bufferService.buffer.y+this._bufferService.buffer.ybase);t&&(t.replaceCells(this._bufferService.buffer.x,this._bufferService.buffer.x+(e.params[0]||1),this._bufferService.buffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowService.markDirty(this._bufferService.buffer.y))},t.prototype.repeatPrecedingCharacter=function(e){if(this._parser.precedingCodepoint){for(var t=e.params[0]||1,i=new Uint32Array(t),n=0;n<t;++n)i[n]=this._parser.precedingCodepoint;this.print(i,0,i.length)}},t.prototype.sendDeviceAttributesPrimary=function(e){e.params[0]>0||(this._terminal.is("xterm")||this._terminal.is("rxvt-unicode")||this._terminal.is("screen")?this._coreService.triggerDataEvent(o.C0.ESC+"[?1;2c"):this._terminal.is("linux")&&this._coreService.triggerDataEvent(o.C0.ESC+"[?6c"))},t.prototype.sendDeviceAttributesSecondary=function(e){e.params[0]>0||(this._terminal.is("xterm")?this._coreService.triggerDataEvent(o.C0.ESC+"[>0;276;0c"):this._terminal.is("rxvt-unicode")?this._coreService.triggerDataEvent(o.C0.ESC+"[>85;95;0c"):this._terminal.is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._terminal.is("screen")&&this._coreService.triggerDataEvent(o.C0.ESC+"[>83;40003;0c"))},t.prototype.setMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._terminal.insertMode=!0}},t.prototype.setModePrivate=function(e){for(var t,i,n=0;n<e.length;n++)switch(e.params[n]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,s.DEFAULT_CHARSET),this._charsetService.setgCharset(1,s.DEFAULT_CHARSET),this._charsetService.setgCharset(2,s.DEFAULT_CHARSET),this._charsetService.setgCharset(3,s.DEFAULT_CHARSET);break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._terminal.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,null===(t=this._terminal.viewport)||void 0===t||t.syncScrollArea();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._terminal.sendFocus=!0;break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),null===(i=this._terminal.viewport)||void 0===i||i.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!0}},t.prototype.resetMode=function(e){for(var t=0;t<e.length;t++)switch(e.params[t]){case 4:this._terminal.insertMode=!1}},t.prototype.resetModePrivate=function(e){for(var t,i,n=0;n<e.length;n++)switch(e.params[n]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.options.windowOptions.setWinLines&&(this._terminal.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,null===(t=this._terminal.viewport)||void 0===t||t.syncScrollArea();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._terminal.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[n]&&this.restoreCursor(),this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),null===(i=this._terminal.viewport)||void 0===i||i.syncScrollArea(),this._terminal.showCursor();break;case 2004:this._terminal.bracketedPasteMode=!1}},t.prototype._extractColor=function(e,t,i){var n=[0,0,-1,0,0,0],r=0,o=0;do{if(n[o+r]=e.params[t+o],e.hasSubParams(t+o)){var s=e.getSubParams(t+o),a=0;do{5===n[1]&&(r=1),n[o+a+1+r]=s[a]}while(++a<s.length&&a+o+1+r<n.length);break}if(5===n[1]&&o+r>=2||2===n[1]&&o+r>=5)break;n[1]&&(r=1)}while(++o+t<e.length&&o+r<n.length);for(a=2;a<n.length;++a)-1===n[a]&&(n[a]=0);return 38===n[0]?2===n[1]?(i.fg|=50331648,i.fg&=-16777216,i.fg|=m.AttributeData.fromColorRGB([n[3],n[4],n[5]])):5===n[1]&&(i.fg&=-50331904,i.fg|=33554432|255&n[3]):48===n[0]&&(2===n[1]?(i.bg|=50331648,i.bg&=-16777216,i.bg|=m.AttributeData.fromColorRGB([n[3],n[4],n[5]])):5===n[1]&&(i.bg&=-50331904,i.bg|=33554432|255&n[3])),o},t.prototype.charAttributes=function(e){if(1===e.length&&0===e.params[0])return this._curAttrData.fg=u.DEFAULT_ATTR_DATA.fg,void(this._curAttrData.bg=u.DEFAULT_ATTR_DATA.bg);for(var t,i=e.length,n=this._curAttrData,r=0;r<i;r++)(t=e.params[r])>=30&&t<=37?(n.fg&=-50331904,n.fg|=16777216|t-30):t>=40&&t<=47?(n.bg&=-50331904,n.bg|=16777216|t-40):t>=90&&t<=97?(n.fg&=-50331904,n.fg|=16777224|t-90):t>=100&&t<=107?(n.bg&=-50331904,n.bg|=16777224|t-100):0===t?(n.fg=u.DEFAULT_ATTR_DATA.fg,n.bg=u.DEFAULT_ATTR_DATA.bg):1===t?n.fg|=134217728:3===t?n.bg|=67108864:4===t?n.fg|=268435456:5===t?n.fg|=536870912:7===t?n.fg|=67108864:8===t?n.fg|=1073741824:2===t?n.bg|=134217728:22===t?(n.fg&=-134217729,n.bg&=-134217729):23===t?n.bg&=-67108865:24===t?n.fg&=-268435457:25===t?n.fg&=-536870913:27===t?n.fg&=-67108865:28===t?n.fg&=-1073741825:39===t?(n.fg&=-67108864,n.fg|=16777215&u.DEFAULT_ATTR_DATA.fg):49===t?(n.bg&=-67108864,n.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):38===t||48===t?r+=this._extractColor(e,r,n):100===t?(n.fg&=-67108864,n.fg|=16777215&u.DEFAULT_ATTR_DATA.fg,n.bg&=-67108864,n.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",t)},t.prototype.deviceStatus=function(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent(o.C0.ESC+"[0n");break;case 6:var t=this._bufferService.buffer.y+1,i=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(o.C0.ESC+"["+t+";"+i+"R")}},t.prototype.deviceStatusPrivate=function(e){switch(e.params[0]){case 6:var t=this._bufferService.buffer.y+1,i=this._bufferService.buffer.x+1;this._coreService.triggerDataEvent(o.C0.ESC+"[?"+t+";"+i+"R")}},t.prototype.softReset=function(e){var t;this._coreService.isCursorHidden=!1,this._terminal.insertMode=!1,null===(t=this._terminal.viewport)||void 0===t||t.syncScrollArea(),this._bufferService.buffer.scrollTop=0,this._bufferService.buffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._bufferService.buffer.savedX=0,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1},t.prototype.setCursorStyle=function(e){var t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}var i=t%2==1;this._optionsService.options.cursorBlink=i},t.prototype.setScrollRegion=function(e){var t,i=e.params[0]||1;(e.length<2||(t=e.params[1])>this._bufferService.rows||0===t)&&(t=this._bufferService.rows),t>i&&(this._bufferService.buffer.scrollTop=i-1,this._bufferService.buffer.scrollBottom=t-1,this._setCursor(0,0))},t.prototype.windowOptions=function(e){if(b(e.params[0],this._optionsService.options.windowOptions)){var t=e.length>1?e.params[1]:0,i=this._instantiationService.getService(y.IRenderService);switch(e.params[0]){case 14:if(i&&2!==t){console.log(i.dimensions);var n=i.dimensions.scaledCanvasWidth.toFixed(0),r=i.dimensions.scaledCanvasHeight.toFixed(0);this._coreService.triggerDataEvent(o.C0.ESC+"[4;"+r+";"+n+"t")}break;case 16:i&&(n=i.dimensions.scaledCellWidth.toFixed(0),r=i.dimensions.scaledCellHeight.toFixed(0),this._coreService.triggerDataEvent(o.C0.ESC+"[6;"+r+";"+n+"t"));break;case 18:this._bufferService&&this._coreService.triggerDataEvent(o.C0.ESC+"[8;"+this._bufferService.rows+";"+this._bufferService.cols+"t");break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}}},t.prototype.saveCursor=function(e){this._bufferService.buffer.savedX=this._bufferService.buffer.x,this._bufferService.buffer.savedY=this._bufferService.buffer.ybase+this._bufferService.buffer.y,this._bufferService.buffer.savedCurAttrData.fg=this._curAttrData.fg,this._bufferService.buffer.savedCurAttrData.bg=this._curAttrData.bg,this._bufferService.buffer.savedCharset=this._charsetService.charset},t.prototype.restoreCursor=function(e){this._bufferService.buffer.x=this._bufferService.buffer.savedX||0,this._bufferService.buffer.y=Math.max(this._bufferService.buffer.savedY-this._bufferService.buffer.ybase,0),this._curAttrData.fg=this._bufferService.buffer.savedCurAttrData.fg,this._curAttrData.bg=this._bufferService.buffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._bufferService.buffer.savedCharset&&(this._charsetService.charset=this._bufferService.buffer.savedCharset),this._restrictCursor()},t.prototype.setTitle=function(e){this._windowTitle=e,this._terminal.handleTitle(e)},t.prototype.setIconName=function(e){this._iconName=e},t.prototype.nextLine=function(){this._bufferService.buffer.x=0,this.index()},t.prototype.keypadApplicationMode=function(){var e;this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,null===(e=this._terminal.viewport)||void 0===e||e.syncScrollArea()},t.prototype.keypadNumericMode=function(){var e;this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,null===(e=this._terminal.viewport)||void 0===e||e.syncScrollArea()},t.prototype.selectDefaultCharset=function(){this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,s.DEFAULT_CHARSET)},t.prototype.selectCharset=function(e){2===e.length?"/"!==e[0]&&this._charsetService.setgCharset(_[e[0]],s.CHARSETS[e[1]]||s.DEFAULT_CHARSET):this.selectDefaultCharset()},t.prototype.index=function(){this._restrictCursor();var e=this._bufferService.buffer;this._bufferService.buffer.y++,e.y===e.scrollBottom+1?(e.y--,this._terminal.scroll(this._eraseAttrData())):e.y>=this._bufferService.rows&&(e.y=this._bufferService.rows-1),this._restrictCursor()},t.prototype.tabSet=function(){this._bufferService.buffer.tabs[this._bufferService.buffer.x]=!0},t.prototype.reverseIndex=function(){this._restrictCursor();var e=this._bufferService.buffer;if(e.y===e.scrollTop){var t=e.scrollBottom-e.scrollTop;e.lines.shiftElements(e.y+e.ybase,t,1),e.lines.set(e.y+e.ybase,e.getBlankLine(this._eraseAttrData())),this._dirtyRowService.markRangeDirty(e.scrollTop,e.scrollBottom)}else e.y--,this._restrictCursor()},t.prototype.fullReset=function(){this._parser.reset(),this._onRequestReset.fire()},t.prototype.reset=function(){this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone()},t.prototype._eraseAttrData=function(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal},t.prototype.setgLevel=function(e){this._charsetService.setgLevel(e)},t.prototype.screenAlignmentPattern=function(){var e=new f.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg;var t=this._bufferService.buffer;this._setCursor(0,0);for(var i=0;i<this._bufferService.rows;++i){var n=t.y+t.ybase+i;t.lines.get(n).fill(e),t.lines.get(n).isWrapped=!1}this._dirtyRowService.markAllDirty(),this._setCursor(0,0)},t}(c.Disposable);t.InputHandler=w},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(2),s=i(15),a=i(19),c=i(20),l=i(22),h=function(){function e(e){this.table=new Uint8Array(e)}return e.prototype.setDefault=function(e,t){s.fill(this.table,e<<4|t)},e.prototype.add=function(e,t,i,n){this.table[t<<8|e]=i<<4|n},e.prototype.addMany=function(e,t,i,n){for(var r=0;r<e.length;r++)this.table[t<<8|e[r]]=i<<4|n},e}();t.TransitionTable=h,t.VT500_TRANSITION_TABLE=function(){var e=new h(4095),t=Array.apply(null,Array(256)).map((function(e,t){return t})),i=function(e,i){return t.slice(e,i)},n=i(32,127),r=i(0,24);r.push(25),r.push.apply(r,i(28,32));var o,s=i(0,14);for(o in e.setDefault(1,0),e.addMany(n,0,2,0),s)e.addMany([24,26,153,154],o,3,0),e.addMany(i(128,144),o,3,0),e.addMany(i(144,152),o,3,0),e.add(156,o,0,0),e.add(27,o,11,1),e.add(157,o,4,8),e.addMany([152,158,159],o,0,7),e.add(155,o,11,3),e.add(144,o,11,9);return e.addMany(r,0,3,0),e.addMany(r,1,3,1),e.add(127,1,0,1),e.addMany(r,8,0,8),e.addMany(r,3,3,3),e.add(127,3,0,3),e.addMany(r,4,3,4),e.add(127,4,0,4),e.addMany(r,6,3,6),e.addMany(r,5,3,5),e.add(127,5,0,5),e.addMany(r,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(n,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(i(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(n,7,0,7),e.addMany(r,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(i(64,127),3,7,0),e.addMany(i(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(i(48,60),4,8,4),e.addMany(i(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(i(32,64),6,0,6),e.add(127,6,0,6),e.addMany(i(64,127),6,0,0),e.addMany(i(32,48),3,9,5),e.addMany(i(32,48),5,9,5),e.addMany(i(48,64),5,0,6),e.addMany(i(64,127),5,7,0),e.addMany(i(32,48),4,9,5),e.addMany(i(32,48),1,9,2),e.addMany(i(32,48),2,9,2),e.addMany(i(48,127),2,10,0),e.addMany(i(48,80),1,10,0),e.addMany(i(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(i(96,127),1,10,0),e.add(80,1,11,9),e.addMany(r,9,0,9),e.add(127,9,0,9),e.addMany(i(28,32),9,0,9),e.addMany(i(32,48),9,9,12),e.addMany(i(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(r,11,0,11),e.addMany(i(32,128),11,0,11),e.addMany(i(28,32),11,0,11),e.addMany(r,10,0,10),e.add(127,10,0,10),e.addMany(i(28,32),10,0,10),e.addMany(i(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(i(32,48),10,9,12),e.addMany(r,12,0,12),e.add(127,12,0,12),e.addMany(i(28,32),12,0,12),e.addMany(i(32,48),12,9,12),e.addMany(i(48,64),12,0,11),e.addMany(i(64,127),12,12,13),e.addMany(i(64,127),10,12,13),e.addMany(i(64,127),9,12,13),e.addMany(r,13,13,13),e.addMany(n,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(160,0,2,0),e.add(160,8,5,8),e.add(160,6,0,6),e.add(160,11,0,11),e.add(160,13,13,13),e}();var u=function(e){function i(i){void 0===i&&(i=t.VT500_TRANSITION_TABLE);var n=e.call(this)||this;return n._transitions=i,n.initialState=0,n.currentState=n.initialState,n._params=new a.Params,n._params.addParam(0),n._collect=0,n.precedingCodepoint=0,n._printHandlerFb=function(e,t,i){},n._executeHandlerFb=function(e){},n._csiHandlerFb=function(e,t){},n._escHandlerFb=function(e){},n._errorHandlerFb=function(e){return e},n._printHandler=n._printHandlerFb,n._executeHandlers=Object.create(null),n._csiHandlers=Object.create(null),n._escHandlers=Object.create(null),n._oscParser=new c.OscParser,n._dcsParser=new l.DcsParser,n._errorHandler=n._errorHandlerFb,n.setEscHandler({final:"\\"},(function(){})),n}return r(i,e),i.prototype._identifier=function(e,t){void 0===t&&(t=[64,126]);var i=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if((i=e.prefix.charCodeAt(0))&&60>i||i>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(var n=0;n<e.intermediates.length;++n){var r=e.intermediates.charCodeAt(n);if(32>r||r>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");i<<=8,i|=r}}if(1!==e.final.length)throw new Error("final must be a single byte");var o=e.final.charCodeAt(0);if(t[0]>o||o>t[1])throw new Error("final must be in range "+t[0]+" .. "+t[1]);return i<<=8,i|o},i.prototype.identToString=function(e){for(var t=[];e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")},i.prototype.dispose=function(){this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null),this._oscParser.dispose(),this._dcsParser.dispose()},i.prototype.setPrintHandler=function(e){this._printHandler=e},i.prototype.clearPrintHandler=function(){this._printHandler=this._printHandlerFb},i.prototype.addEscHandler=function(e,t){var i=this._identifier(e,[48,126]);void 0===this._escHandlers[i]&&(this._escHandlers[i]=[]);var n=this._escHandlers[i];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},i.prototype.setEscHandler=function(e,t){this._escHandlers[this._identifier(e,[48,126])]=[t]},i.prototype.clearEscHandler=function(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]},i.prototype.setEscHandlerFallback=function(e){this._escHandlerFb=e},i.prototype.setExecuteHandler=function(e,t){this._executeHandlers[e.charCodeAt(0)]=t},i.prototype.clearExecuteHandler=function(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]},i.prototype.setExecuteHandlerFallback=function(e){this._executeHandlerFb=e},i.prototype.addCsiHandler=function(e,t){var i=this._identifier(e);void 0===this._csiHandlers[i]&&(this._csiHandlers[i]=[]);var n=this._csiHandlers[i];return n.push(t),{dispose:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}},i.prototype.setCsiHandler=function(e,t){this._csiHandlers[this._identifier(e)]=[t]},i.prototype.clearCsiHandler=function(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]},i.prototype.setCsiHandlerFallback=function(e){this._csiHandlerFb=e},i.prototype.addDcsHandler=function(e,t){return this._dcsParser.addHandler(this._identifier(e),t)},i.prototype.setDcsHandler=function(e,t){this._dcsParser.setHandler(this._identifier(e),t)},i.prototype.clearDcsHandler=function(e){this._dcsParser.clearHandler(this._identifier(e))},i.prototype.setDcsHandlerFallback=function(e){this._dcsParser.setHandlerFallback(e)},i.prototype.addOscHandler=function(e,t){return this._oscParser.addHandler(e,t)},i.prototype.setOscHandler=function(e,t){this._oscParser.setHandler(e,t)},i.prototype.clearOscHandler=function(e){this._oscParser.clearHandler(e)},i.prototype.setOscHandlerFallback=function(e){this._oscParser.setHandlerFallback(e)},i.prototype.setErrorHandler=function(e){this._errorHandler=e},i.prototype.clearErrorHandler=function(){this._errorHandler=this._errorHandlerFb},i.prototype.reset=function(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0},i.prototype.parse=function(e,t){for(var i=0,n=0,r=this.currentState,o=this._oscParser,s=this._dcsParser,a=this._collect,c=this._params,l=this._transitions.table,h=0;h<t;++h){switch((n=l[r<<8|((i=e[h])<160?i:160)])>>4){case 2:for(var u=h+1;;++u){if(u>=t||(i=e[u])<32||i>126&&i<160){this._printHandler(e,h,u),h=u-1;break}if(++u>=t||(i=e[u])<32||i>126&&i<160){this._printHandler(e,h,u),h=u-1;break}if(++u>=t||(i=e[u])<32||i>126&&i<160){this._printHandler(e,h,u),h=u-1;break}if(++u>=t||(i=e[u])<32||i>126&&i<160){this._printHandler(e,h,u),h=u-1;break}}break;case 3:this._executeHandlers[i]?this._executeHandlers[i]():this._executeHandlerFb(i),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:h,code:i,currentState:r,collect:a,params:c,abort:!1}).abort)return;break;case 7:for(var d=this._csiHandlers[a<<8|i],p=d?d.length-1:-1;p>=0&&!1===d[p](c);p--);p<0&&this._csiHandlerFb(a<<8|i,c),this.precedingCodepoint=0;break;case 8:do{switch(i){case 59:c.addParam(0);break;case 58:c.addSubParam(-1);break;default:c.addDigit(i-48)}}while(++h<t&&(i=e[h])>47&&i<60);h--;break;case 9:a<<=8,a|=i;break;case 10:for(var f=this._escHandlers[a<<8|i],m=f?f.length-1:-1;m>=0&&!1===f[m]();m--);m<0&&this._escHandlerFb(a<<8|i),this.precedingCodepoint=0;break;case 11:c.reset(),c.addParam(0),a=0;break;case 12:s.hook(a<<8|i,c);break;case 13:for(var v=h+1;;++v)if(v>=t||24===(i=e[v])||26===i||27===i||i>127&&i<160){s.put(e,h,v),h=v-1;break}break;case 14:s.unhook(24!==i&&26!==i),27===i&&(n|=1),c.reset(),c.addParam(0),a=0,this.precedingCodepoint=0;break;case 4:o.start();break;case 5:for(var g=h+1;;g++)if(g>=t||(i=e[g])<32||i>127&&i<=159){o.put(e,h,g),h=g-1;break}break;case 6:o.end(24!==i&&26!==i),27===i&&(n|=1),c.reset(),c.addParam(0),a=0,this.precedingCodepoint=0}r=15&n}this._collect=a,this.currentState=r},i}(o.Disposable);t.EscapeSequenceParser=u},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(40),c=i(46),l=i(47),h=i(48),u=i(27),d=i(2),p=i(4),f=i(1),m=i(23),v=i(0),g=1,y=function(e){function t(t,i,n,r,o,s,d,p,f){var m=e.call(this)||this;m._colors=t,m._screenElement=i,m.linkifier=n,m.linkifier2=r,m._bufferService=o,m._charSizeService=s,m._optionsService=d,m.coreService=p,m.coreBrowserService=f,m._id=g++,m._onRequestRefreshRows=new v.EventEmitter;var y=m._optionsService.options.allowTransparency;return m._characterJoinerRegistry=new u.CharacterJoinerRegistry(m._bufferService),m._renderLayers=[new a.TextRenderLayer(m._screenElement,0,m._colors,m._characterJoinerRegistry,y,m._id,m._bufferService,d),new c.SelectionRenderLayer(m._screenElement,1,m._colors,m._id,m._bufferService,d),new h.LinkRenderLayer(m._screenElement,2,m._colors,m._id,n,r,m._bufferService,d),new l.CursorRenderLayer(m._screenElement,3,m._colors,m._id,m._onRequestRefreshRows,m._bufferService,d,p,f)],m.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},m._devicePixelRatio=window.devicePixelRatio,m._updateDimensions(),m.onOptionsChanged(),m}return r(t,e),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._renderLayers.forEach((function(e){return e.dispose()})),m.removeTerminalFromCache(this._id)},t.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._bufferService.cols,this._bufferService.rows))},t.prototype.setColors=function(e){var t=this;this._colors=e,this._renderLayers.forEach((function(e){e.setColors(t._colors),e.reset()}))},t.prototype.onResize=function(e,t){var i=this;this._updateDimensions(),this._renderLayers.forEach((function(e){return e.resize(i.dimensions)})),this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.onCharSizeChanged=function(){this.onResize(this._bufferService.cols,this._bufferService.rows)},t.prototype.onBlur=function(){this._runOperation((function(e){return e.onBlur()}))},t.prototype.onFocus=function(){this._runOperation((function(e){return e.onFocus()}))},t.prototype.onSelectionChanged=function(e,t,i){void 0===i&&(i=!1),this._runOperation((function(n){return n.onSelectionChanged(e,t,i)}))},t.prototype.onCursorMove=function(){this._runOperation((function(e){return e.onCursorMove()}))},t.prototype.onOptionsChanged=function(){this._runOperation((function(e){return e.onOptionsChanged()}))},t.prototype.clear=function(){this._runOperation((function(e){return e.reset()}))},t.prototype._runOperation=function(e){this._renderLayers.forEach((function(t){return e(t)}))},t.prototype.renderRows=function(e,t){this._renderLayers.forEach((function(i){return i.onGridChanged(e,t)}))},t.prototype._updateDimensions=function(){this._charSizeService.hasValidSize&&(this.dimensions.scaledCharWidth=Math.floor(this._charSizeService.width*window.devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharTop=1===this._optionsService.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._optionsService.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._bufferService.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._bufferService.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols)},t.prototype.registerCharacterJoiner=function(e){return this._characterJoinerRegistry.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._characterJoinerRegistry.deregisterCharacterJoiner(e)},o([s(4,f.IBufferService),s(5,p.ICharSizeService),s(6,f.IOptionsService),s(7,f.ICoreService),s(8,p.ICoreBrowserService)],t)}(d.Disposable);t.Renderer=y},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(41),s=i(13),a=i(6),c=i(3),l=i(27),h=i(5),u=function(e){function t(t,i,n,r,s,a,c,l){var u=e.call(this,t,"text",i,s,n,a,c,l)||this;return u.bufferService=c,u.optionsService=l,u._characterWidth=0,u._characterFont="",u._characterOverlapCache={},u._workCell=new h.CellData,u._state=new o.GridCache,u._characterJoinerRegistry=r,u}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t);var i=this._getFont(!1,!1);this._characterWidth===t.scaledCharWidth&&this._characterFont===i||(this._characterWidth=t.scaledCharWidth,this._characterFont=i,this._characterOverlapCache={}),this._state.clear(),this._state.resize(this._bufferService.cols,this._bufferService.rows)},t.prototype.reset=function(){this._state.clear(),this._clearAll()},t.prototype._forEachCell=function(e,t,i,n){for(var r=e;r<=t;r++)for(var o=r+this._bufferService.buffer.ydisp,s=this._bufferService.buffer.lines.get(o),a=i?i.getJoinedCharacters(o):[],h=0;h<this._bufferService.cols;h++){s.loadCell(h,this._workCell);var u=this._workCell,d=!1,p=h;if(0!==u.getWidth()){if(a.length>0&&h===a[0][0]){d=!0;var f=a.shift();u=new l.JoinedCellData(this._workCell,s.translateToString(!0,f[0],f[1]),f[1]-f[0]),p=f[1]-1}!d&&this._isOverlapping(u)&&p<s.length-1&&s.getCodePoint(p+1)===c.NULL_CELL_CODE&&(u.content&=-12582913,u.content|=2<<22),n(u,h,r),h=p}}},t.prototype._drawBackground=function(e,t){var i=this,n=this._ctx,r=this._bufferService.cols,o=0,s=0,c=null;n.save(),this._forEachCell(e,t,null,(function(e,t,l){var h=null;e.isInverse()?h=e.isFgDefault()?i._colors.foreground.css:e.isFgRGB()?"rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")":i._colors.ansi[e.getFgColor()].css:e.isBgRGB()?h="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")":e.isBgPalette()&&(h=i._colors.ansi[e.getBgColor()].css),null===c&&(o=t,s=l),l!==s?(n.fillStyle=c||"",i._fillCells(o,s,r-o,1),o=t,s=l):c!==h&&(n.fillStyle=c||"",i._fillCells(o,s,t-o,1),o=t,s=l),c=h})),null!==c&&(n.fillStyle=c,this._fillCells(o,s,r-o,1)),n.restore()},t.prototype._drawForeground=function(e,t){var i=this;this._forEachCell(e,t,this._characterJoinerRegistry,(function(e,t,n){if(!e.isInvisible()&&(i._drawChars(e,t,n),e.isUnderline())){if(i._ctx.save(),e.isInverse())if(e.isBgDefault())i._ctx.fillStyle=i._colors.background.css;else if(e.isBgRGB())i._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getBgColor()).join(",")+")";else{var r=e.getBgColor();i._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&r<8&&(r+=8),i._ctx.fillStyle=i._colors.ansi[r].css}else if(e.isFgDefault())i._ctx.fillStyle=i._colors.foreground.css;else if(e.isFgRGB())i._ctx.fillStyle="rgb("+a.AttributeData.toColorRGB(e.getFgColor()).join(",")+")";else{var o=e.getFgColor();i._optionsService.options.drawBoldTextInBrightColors&&e.isBold()&&o<8&&(o+=8),i._ctx.fillStyle=i._colors.ansi[o].css}i._fillBottomLineAtCells(t,n,e.getWidth()),i._ctx.restore()}}))},t.prototype.onGridChanged=function(e,t){0!==this._state.cache.length&&(this._charAtlas&&this._charAtlas.beginFrame(),this._clearCells(0,e,this._bufferService.cols,t-e+1),this._drawBackground(e,t),this._drawForeground(e,t))},t.prototype.onOptionsChanged=function(){this._setTransparency(this._optionsService.options.allowTransparency)},t.prototype._isOverlapping=function(e){if(1!==e.getWidth())return!1;if(e.getCode()<256)return!1;var t=e.getChars();if(this._characterOverlapCache.hasOwnProperty(t))return this._characterOverlapCache[t];this._ctx.save(),this._ctx.font=this._characterFont;var i=Math.floor(this._ctx.measureText(t).width)>this._characterWidth;return this._ctx.restore(),this._characterOverlapCache[t]=i,i},t}(s.BaseRenderLayer);t.TextRenderLayer=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.cache=[]}return e.prototype.resize=function(e,t){for(var i=0;i<e;i++){this.cache.length<=i&&this.cache.push([]);for(var n=this.cache[i].length;n<t;n++)this.cache[i].push(void 0);this.cache[i].length=t}this.cache.length=e},e.prototype.clear=function(){for(var e=0;e<this.cache.length;e++)for(var t=0;t<this.cache[e].length;t++)this.cache[e][t]=void 0},e}();t.GridCache=n},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(9),s=i(43),a=i(25),c=i(45),l=i(11),h=i(26),u=i(10),d={css:"rgba(0, 0, 0, 0)",rgba:0};function p(e){return e.code<<21|e.bg<<12|e.fg<<3|(e.bold?0:4)+(e.dim?0:2)+(e.italic?0:1)}t.getGlyphCacheKey=p;var f=function(e){function t(t,i){var n=e.call(this)||this;n._config=i,n._drawToCacheCount=0,n._glyphsWaitingOnBitmap=[],n._bitmapCommitTimeout=null,n._bitmap=null,n._cacheCanvas=t.createElement("canvas"),n._cacheCanvas.width=1024,n._cacheCanvas.height=1024,n._cacheCtx=h.throwIfFalsy(n._cacheCanvas.getContext("2d",{alpha:!0}));var r=t.createElement("canvas");r.width=n._config.scaledCharWidth,r.height=n._config.scaledCharHeight,n._tmpCtx=h.throwIfFalsy(r.getContext("2d",{alpha:n._config.allowTransparency})),n._width=Math.floor(1024/n._config.scaledCharWidth),n._height=Math.floor(1024/n._config.scaledCharHeight);var o=n._width*n._height;return n._cacheMap=new c.LRUMap(o),n._cacheMap.prealloc(o),n}return r(t,e),t.prototype.dispose=function(){null!==this._bitmapCommitTimeout&&(window.clearTimeout(this._bitmapCommitTimeout),this._bitmapCommitTimeout=null)},t.prototype.beginFrame=function(){this._drawToCacheCount=0},t.prototype.draw=function(e,t,i,n){if(32===t.code)return!0;if(!this._canCache(t))return!1;var r=p(t),o=this._cacheMap.get(r);if(null!=o)return this._drawFromCache(e,o,i,n),!0;if(this._drawToCacheCount<100){var s=void 0;s=this._cacheMap.size<this._cacheMap.capacity?this._cacheMap.size:this._cacheMap.peek().index;var a=this._drawToCache(t,s);return this._cacheMap.set(r,a),this._drawFromCache(e,a,i,n),!0}return!1},t.prototype._canCache=function(e){return e.code<256},t.prototype._toCoordinateX=function(e){return e%this._width*this._config.scaledCharWidth},t.prototype._toCoordinateY=function(e){return Math.floor(e/this._width)*this._config.scaledCharHeight},t.prototype._drawFromCache=function(e,t,i,n){if(!t.isEmpty){var r=this._toCoordinateX(t.index),o=this._toCoordinateY(t.index);e.drawImage(t.inBitmap?this._bitmap:this._cacheCanvas,r,o,this._config.scaledCharWidth,this._config.scaledCharHeight,i,n,this._config.scaledCharWidth,this._config.scaledCharHeight)}},t.prototype._getColorFromAnsiIndex=function(e){return e<this._config.colors.ansi.length?this._config.colors.ansi[e]:a.DEFAULT_ANSI_COLORS[e]},t.prototype._getBackgroundColor=function(e){return this._config.allowTransparency?d:e.bg===o.INVERTED_DEFAULT_COLOR?this._config.colors.foreground:e.bg<256?this._getColorFromAnsiIndex(e.bg):this._config.colors.background},t.prototype._getForegroundColor=function(e){return e.fg===o.INVERTED_DEFAULT_COLOR?u.color.opaque(this._config.colors.background):e.fg<256?this._getColorFromAnsiIndex(e.fg):this._config.colors.foreground},t.prototype._drawToCache=function(e,t){this._drawToCacheCount++,this._tmpCtx.save();var i=this._getBackgroundColor(e);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=i.css,this._tmpCtx.fillRect(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),this._tmpCtx.globalCompositeOperation="source-over";var n=e.bold?this._config.fontWeightBold:this._config.fontWeight,r=e.italic?"italic":"";this._tmpCtx.font=r+" "+n+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline="middle",this._tmpCtx.fillStyle=this._getForegroundColor(e).css,e.dim&&(this._tmpCtx.globalAlpha=o.DIM_OPACITY),this._tmpCtx.fillText(e.chars,0,this._config.scaledCharHeight/2),this._tmpCtx.restore();var s=this._tmpCtx.getImageData(0,0,this._config.scaledCharWidth,this._config.scaledCharHeight),a=!1;this._config.allowTransparency||(a=function(e,t){for(var i=!0,n=t.rgba>>>24,r=t.rgba>>>16&255,o=t.rgba>>>8&255,s=0;s<e.data.length;s+=4)e.data[s]===n&&e.data[s+1]===r&&e.data[s+2]===o?e.data[s+3]=0:i=!1;return i}(s,i));var c=this._toCoordinateX(t),l=this._toCoordinateY(t);this._cacheCtx.putImageData(s,c,l);var h={index:t,isEmpty:a,inBitmap:!1};return this._addGlyphToBitmap(h),h},t.prototype._addGlyphToBitmap=function(e){var t=this;!("createImageBitmap"in window)||l.isFirefox||l.isSafari||(this._glyphsWaitingOnBitmap.push(e),null===this._bitmapCommitTimeout&&(this._bitmapCommitTimeout=window.setTimeout((function(){return t._generateBitmap()}),100)))},t.prototype._generateBitmap=function(){var e=this,t=this._glyphsWaitingOnBitmap;this._glyphsWaitingOnBitmap=[],window.createImageBitmap(this._cacheCanvas).then((function(i){e._bitmap=i;for(var n=0;n<t.length;n++)t[n].inBitmap=!0})),this._bitmapCommitTimeout=null},t}(s.BaseCharAtlas);t.DynamicCharAtlas=f;var m=function(e){function t(t,i){return e.call(this)||this}return r(t,e),t.prototype.draw=function(e,t,i,n){return!1},t}(s.BaseCharAtlas);t.NoneCharAtlas=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._didWarmUp=!1}return e.prototype.dispose=function(){},e.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},e.prototype._doWarmUp=function(){},e.prototype.beginFrame=function(){},e}();t.BaseCharAtlas=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._color={},this._rgba={}}return e.prototype.clear=function(){this._color={},this._rgba={}},e.prototype.setCss=function(e,t,i){this._rgba[e]||(this._rgba[e]={}),this._rgba[e][t]=i},e.prototype.getCss=function(e,t){return this._rgba[e]?this._rgba[e][t]:void 0},e.prototype.setColor=function(e,t,i){this._color[e]||(this._color[e]={}),this._color[e][t]=i},e.prototype.getColor=function(e,t){return this._color[e]?this._color[e][t]:void 0},e}();t.ColorContrastCache=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.capacity=e,this._map={},this._head=null,this._tail=null,this._nodePool=[],this.size=0}return e.prototype._unlinkNode=function(e){var t=e.prev,i=e.next;e===this._head&&(this._head=i),e===this._tail&&(this._tail=t),null!==t&&(t.next=i),null!==i&&(i.prev=t)},e.prototype._appendNode=function(e){var t=this._tail;null!==t&&(t.next=e),e.prev=t,e.next=null,this._tail=e,null===this._head&&(this._head=e)},e.prototype.prealloc=function(e){for(var t=this._nodePool,i=0;i<e;i++)t.push({prev:null,next:null,key:null,value:null})},e.prototype.get=function(e){var t=this._map[e];return void 0!==t?(this._unlinkNode(t),this._appendNode(t),t.value):null},e.prototype.peekValue=function(e){var t=this._map[e];return void 0!==t?t.value:null},e.prototype.peek=function(){var e=this._head;return null===e?null:e.value},e.prototype.set=function(e,t){var i=this._map[e];if(void 0!==i)i=this._map[e],this._unlinkNode(i),i.value=t;else if(this.size>=this.capacity)i=this._head,this._unlinkNode(i),delete this._map[i.key],i.key=e,i.value=t,this._map[e]=i;else{var n=this._nodePool;n.length>0?((i=n.pop()).key=e,i.value=t):i={prev:null,next:null,key:e,value:t},this._map[e]=i,this.size++}this._appendNode(i)},e}();t.LRUMap=n},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,"selection",i,!0,n,r,o,s)||this;return a.bufferService=o,a.optionsService=s,a._clearState(),a}return r(t,e),t.prototype._clearState=function(){this._state={start:void 0,end:void 0,columnSelectMode:void 0,ydisp:void 0}},t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._clearState()},t.prototype.reset=function(){this._state.start&&this._state.end&&(this._clearState(),this._clearAll())},t.prototype.onSelectionChanged=function(e,t,i){if(this._didStateChange(e,t,i,this._bufferService.buffer.ydisp))if(this._clearAll(),e&&t){var n=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(n,0),s=Math.min(r,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||s<0)){if(this._ctx.fillStyle=this._colors.selection.css,i){var a=e[0],c=t[0]-a,l=s-o+1;this._fillCells(a,o,c,l)}else{a=n===o?e[0]:0;var h=o===s?t[0]:this._bufferService.cols;this._fillCells(a,o,h-a,1);var u=Math.max(s-o-1,0);if(this._fillCells(0,o+1,this._bufferService.cols,u),o!==s){var d=r===s?t[0]:this._bufferService.cols;this._fillCells(0,s,d,1)}}this._state.start=[e[0],e[1]],this._state.end=[t[0],t[1]],this._state.columnSelectMode=i,this._state.ydisp=this._bufferService.buffer.ydisp}}else this._clearState()},t.prototype._didStateChange=function(e,t,i,n){return!this._areCoordinatesEqual(e,this._state.start)||!this._areCoordinatesEqual(t,this._state.end)||i!==this._state.columnSelectMode||n!==this._state.ydisp},t.prototype._areCoordinatesEqual=function(e,t){return!(!e||!t)&&e[0]===t[0]&&e[1]===t[1]},t}(i(13).BaseRenderLayer);t.SelectionRenderLayer=o},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(13),s=i(5),a=function(e){function t(t,i,n,r,o,a,c,l,h){var u=e.call(this,t,"cursor",i,!0,n,r,a,c)||this;return u._onRequestRefreshRowsEvent=o,u.bufferService=a,u.optionsService=c,u._coreService=l,u._coreBrowserService=h,u._cell=new s.CellData,u._state={x:0,y:0,isFocused:!1,style:"",width:0},u._cursorRenderers={bar:u._renderBarCursor.bind(u),block:u._renderBlockCursor.bind(u),underline:u._renderUnderlineCursor.bind(u)},u}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},t.prototype.reset=function(){this._clearCursor(),this._cursorBlinkStateManager&&(this._cursorBlinkStateManager.dispose(),this._cursorBlinkStateManager=void 0,this.onOptionsChanged())},t.prototype.onBlur=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.pause(),this._onRequestRefreshRowsEvent.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onFocus=function(){this._cursorBlinkStateManager?this._cursorBlinkStateManager.resume():this._onRequestRefreshRowsEvent.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onOptionsChanged=function(){var e,t=this;this._optionsService.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new c(this._coreBrowserService.isFocused,(function(){t._render(!0)}))):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRefreshRowsEvent.fire({start:this._bufferService.buffer.y,end:this._bufferService.buffer.y})},t.prototype.onCursorMove=function(){this._cursorBlinkStateManager&&this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype.onGridChanged=function(e,t){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(!1):this._cursorBlinkStateManager.restartBlinkAnimation()},t.prototype._render=function(e){if(this._coreService.isCursorInitialized&&!this._coreService.isCursorHidden){var t=this._bufferService.buffer.ybase+this._bufferService.buffer.y,i=t-this._bufferService.buffer.ydisp;if(i<0||i>=this._bufferService.rows)this._clearCursor();else{var n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1);if(this._bufferService.buffer.lines.get(t).loadCell(n,this._cell),void 0!==this._cell.content){if(!this._coreBrowserService.isFocused){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var r=this._optionsService.options.cursorStyle;return r&&"block"!==r?this._cursorRenderers[r](n,i,this._cell):this._renderBlurCursor(n,i,this._cell),this._ctx.restore(),this._state.x=n,this._state.y=i,this._state.isFocused=!1,this._state.style=r,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===n&&this._state.y===i&&this._state.isFocused===this._coreBrowserService.isFocused&&this._state.style===this._optionsService.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[this._optionsService.options.cursorStyle||"block"](n,i,this._cell),this._ctx.restore(),this._state.x=n,this._state.y=i,this._state.isFocused=!1,this._state.style=this._optionsService.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}}else this._clearCursor()},t.prototype._clearCursor=function(){this._state&&(this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},t.prototype._renderBarCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,t,this._optionsService.options.cursorWidth),this._ctx.restore()},t.prototype._renderBlockCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,t,i.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(i,e,t),this._ctx.restore()},t.prototype._renderUnderlineCursor=function(e,t,i){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,t),this._ctx.restore()},t.prototype._renderBlurCursor=function(e,t,i){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,t,i.getWidth(),1),this._ctx.restore()},t}(o.BaseRenderLayer);t.CursorRenderLayer=a;var c=function(){function e(e,t){this._renderCallback=t,this.isCursorVisible=!0,e&&this._restartInterval()}return Object.defineProperty(e.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.restartBlinkAnimation=function(){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},e.prototype._restartInterval=function(e){var t=this;void 0===e&&(e=600),this._blinkInterval&&window.clearInterval(this._blinkInterval),this._blinkStartTimeout=window.setTimeout((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);if(t._animationTimeRestarted=void 0,e>0)return void t._restartInterval(e)}t.isCursorVisible=!1,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0})),t._blinkInterval=window.setInterval((function(){if(t._animationTimeRestarted){var e=600-(Date.now()-t._animationTimeRestarted);return t._animationTimeRestarted=void 0,void t._restartInterval(e)}t.isCursorVisible=!t.isCursorVisible,t._animationFrame=window.requestAnimationFrame((function(){t._renderCallback(),t._animationFrame=void 0}))}),600)}),e)},e.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},e.prototype.resume=function(){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation()},e}()},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(13),s=i(9),a=i(24),c=function(e){function t(t,i,n,r,o,s,a,c){var l=e.call(this,t,"link",i,!0,n,r,a,c)||this;return l.bufferService=a,l.optionsService=c,o.onLinkHover((function(e){return l._onLinkHover(e)})),o.onLinkLeave((function(e){return l._onLinkLeave(e)})),s.onLinkHover((function(e){return l._onLinkHover(e)})),s.onLinkLeave((function(e){return l._onLinkLeave(e)})),l}return r(t,e),t.prototype.resize=function(t){e.prototype.resize.call(this,t),this._state=void 0},t.prototype.reset=function(){this._clearCurrentLink()},t.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var e=this._state.y2-this._state.y1-1;e>0&&this._clearCells(0,this._state.y1+1,this._state.cols,e),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},t.prototype._onLinkHover=function(e){if(e.fg===s.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:e.fg&&a.is256Color(e.fg)?this._ctx.fillStyle=this._colors.ansi[e.fg].css:this._ctx.fillStyle=this._colors.foreground.css,e.y1===e.y2)this._fillBottomLineAtCells(e.x1,e.y1,e.x2-e.x1);else{this._fillBottomLineAtCells(e.x1,e.y1,e.cols-e.x1);for(var t=e.y1+1;t<e.y2;t++)this._fillBottomLineAtCells(0,t,e.cols);this._fillBottomLineAtCells(0,e.y2,e.x2)}this._state=e},t.prototype._onLinkLeave=function(e){this._clearCurrentLink()},t}(o.BaseRenderLayer);t.LinkRenderLayer=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=function(){function e(e,t,i,r){this._bufferService=e,this._logService=t,this._optionsService=i,this._unicodeService=r,this._linkMatchers=[],this._nextLinkMatcherId=0,this._onLinkHover=new n.EventEmitter,this._onLinkLeave=new n.EventEmitter,this._onLinkTooltip=new n.EventEmitter,this._rowsToLinkify={start:void 0,end:void 0}}return Object.defineProperty(e.prototype,"onLinkHover",{get:function(){return this._onLinkHover.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLinkLeave",{get:function(){return this._onLinkLeave.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLinkTooltip",{get:function(){return this._onLinkTooltip.event},enumerable:!0,configurable:!0}),e.prototype.attachToDom=function(e,t){this._element=e,this._mouseZoneManager=t},e.prototype.linkifyRows=function(t,i){var n=this;this._mouseZoneManager&&(void 0===this._rowsToLinkify.start||void 0===this._rowsToLinkify.end?(this._rowsToLinkify.start=t,this._rowsToLinkify.end=i):(this._rowsToLinkify.start=Math.min(this._rowsToLinkify.start,t),this._rowsToLinkify.end=Math.max(this._rowsToLinkify.end,i)),this._mouseZoneManager.clearAll(t,i),this._rowsTimeoutId&&clearTimeout(this._rowsTimeoutId),this._rowsTimeoutId=setTimeout((function(){return n._linkifyRows()}),e._timeBeforeLatency))},e.prototype._linkifyRows=function(){this._rowsTimeoutId=void 0;var e=this._bufferService.buffer;if(void 0!==this._rowsToLinkify.start&&void 0!==this._rowsToLinkify.end){var t=e.ydisp+this._rowsToLinkify.start;if(!(t>=e.lines.length)){for(var i=e.ydisp+Math.min(this._rowsToLinkify.end,this._bufferService.rows)+1,n=Math.ceil(2e3/this._bufferService.cols),r=this._bufferService.buffer.iterator(!1,t,i,n,n);r.hasNext();)for(var o=r.next(),s=0;s<this._linkMatchers.length;s++)this._doLinkifyRow(o.range.first,o.content,this._linkMatchers[s]);this._rowsToLinkify.start=void 0,this._rowsToLinkify.end=void 0}}else this._logService.debug("_rowToLinkify was unset before _linkifyRows was called")},e.prototype.registerLinkMatcher=function(e,t,i){if(void 0===i&&(i={}),!t)throw new Error("handler must be defined");var n={id:this._nextLinkMatcherId++,regex:e,handler:t,matchIndex:i.matchIndex,validationCallback:i.validationCallback,hoverTooltipCallback:i.tooltipCallback,hoverLeaveCallback:i.leaveCallback,willLinkActivate:i.willLinkActivate,priority:i.priority||0};return this._addLinkMatcherToList(n),n.id},e.prototype._addLinkMatcherToList=function(e){if(0!==this._linkMatchers.length){for(var t=this._linkMatchers.length-1;t>=0;t--)if(e.priority<=this._linkMatchers[t].priority)return void this._linkMatchers.splice(t+1,0,e);this._linkMatchers.splice(0,0,e)}else this._linkMatchers.push(e)},e.prototype.deregisterLinkMatcher=function(e){for(var t=0;t<this._linkMatchers.length;t++)if(this._linkMatchers[t].id===e)return this._linkMatchers.splice(t,1),!0;return!1},e.prototype._doLinkifyRow=function(e,t,i){for(var n,r=this,o=new RegExp(i.regex.source,(i.regex.flags||"")+"g"),s=-1,a=function(){var a=n["number"!=typeof i.matchIndex?0:i.matchIndex];if(!a)return c._logService.debug("match found without corresponding matchIndex",n,i),"break";if(s=t.indexOf(a,s+1),o.lastIndex=s+a.length,s<0)return"break";var l=c._bufferService.buffer.stringIndexToBufferIndex(e,s);if(l[0]<0)return"break";var h=c._bufferService.buffer.lines.get(l[0]);if(!h)return"break";var u=h.getFg(l[1]),d=u?u>>9&511:void 0;i.validationCallback?i.validationCallback(a,(function(e){r._rowsTimeoutId||e&&r._addLink(l[1],l[0]-r._bufferService.buffer.ydisp,a,i,d)})):c._addLink(l[1],l[0]-c._bufferService.buffer.ydisp,a,i,d)},c=this;null!==(n=o.exec(t));)if("break"===a())break},e.prototype._addLink=function(e,t,i,n,r){var s=this;if(this._mouseZoneManager&&this._element){var a=this._unicodeService.getStringCellWidth(i),c=e%this._bufferService.cols,l=t+Math.floor(e/this._bufferService.cols),h=(c+a)%this._bufferService.cols,u=l+Math.floor((c+a)/this._bufferService.cols);0===h&&(h=this._bufferService.cols,u--),this._mouseZoneManager.add(new o(c+1,l+1,h+1,u+1,(function(e){if(n.handler)return n.handler(e,i);var t=window.open();t?(t.opener=null,t.location.href=i):console.warn("Opening link blocked as opener could not be cleared")}),(function(){s._onLinkHover.fire(s._createLinkHoverEvent(c,l,h,u,r)),s._element.classList.add("xterm-cursor-pointer")}),(function(e){s._onLinkTooltip.fire(s._createLinkHoverEvent(c,l,h,u,r)),n.hoverTooltipCallback&&n.hoverTooltipCallback(e,i,{start:{x:c,y:l},end:{x:h,y:u}})}),(function(){s._onLinkLeave.fire(s._createLinkHoverEvent(c,l,h,u,r)),s._element.classList.remove("xterm-cursor-pointer"),n.hoverLeaveCallback&&n.hoverLeaveCallback()}),(function(e){return!n.willLinkActivate||n.willLinkActivate(e,i)})))}},e.prototype._createLinkHoverEvent=function(e,t,i,n,r){return{x1:e,y1:t,x2:i,y2:n,cols:this._bufferService.cols,fg:r}},e._timeBeforeLatency=200,e}();t.Linkifier=r;var o=function(e,t,i,n,r,o,s,a,c){this.x1=e,this.y1=t,this.x2=i,this.y2=n,this.clickCallback=r,this.hoverCallback=o,this.tooltipCallback=s,this.leaveCallback=a,this.willLinkActivate=c};t.MouseZone=o},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(11),s=i(51),a=i(5),c=i(0),l=i(4),h=i(1),u=i(28),d=i(52),p=String.fromCharCode(160),f=new RegExp(p,"g"),m=function(){function e(e,t,i,n,r,o,l,h){var u=this;this._scrollLines=e,this._element=t,this._screenElement=i,this._charSizeService=n,this._bufferService=r,this._coreService=o,this._mouseService=l,this._optionsService=h,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new a.CellData,this._mouseDownTimeStamp=0,this._onLinuxMouseSelection=new c.EventEmitter,this._onRedrawRequest=new c.EventEmitter,this._onSelectionChange=new c.EventEmitter,this._mouseMoveListener=function(e){return u._onMouseMove(e)},this._mouseUpListener=function(e){return u._onMouseUp(e)},this._coreService.onUserInput((function(){u.hasSelection&&u.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((function(e){return u._onTrim(e)})),this._bufferService.buffers.onBufferActivate((function(e){return u._onBufferActivate(e)})),this.enable(),this._model=new s.SelectionModel(this._bufferService),this._activeSelectionMode=0}return Object.defineProperty(e.prototype,"onLinuxMouseSelection",{get:function(){return this._onLinuxMouseSelection.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onRedrawRequest",{get:function(){return this._onRedrawRequest.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){return this._onSelectionChange.event},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._removeMouseDownListeners()},e.prototype.reset=function(){this.clearSelection()},e.prototype.disable=function(){this.clearSelection(),this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},Object.defineProperty(e.prototype,"selectionStart",{get:function(){return this._model.finalSelectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionEnd",{get:function(){return this._model.finalSelectionEnd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSelection",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t)&&(e[0]!==t[0]||e[1]!==t[1])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectionText",{get:function(){var e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";var i=this._bufferService.buffer,n=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";for(var r=e[1];r<=t[1];r++){var s=i.translateBufferLineToString(r,!0,e[0],t[0]);n.push(s)}}else{var a=e[1]===t[1]?t[0]:void 0;for(n.push(i.translateBufferLineToString(e[1],!0,e[0],a)),r=e[1]+1;r<=t[1]-1;r++){var c=i.lines.get(r);s=i.translateBufferLineToString(r,!0),c&&c.isWrapped?n[n.length-1]+=s:n.push(s)}e[1]!==t[1]&&(c=i.lines.get(t[1]),s=i.translateBufferLineToString(t[1],!0,0,t[0]),c&&c.isWrapped?n[n.length-1]+=s:n.push(s))}return n.map((function(e){return e.replace(f," ")})).join(o.isWindows?"\r\n":"\n")},enumerable:!0,configurable:!0}),e.prototype.clearSelection=function(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()},e.prototype.refresh=function(e){var t=this;this._refreshAnimationFrame||(this._refreshAnimationFrame=window.requestAnimationFrame((function(){return t._refresh()}))),o.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)},e.prototype._refresh=function(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})},e.prototype.isClickInSelection=function(e){var t=this._getMouseBufferCoords(e),i=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!!(i&&n&&t)&&this._areCoordsInSelection(t,i,n)},e.prototype._areCoordsInSelection=function(e,t,i){return e[1]>t[1]&&e[1]<i[1]||t[1]===i[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<i[0]||t[1]<i[1]&&e[1]===i[1]&&e[0]<i[0]||t[1]<i[1]&&e[1]===t[1]&&e[0]>=t[0]},e.prototype.selectWordAtCursor=function(e){var t=this._getMouseBufferCoords(e);t&&(this._selectWordAt(t,!1),this._model.selectionEnd=void 0,this.refresh(!0))},e.prototype.selectAll=function(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()},e.prototype.selectLines=function(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()},e.prototype._onTrim=function(e){this._model.onTrim(e)&&this.refresh()},e.prototype._getMouseBufferCoords=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t},e.prototype._getMouseEventScrollAmount=function(e){var t=u.getCoordsRelativeToElement(e,this._screenElement)[1],i=this._bufferService.rows*Math.ceil(this._charSizeService.height*this._optionsService.options.lineHeight);return t>=0&&t<=i?0:(t>i&&(t-=i),t=Math.min(Math.max(t,-50),50),(t/=50)/Math.abs(t)+Math.round(14*t))},e.prototype.shouldForceSelection=function(e){return o.isMac?e.altKey&&this._optionsService.options.macOptionClickForcesSelection:e.shiftKey},e.prototype.onMouseDown=function(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._onIncrementalClick(e):1===e.detail?this._onSingleClick(e):2===e.detail?this._onDoubleClick(e):3===e.detail&&this._onTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}},e.prototype._addMouseDownListeners=function(){var e=this;this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=window.setInterval((function(){return e._dragScroll()}),50)},e.prototype._removeMouseDownListeners=function(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0},e.prototype._onIncrementalClick=function(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))},e.prototype._onSingleClick=function(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),this._model.selectionStart){this._model.selectionEnd=void 0;var t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}},e.prototype._onDoubleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=1,this._selectWordAt(t,!0))},e.prototype._onTripleClick=function(e){var t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))},e.prototype.shouldColumnSelect=function(e){return e.altKey&&!(o.isMac&&this._optionsService.options.macOptionClickForcesSelection)},e.prototype._onMouseMove=function(e){if(e.stopImmediatePropagation(),this._model.selectionStart){var t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),this._model.selectionEnd){2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));var i=this._bufferService.buffer;if(this._model.selectionEnd[1]<i.lines.length){var n=i.lines.get(this._model.selectionEnd[1]);n&&0===n.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}else this.refresh(!0)}},e.prototype._dragScroll=function(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._scrollLines(this._dragScrollAmount,!1);var e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}},e.prototype._onMouseUp=function(e){var t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500){if(e.altKey&&this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){var i=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(i&&void 0!==i[0]&&void 0!==i[1]){var n=d.moveToCellSequence(i[0]-1,i[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(n,!0)}}}else this.hasSelection&&this._onSelectionChange.fire()},e.prototype._onBufferActivate=function(e){var t=this;this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim((function(e){return t._onTrim(e)}))},e.prototype._convertViewportColToCharacterIndex=function(e,t){for(var i=t[0],n=0;t[0]>=n;n++){var r=e.loadCell(n,this._workCell).getChars().length;0===this._workCell.getWidth()?i--:r>1&&t[0]!==n&&(i+=r-1)}return i},e.prototype.setSelection=function(e,t,i){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=i,this.refresh()},e.prototype._getWordAt=function(e,t,i,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),!(e[0]>=this._bufferService.cols)){var r=this._bufferService.buffer,o=r.lines.get(e[1]);if(o){var s=r.translateBufferLineToString(e[1],!1),a=this._convertViewportColToCharacterIndex(o,e),c=a,l=e[0]-a,h=0,u=0,d=0,p=0;if(" "===s.charAt(a)){for(;a>0&&" "===s.charAt(a-1);)a--;for(;c<s.length&&" "===s.charAt(c+1);)c++}else{var f=e[0],m=e[0];0===o.getWidth(f)&&(h++,f--),2===o.getWidth(m)&&(u++,m++);var v=o.getString(m).length;for(v>1&&(p+=v-1,c+=v-1);f>0&&a>0&&!this._isCharWordSeparator(o.loadCell(f-1,this._workCell));){o.loadCell(f-1,this._workCell);var g=this._workCell.getChars().length;0===this._workCell.getWidth()?(h++,f--):g>1&&(d+=g-1,a-=g-1),a--,f--}for(;m<o.length&&c+1<s.length&&!this._isCharWordSeparator(o.loadCell(m+1,this._workCell));){o.loadCell(m+1,this._workCell);var y=this._workCell.getChars().length;2===this._workCell.getWidth()?(u++,m++):y>1&&(p+=y-1,c+=y-1),c++,m++}}c++;var _=a+l-h+d,b=Math.min(this._bufferService.cols,c-a+h+u-d-p);if(t||""!==s.slice(a,c).trim()){if(i&&0===_&&32!==o.getCodePoint(0)){var x=r.lines.get(e[1]-1);if(x&&o.isWrapped&&32!==x.getCodePoint(this._bufferService.cols-1)){var w=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(w){var S=this._bufferService.cols-w.start;_-=S,b+=S}}}if(n&&_+b===this._bufferService.cols&&32!==o.getCodePoint(this._bufferService.cols-1)){var C=r.lines.get(e[1]+1);if(C&&C.isWrapped&&32!==C.getCodePoint(0)){var M=this._getWordAt([0,e[1]+1],!1,!1,!0);M&&(b+=M.length)}}return{start:_,length:b}}}}},e.prototype._selectWordAt=function(e,t){var i=this._getWordAt(e,t);if(i){for(;i.start<0;)i.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[i.start,e[1]],this._model.selectionStartLength=i.length}},e.prototype._selectToWordAt=function(e){var t=this._getWordAt(e,!0);if(t){for(var i=e[1];t.start<0;)t.start+=this._bufferService.cols,i--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,i++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,i]}},e.prototype._isCharWordSeparator=function(e){return 0!==e.getWidth()&&this._optionsService.options.wordSeparator.indexOf(e.getChars())>=0},e.prototype._selectLineAt=function(e){var t=this._bufferService.buffer.getWrappedRangeForLine(e);this._model.selectionStart=[0,t.first],this._model.selectionEnd=[this._bufferService.cols,t.last],this._model.selectionStartLength=0},n([r(3,l.ICharSizeService),r(4,h.IBufferService),r(5,h.ICoreService),r(6,l.IMouseService),r(7,h.IOptionsService)],e)}();t.SelectionService=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}return e.prototype.clearSelection=function(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0},Object.defineProperty(e.prototype,"finalSelectionStart",{get:function(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"finalSelectionEnd",{get:function(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){var e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}return this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]?[Math.max(this.selectionStart[0]+this.selectionStartLength,this.selectionEnd[0]),this.selectionEnd[1]]:this.selectionEnd}},enumerable:!0,configurable:!0}),e.prototype.areSelectionValuesReversed=function(){var e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])},e.prototype.onTrim=function(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)},e}();t.SelectionModel=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(12);function r(e,t,i,n){var r=e-o(i,e),s=t-o(i,t);return h(Math.abs(r-s)-function(e,t,i){for(var n=0,r=e-o(i,e),s=t-o(i,t),c=0;c<Math.abs(r-s);c++){var l="A"===a(e,t)?-1:1,h=i.buffer.lines.get(r+l*c);h&&h.isWrapped&&n++}return n}(e,t,i),l(a(e,t),n))}function o(e,t){for(var i=0,n=e.buffer.lines.get(t),r=n&&n.isWrapped;r&&t>=0&&t<e.rows;)i++,r=(n=e.buffer.lines.get(--t))&&n.isWrapped;return i}function s(e,t,i,n,s,a){var c;return c=r(i,n,s,a).length>0?n-o(s,n):t,e<i&&c<=n||e>=i&&c<n?"C":"D"}function a(e,t){return e>t?"A":"B"}function c(e,t,i,n,r,o){for(var s=e,a=t,c="";s!==i||a!==n;)s+=r?1:-1,r&&s>o.cols-1?(c+=o.buffer.translateBufferLineToString(a,!1,e,s),s=0,e=0,a++):!r&&s<0&&(c+=o.buffer.translateBufferLineToString(a,!1,0,e+1),e=s=o.cols-1,a--);return c+o.buffer.translateBufferLineToString(a,!1,e,s)}function l(e,t){var i=t?"O":"[";return n.C0.ESC+i+e}function h(e,t){e=Math.floor(e);for(var i="",n=0;n<e;n++)i+=t;return i}t.moveToCellSequence=function(e,t,i,n){var a,u=i.buffer.x,d=i.buffer.y;if(!i.buffer.hasScrollback)return function(e,t,i,n,s,a){return 0===r(t,n,s,a).length?"":h(c(e,t,e,t-o(s,t),!1,s).length,l("D",a))}(u,d,0,t,i,n)+r(d,t,i,n)+function(e,t,i,n,a,u){var d;d=r(t,n,a,u).length>0?n-o(a,n):t;var p=n,f=s(e,t,i,n,a,u);return h(c(e,d,i,p,"C"===f,a).length,l(f,u))}(u,d,e,t,i,n);if(d===t)return a=u>e?"D":"C",h(Math.abs(u-e),l(a,n));a=d>t?"D":"C";var p=Math.abs(d-t);return h(function(e,t){return t.cols-e}(d>t?e:u,i)+(p-1)*i.cols+1+((d>t?u:e)-1),l(a,n))}},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),s=function(){function e(e){this._optionsService=e}return Object.defineProperty(e,"audioContext",{get:function(){if(!e._audioContext){var t=window.AudioContext||window.webkitAudioContext;if(!t)return console.warn("Web Audio API is not supported by this browser. Consider upgrading to the latest version"),null;e._audioContext=new t}return e._audioContext},enumerable:!0,configurable:!0}),e.prototype.playBellSound=function(){var t=e.audioContext;if(t){var i=t.createBufferSource();t.decodeAudioData(this._base64ToArrayBuffer(this._removeMimeType(this._optionsService.options.bellSound)),(function(e){i.buffer=e,i.connect(t.destination),i.start(0)}))}},e.prototype._base64ToArrayBuffer=function(e){for(var t=window.atob(e),i=t.length,n=new Uint8Array(i),r=0;r<i;r++)n[r]=t.charCodeAt(r);return n.buffer},e.prototype._removeMimeType=function(e){return e.split(",")[1]},e=n([r(0,o.IOptionsService)],e)}();t.SoundService=s},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(2),c=i(8),l=i(4),h=i(1),u=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;return s._element=t,s._screenElement=i,s._bufferService=n,s._mouseService=r,s._selectionService=o,s._zones=[],s._areZonesActive=!1,s._lastHoverCoords=[void 0,void 0],s._initialSelectionLength=0,s.register(c.addDisposableDomListener(s._element,"mousedown",(function(e){return s._onMouseDown(e)}))),s._mouseMoveListener=function(e){return s._onMouseMove(e)},s._mouseLeaveListener=function(e){return s._onMouseLeave(e)},s._clickListener=function(e){return s._onClick(e)},s}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._deactivate()},t.prototype.add=function(e){this._zones.push(e),1===this._zones.length&&this._activate()},t.prototype.clearAll=function(e,t){if(0!==this._zones.length){e&&t||(e=0,t=this._bufferService.rows-1);for(var i=0;i<this._zones.length;i++){var n=this._zones[i];(n.y1>e&&n.y1<=t+1||n.y2>e&&n.y2<=t+1||n.y1<e&&n.y2>t+1)&&(this._currentZone&&this._currentZone===n&&(this._currentZone.leaveCallback(),this._currentZone=void 0),this._zones.splice(i--,1))}0===this._zones.length&&this._deactivate()}},t.prototype._activate=function(){this._areZonesActive||(this._areZonesActive=!0,this._element.addEventListener("mousemove",this._mouseMoveListener),this._element.addEventListener("mouseleave",this._mouseLeaveListener),this._element.addEventListener("click",this._clickListener))},t.prototype._deactivate=function(){this._areZonesActive&&(this._areZonesActive=!1,this._element.removeEventListener("mousemove",this._mouseMoveListener),this._element.removeEventListener("mouseleave",this._mouseLeaveListener),this._element.removeEventListener("click",this._clickListener))},t.prototype._onMouseMove=function(e){this._lastHoverCoords[0]===e.pageX&&this._lastHoverCoords[1]===e.pageY||(this._onHover(e),this._lastHoverCoords=[e.pageX,e.pageY])},t.prototype._onHover=function(e){var t=this,i=this._findZoneEventAt(e);i!==this._currentZone&&(this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout)),i&&(this._currentZone=i,i.hoverCallback&&i.hoverCallback(e),this._tooltipTimeout=setTimeout((function(){return t._onTooltip(e)}),500)))},t.prototype._onTooltip=function(e){this._tooltipTimeout=void 0;var t=this._findZoneEventAt(e);t&&t.tooltipCallback&&t.tooltipCallback(e)},t.prototype._onMouseDown=function(e){if(this._initialSelectionLength=this._getSelectionLength(),this._areZonesActive){var t=this._findZoneEventAt(e);(null==t?void 0:t.willLinkActivate(e))&&(e.preventDefault(),e.stopImmediatePropagation())}},t.prototype._onMouseLeave=function(e){this._currentZone&&(this._currentZone.leaveCallback(),this._currentZone=void 0,this._tooltipTimeout&&clearTimeout(this._tooltipTimeout))},t.prototype._onClick=function(e){var t=this._findZoneEventAt(e),i=this._getSelectionLength();t&&i===this._initialSelectionLength&&(t.clickCallback(e),e.preventDefault(),e.stopImmediatePropagation())},t.prototype._getSelectionLength=function(){var e=this._selectionService.selectionText;return e?e.length:0},t.prototype._findZoneEventAt=function(e){var t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows);if(t)for(var i=t[0],n=t[1],r=0;r<this._zones.length;r++){var o=this._zones[r];if(o.y1===o.y2){if(n===o.y1&&i>=o.x1&&i<o.x2)return o}else if(n===o.y1&&i>=o.x1||n===o.y2&&i<o.x2||n>o.y1&&n<o.y2)return o}},o([s(2,h.IBufferService),s(3,l.IMouseService),s(4,l.ISelectionService)],t)}(a.Disposable);t.MouseZoneManager=u},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(17),s=i(11),a=i(29),c=i(8),l=i(2),h=i(30),u=function(e){function t(t,i){var n=e.call(this)||this;n._terminal=t,n._renderService=i,n._liveRegionLineCount=0,n._charsToConsume=[],n._charsToAnnounce="",n._accessibilityTreeRoot=document.createElement("div"),n._accessibilityTreeRoot.classList.add("xterm-accessibility"),n._rowContainer=document.createElement("div"),n._rowContainer.classList.add("xterm-accessibility-tree"),n._rowContainer.setAttribute("role","list"),n._rowElements=[];for(var r=0;r<n._terminal.rows;r++)n._rowElements[r]=n._createAccessibilityTreeNode(),n._rowContainer.appendChild(n._rowElements[r]);return n._topBoundaryFocusListener=function(e){return n._onBoundaryFocus(e,0)},n._bottomBoundaryFocusListener=function(e){return n._onBoundaryFocus(e,1)},n._rowElements[0].addEventListener("focus",n._topBoundaryFocusListener),n._rowElements[n._rowElements.length-1].addEventListener("focus",n._bottomBoundaryFocusListener),n._refreshRowsDimensions(),n._accessibilityTreeRoot.appendChild(n._rowContainer),n._renderRowsDebouncer=new a.RenderDebouncer(n._renderRows.bind(n)),n._refreshRows(),n._liveRegion=document.createElement("div"),n._liveRegion.classList.add("live-region"),n._liveRegion.setAttribute("aria-live","assertive"),n._accessibilityTreeRoot.appendChild(n._liveRegion),n._terminal.element.insertAdjacentElement("afterbegin",n._accessibilityTreeRoot),n.register(n._renderRowsDebouncer),n.register(n._terminal.onResize((function(e){return n._onResize(e.rows)}))),n.register(n._terminal.onRender((function(e){return n._refreshRows(e.start,e.end)}))),n.register(n._terminal.onScroll((function(){return n._refreshRows()}))),n.register(n._terminal.onA11yChar((function(e){return n._onChar(e)}))),n.register(n._terminal.onLineFeed((function(){return n._onChar("\n")}))),n.register(n._terminal.onA11yTab((function(e){return n._onTab(e)}))),n.register(n._terminal.onKey((function(e){return n._onKey(e.key)}))),n.register(n._terminal.onBlur((function(){return n._clearLiveRegion()}))),n.register(n._renderService.onDimensionsChange((function(){return n._refreshRowsDimensions()}))),n._screenDprMonitor=new h.ScreenDprMonitor,n.register(n._screenDprMonitor),n._screenDprMonitor.setListener((function(){return n._refreshRowsDimensions()})),n.register(c.addDisposableDomListener(window,"resize",(function(){return n._refreshRowsDimensions()}))),n}return r(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._terminal.element.removeChild(this._accessibilityTreeRoot),this._rowElements.length=0},t.prototype._onBoundaryFocus=function(e,t){var i=e.target,n=this._rowElements[0===t?1:this._rowElements.length-2];if(i.getAttribute("aria-posinset")!==(0===t?"1":""+this._terminal.buffer.lines.length)&&e.relatedTarget===n){var r,o;if(0===t?(r=i,o=this._rowElements.pop(),this._rowContainer.removeChild(o)):(r=this._rowElements.shift(),o=i,this._rowContainer.removeChild(r)),r.removeEventListener("focus",this._topBoundaryFocusListener),o.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){var s=this._createAccessibilityTreeNode();this._rowElements.unshift(s),this._rowContainer.insertAdjacentElement("afterbegin",s)}else s=this._createAccessibilityTreeNode(),this._rowElements.push(s),this._rowContainer.appendChild(s);this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}},t.prototype._onResize=function(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(var t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()},t.prototype._createAccessibilityTreeNode=function(){var e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e},t.prototype._onTab=function(e){for(var t=0;t<e;t++)this._onChar(" ")},t.prototype._onChar=function(e){var t=this;this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=o.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout((function(){t._accessibilityTreeRoot.appendChild(t._liveRegion)}),0))},t.prototype._clearLiveRegion=function(){this._liveRegion.textContent="",this._liveRegionLineCount=0,s.isMac&&this._liveRegion.parentNode&&this._accessibilityTreeRoot.removeChild(this._liveRegion)},t.prototype._onKey=function(e){this._clearLiveRegion(),this._charsToConsume.push(e)},t.prototype._refreshRows=function(e,t){this._renderRowsDebouncer.refresh(e,t,this._terminal.rows)},t.prototype._renderRows=function(e,t){for(var i=this._terminal.buffer,n=i.lines.length.toString(),r=e;r<=t;r++){var o=i.translateBufferLineToString(i.ydisp+r,!0),s=(i.ydisp+r+1).toString(),a=this._rowElements[r];a&&(0===o.length?a.innerHTML="&nbsp;":a.textContent=o,a.setAttribute("aria-posinset",s),a.setAttribute("aria-setsize",n))}this._announceCharacters()},t.prototype._refreshRowsDimensions=function(){if(this._renderService.dimensions.actualCellHeight){this._rowElements.length!==this._terminal.rows&&this._onResize(this._terminal.rows);for(var e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}},t.prototype._refreshRowDimensions=function(e){e.style.height=this._renderService.dimensions.actualCellHeight+"px"},t.prototype._announceCharacters=function(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")},t}(l.Disposable);t.AccessibilityManager=u},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(57),c=i(9),l=i(2),h=i(4),u=i(1),d=i(0),p=i(10),f=1,m=function(e){function t(t,i,n,r,o,s,c,l,h){var u=e.call(this)||this;return u._colors=t,u._element=i,u._screenElement=n,u._viewportElement=r,u._linkifier=o,u._linkifier2=s,u._charSizeService=c,u._optionsService=l,u._bufferService=h,u._terminalClass=f++,u._rowElements=[],u._onRequestRefreshRows=new d.EventEmitter,u._rowContainer=document.createElement("div"),u._rowContainer.classList.add("xterm-rows"),u._rowContainer.style.lineHeight="normal",u._rowContainer.setAttribute("aria-hidden","true"),u._refreshRowElements(u._bufferService.cols,u._bufferService.rows),u._selectionContainer=document.createElement("div"),u._selectionContainer.classList.add("xterm-selection"),u._selectionContainer.setAttribute("aria-hidden","true"),u.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},u._updateDimensions(),u._injectCss(),u._rowFactory=new a.DomRendererRowFactory(document,u._optionsService,u._colors),u._element.classList.add("xterm-dom-renderer-owner-"+u._terminalClass),u._screenElement.appendChild(u._rowContainer),u._screenElement.appendChild(u._selectionContainer),u._linkifier.onLinkHover((function(e){return u._onLinkHover(e)})),u._linkifier.onLinkLeave((function(e){return u._onLinkLeave(e)})),u._linkifier2.onLinkHover((function(e){return u._onLinkHover(e)})),u._linkifier2.onLinkLeave((function(e){return u._onLinkLeave(e)})),u}return r(t,e),Object.defineProperty(t.prototype,"onRequestRefreshRows",{get:function(){return this._onRequestRefreshRows.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._element.classList.remove("xterm-dom-renderer-owner-"+this._terminalClass),this._screenElement.removeChild(this._rowContainer),this._screenElement.removeChild(this._selectionContainer),this._screenElement.removeChild(this._themeStyleElement),this._screenElement.removeChild(this._dimensionsStyleElement),e.prototype.dispose.call(this)},t.prototype._updateDimensions=function(){var e=this;this.dimensions.scaledCharWidth=this._charSizeService.width*window.devicePixelRatio,this.dimensions.scaledCharHeight=Math.ceil(this._charSizeService.height*window.devicePixelRatio),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._optionsService.options.letterSpacing),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._optionsService.options.lineHeight),this.dimensions.scaledCharLeft=0,this.dimensions.scaledCharTop=0,this.dimensions.scaledCanvasWidth=this.dimensions.scaledCellWidth*this._bufferService.cols,this.dimensions.scaledCanvasHeight=this.dimensions.scaledCellHeight*this._bufferService.rows,this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/window.devicePixelRatio),this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/window.devicePixelRatio),this.dimensions.actualCellWidth=this.dimensions.canvasWidth/this._bufferService.cols,this.dimensions.actualCellHeight=this.dimensions.canvasHeight/this._bufferService.rows,this._rowElements.forEach((function(t){t.style.width=e.dimensions.canvasWidth+"px",t.style.height=e.dimensions.actualCellHeight+"px",t.style.lineHeight=e.dimensions.actualCellHeight+"px",t.style.overflow="hidden"})),this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));var t=this._terminalSelector+" .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: "+this.dimensions.actualCellWidth+"px}";this._dimensionsStyleElement.innerHTML=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=this.dimensions.canvasWidth+"px",this._screenElement.style.height=this.dimensions.canvasHeight+"px"},t.prototype.setColors=function(e){this._colors=e,this._injectCss()},t.prototype._injectCss=function(){var e=this;this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));var t=this._terminalSelector+" .xterm-rows { color: "+this._colors.foreground.css+"; font-family: "+this._optionsService.options.fontFamily+"; font-size: "+this._optionsService.options.fontSize+"px;}";t+=this._terminalSelector+" span:not(."+a.BOLD_CLASS+") { font-weight: "+this._optionsService.options.fontWeight+";}"+this._terminalSelector+" span."+a.BOLD_CLASS+" { font-weight: "+this._optionsService.options.fontWeightBold+";}"+this._terminalSelector+" span."+a.ITALIC_CLASS+" { font-style: italic;}",t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {  background-color: "+this._colors.cursor.css+";  color: "+this._colors.cursorAccent.css+"; } 50% {  background-color: "+this._colors.cursorAccent.css+";  color: "+this._colors.cursor.css+"; }}",t+=this._terminalSelector+" .xterm-rows:not(.xterm-focus) ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { outline: 1px solid "+this._colors.cursor.css+"; outline-offset: -1px;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_BLINK_CLASS+":not(."+a.CURSOR_STYLE_BLOCK_CLASS+") { animation: blink_box_shadow_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_BLINK_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { animation: blink_block_"+this._terminalClass+" 1s step-end infinite;}"+this._terminalSelector+" .xterm-rows.xterm-focus ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BLOCK_CLASS+" { background-color: "+this._colors.cursor.css+"; color: "+this._colors.cursorAccent.css+";}"+this._terminalSelector+" .xterm-rows ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_BAR_CLASS+" { box-shadow: "+this._optionsService.options.cursorWidth+"px 0 0 "+this._colors.cursor.css+" inset;}"+this._terminalSelector+" .xterm-rows ."+a.CURSOR_CLASS+"."+a.CURSOR_STYLE_UNDERLINE_CLASS+" { box-shadow: 0 -1px 0 "+this._colors.cursor.css+" inset;}",t+=this._terminalSelector+" .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}"+this._terminalSelector+" .xterm-selection div { position: absolute; background-color: "+this._colors.selection.css+";}",this._colors.ansi.forEach((function(i,n){t+=e._terminalSelector+" .xterm-fg-"+n+" { color: "+i.css+"; }"+e._terminalSelector+" .xterm-bg-"+n+" { background-color: "+i.css+"; }"})),t+=this._terminalSelector+" .xterm-fg-"+c.INVERTED_DEFAULT_COLOR+" { color: "+p.color.opaque(this._colors.background).css+"; }"+this._terminalSelector+" .xterm-bg-"+c.INVERTED_DEFAULT_COLOR+" { background-color: "+this._colors.foreground.css+"; }",this._themeStyleElement.innerHTML=t},t.prototype.onDevicePixelRatioChange=function(){this._updateDimensions()},t.prototype._refreshRowElements=function(e,t){for(var i=this._rowElements.length;i<=t;i++){var n=document.createElement("div");this._rowContainer.appendChild(n),this._rowElements.push(n)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())},t.prototype.onResize=function(e,t){this._refreshRowElements(e,t),this._updateDimensions()},t.prototype.onCharSizeChanged=function(){this._updateDimensions()},t.prototype.onBlur=function(){this._rowContainer.classList.remove("xterm-focus")},t.prototype.onFocus=function(){this._rowContainer.classList.add("xterm-focus")},t.prototype.onSelectionChanged=function(e,t,i){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(e&&t){var n=e[1]-this._bufferService.buffer.ydisp,r=t[1]-this._bufferService.buffer.ydisp,o=Math.max(n,0),s=Math.min(r,this._bufferService.rows-1);if(!(o>=this._bufferService.rows||s<0)){var a=document.createDocumentFragment();if(i)a.appendChild(this._createSelectionElement(o,e[0],t[0],s-o+1));else{var c=n===o?e[0]:0,l=o===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(o,c,l));var h=s-o-1;if(a.appendChild(this._createSelectionElement(o+1,0,this._bufferService.cols,h)),o!==s){var u=r===s?t[0]:this._bufferService.cols;a.appendChild(this._createSelectionElement(s,0,u))}}this._selectionContainer.appendChild(a)}}},t.prototype._createSelectionElement=function(e,t,i,n){void 0===n&&(n=1);var r=document.createElement("div");return r.style.height=n*this.dimensions.actualCellHeight+"px",r.style.top=e*this.dimensions.actualCellHeight+"px",r.style.left=t*this.dimensions.actualCellWidth+"px",r.style.width=this.dimensions.actualCellWidth*(i-t)+"px",r},t.prototype.onCursorMove=function(){},t.prototype.onOptionsChanged=function(){this._updateDimensions(),this._injectCss()},t.prototype.clear=function(){this._rowElements.forEach((function(e){return e.innerHTML=""}))},t.prototype.renderRows=function(e,t){for(var i=this._bufferService.buffer.ybase+this._bufferService.buffer.y,n=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),r=this._optionsService.options.cursorBlink,o=e;o<=t;o++){var s=this._rowElements[o];s.innerHTML="";var a=o+this._bufferService.buffer.ydisp,c=this._bufferService.buffer.lines.get(a),l=this._optionsService.options.cursorStyle;s.appendChild(this._rowFactory.createRow(c,a===i,l,n,r,this.dimensions.actualCellWidth,this._bufferService.cols))}},Object.defineProperty(t.prototype,"_terminalSelector",{get:function(){return".xterm-dom-renderer-owner-"+this._terminalClass},enumerable:!0,configurable:!0}),t.prototype.registerCharacterJoiner=function(e){return-1},t.prototype.deregisterCharacterJoiner=function(e){return!1},t.prototype._onLinkHover=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)},t.prototype._onLinkLeave=function(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)},t.prototype._setCellUnderline=function(e,t,i,n,r,o){for(;e!==t||i!==n;){var s=this._rowElements[i];if(!s)return;var a=s.children[e];a&&(a.style.textDecoration=o?"underline":"none"),++e>=r&&(e=0,i++)}},o([s(6,h.ICharSizeService),s(7,u.IOptionsService),s(8,u.IBufferService)],t)}(l.Disposable);t.DomRenderer=m},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(9),r=i(3),o=i(5),s=i(10);t.BOLD_CLASS="xterm-bold",t.DIM_CLASS="xterm-dim",t.ITALIC_CLASS="xterm-italic",t.UNDERLINE_CLASS="xterm-underline",t.CURSOR_CLASS="xterm-cursor",t.CURSOR_BLINK_CLASS="xterm-cursor-blink",t.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",t.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",t.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";var a=function(){function e(e,t,i){this._document=e,this._optionsService=t,this._colors=i,this._workCell=new o.CellData}return e.prototype.setColors=function(e){this._colors=e},e.prototype.createRow=function(e,i,o,a,l,h,u){for(var d=this._document.createDocumentFragment(),p=0,f=Math.min(e.length,u)-1;f>=0;f--)if(e.loadCell(f,this._workCell).getCode()!==r.NULL_CELL_CODE||i&&f===a){p=f+1;break}for(f=0;f<p;f++){e.loadCell(f,this._workCell);var m=this._workCell.getWidth();if(0!==m){var v=this._document.createElement("span");if(m>1&&(v.style.width=h*m+"px"),i&&f===a)switch(v.classList.add(t.CURSOR_CLASS),l&&v.classList.add(t.CURSOR_BLINK_CLASS),o){case"bar":v.classList.add(t.CURSOR_STYLE_BAR_CLASS);break;case"underline":v.classList.add(t.CURSOR_STYLE_UNDERLINE_CLASS);break;default:v.classList.add(t.CURSOR_STYLE_BLOCK_CLASS)}this._workCell.isBold()&&v.classList.add(t.BOLD_CLASS),this._workCell.isItalic()&&v.classList.add(t.ITALIC_CLASS),this._workCell.isDim()&&v.classList.add(t.DIM_CLASS),this._workCell.isUnderline()&&v.classList.add(t.UNDERLINE_CLASS),this._workCell.isInvisible()?v.textContent=r.WHITESPACE_CELL_CHAR:v.textContent=this._workCell.getChars()||r.WHITESPACE_CELL_CHAR;var g=this._workCell.getFgColor(),y=this._workCell.getFgColorMode(),_=this._workCell.getBgColor(),b=this._workCell.getBgColorMode(),x=!!this._workCell.isInverse();if(x){var w=g;g=_,_=w;var S=y;y=b,b=S}switch(y){case 16777216:case 33554432:this._workCell.isBold()&&g<8&&this._optionsService.options.drawBoldTextInBrightColors&&(g+=8),this._applyMinimumContrast(v,this._colors.background,this._colors.ansi[g])||v.classList.add("xterm-fg-"+g);break;case 50331648:var C=s.rgba.toColor(g>>16&255,g>>8&255,255&g);this._applyMinimumContrast(v,this._colors.background,C)||this._addStyle(v,"color:#"+c(g.toString(16),"0",6));break;case 0:default:this._applyMinimumContrast(v,this._colors.background,this._colors.foreground)||x&&v.classList.add("xterm-fg-"+n.INVERTED_DEFAULT_COLOR)}switch(b){case 16777216:case 33554432:v.classList.add("xterm-bg-"+_);break;case 50331648:this._addStyle(v,"background-color:#"+c(_.toString(16),"0",6));break;case 0:default:x&&v.classList.add("xterm-bg-"+n.INVERTED_DEFAULT_COLOR)}d.appendChild(v)}}return d},e.prototype._applyMinimumContrast=function(e,t,i){if(1===this._optionsService.options.minimumContrastRatio)return!1;var n=this._colors.contrastCache.getColor(this._workCell.bg,this._workCell.fg);return void 0===n&&(n=s.color.ensureContrastRatio(t,i,this._optionsService.options.minimumContrastRatio),this._colors.contrastCache.setColor(this._workCell.bg,this._workCell.fg,null!=n?n:null)),!!n&&(this._addStyle(e,"color:"+n.css),!0)},e.prototype._addStyle=function(e,t){e.setAttribute("style",""+(e.getAttribute("style")||"")+t+";")},e}();function c(e,t,i){for(;e.length<i;)e=t+e;return e}t.DomRendererRowFactory=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(12),r={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,i,o){var s={type:0,cancel:!1,key:void 0},a=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?s.key=t?n.C0.ESC+"OA":n.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?s.key=t?n.C0.ESC+"OD":n.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?s.key=t?n.C0.ESC+"OC":n.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(s.key=t?n.C0.ESC+"OB":n.C0.ESC+"[B");break;case 8:if(e.shiftKey){s.key=n.C0.BS;break}if(e.altKey){s.key=n.C0.ESC+n.C0.DEL;break}s.key=n.C0.DEL;break;case 9:if(e.shiftKey){s.key=n.C0.ESC+"[Z";break}s.key=n.C0.HT,s.cancel=!0;break;case 13:s.key=n.C0.CR,s.cancel=!0;break;case 27:s.key=n.C0.ESC,s.cancel=!0;break;case 37:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"D",s.key===n.C0.ESC+"[1;3D"&&(s.key=n.C0.ESC+(i?"b":"[1;5D"))):s.key=t?n.C0.ESC+"OD":n.C0.ESC+"[D";break;case 39:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"C",s.key===n.C0.ESC+"[1;3C"&&(s.key=n.C0.ESC+(i?"f":"[1;5C"))):s.key=t?n.C0.ESC+"OC":n.C0.ESC+"[C";break;case 38:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"A",i||s.key!==n.C0.ESC+"[1;3A"||(s.key=n.C0.ESC+"[1;5A")):s.key=t?n.C0.ESC+"OA":n.C0.ESC+"[A";break;case 40:if(e.metaKey)break;a?(s.key=n.C0.ESC+"[1;"+(a+1)+"B",i||s.key!==n.C0.ESC+"[1;3B"||(s.key=n.C0.ESC+"[1;5B")):s.key=t?n.C0.ESC+"OB":n.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(s.key=n.C0.ESC+"[2~");break;case 46:s.key=a?n.C0.ESC+"[3;"+(a+1)+"~":n.C0.ESC+"[3~";break;case 36:s.key=a?n.C0.ESC+"[1;"+(a+1)+"H":t?n.C0.ESC+"OH":n.C0.ESC+"[H";break;case 35:s.key=a?n.C0.ESC+"[1;"+(a+1)+"F":t?n.C0.ESC+"OF":n.C0.ESC+"[F";break;case 33:e.shiftKey?s.type=2:s.key=n.C0.ESC+"[5~";break;case 34:e.shiftKey?s.type=3:s.key=n.C0.ESC+"[6~";break;case 112:s.key=a?n.C0.ESC+"[1;"+(a+1)+"P":n.C0.ESC+"OP";break;case 113:s.key=a?n.C0.ESC+"[1;"+(a+1)+"Q":n.C0.ESC+"OQ";break;case 114:s.key=a?n.C0.ESC+"[1;"+(a+1)+"R":n.C0.ESC+"OR";break;case 115:s.key=a?n.C0.ESC+"[1;"+(a+1)+"S":n.C0.ESC+"OS";break;case 116:s.key=a?n.C0.ESC+"[15;"+(a+1)+"~":n.C0.ESC+"[15~";break;case 117:s.key=a?n.C0.ESC+"[17;"+(a+1)+"~":n.C0.ESC+"[17~";break;case 118:s.key=a?n.C0.ESC+"[18;"+(a+1)+"~":n.C0.ESC+"[18~";break;case 119:s.key=a?n.C0.ESC+"[19;"+(a+1)+"~":n.C0.ESC+"[19~";break;case 120:s.key=a?n.C0.ESC+"[20;"+(a+1)+"~":n.C0.ESC+"[20~";break;case 121:s.key=a?n.C0.ESC+"[21;"+(a+1)+"~":n.C0.ESC+"[21~";break;case 122:s.key=a?n.C0.ESC+"[23;"+(a+1)+"~":n.C0.ESC+"[23~";break;case 123:s.key=a?n.C0.ESC+"[24;"+(a+1)+"~":n.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(i&&!o||!e.altKey||e.metaKey)i&&!e.altKey&&!e.ctrlKey&&e.metaKey?65===e.keyCode&&(s.type=1):e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?s.key=e.key:e.key&&e.ctrlKey&&"_"===e.key&&(s.key=n.C0.US);else{var c=r[e.keyCode],l=c&&c[e.shiftKey?1:0];if(l)s.key=n.C0.ESC+l;else if(e.keyCode>=65&&e.keyCode<=90){var h=e.ctrlKey?e.keyCode-64:e.keyCode+32;s.key=n.C0.ESC+String.fromCharCode(h)}}else e.keyCode>=65&&e.keyCode<=90?s.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?s.key=n.C0.NUL:e.keyCode>=51&&e.keyCode<=55?s.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?s.key=n.C0.DEL:219===e.keyCode?s.key=n.C0.ESC:220===e.keyCode?s.key=n.C0.FS:221===e.keyCode&&(s.key=n.C0.GS)}return s}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(3);t.updateWindowsModeWrappedState=function(e){var t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),i=null==t?void 0:t.get(e.cols-1),r=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);r&&i&&(r.isWrapped=i[n.CHAR_DATA_CODE_INDEX]!==n.NULL_CELL_CODE&&i[n.CHAR_DATA_CODE_INDEX]!==n.WHITESPACE_CELL_CODE)}},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),o=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},s=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(29),c=i(0),l=i(2),h=i(30),u=i(8),d=i(1),p=i(4),f=function(e){function t(t,i,n,r,o){var s=e.call(this)||this;if(s._renderer=t,s._rowCount=i,s.screenElement=n,s.optionsService=r,s.charSizeService=o,s._isPaused=!1,s._needsFullRefresh=!1,s._canvasWidth=0,s._canvasHeight=0,s._onDimensionsChange=new c.EventEmitter,s._onRender=new c.EventEmitter,s._onRefreshRequest=new c.EventEmitter,s._renderDebouncer=new a.RenderDebouncer((function(e,t){return s._renderRows(e,t)})),s.register(s._renderDebouncer),s._screenDprMonitor=new h.ScreenDprMonitor,s._screenDprMonitor.setListener((function(){return s.onDevicePixelRatioChange()})),s.register(s._screenDprMonitor),s.register(r.onOptionChange((function(){return s._renderer.onOptionsChanged()}))),s.register(o.onCharSizeChange((function(){return s.onCharSizeChanged()}))),s._renderer.onRequestRefreshRows((function(e){return s.refreshRows(e.start,e.end)})),s.register(u.addDisposableDomListener(window,"resize",(function(){return s.onDevicePixelRatioChange()}))),"IntersectionObserver"in window){var l=new IntersectionObserver((function(e){return s._onIntersectionChange(e[e.length-1])}),{threshold:0});l.observe(n),s.register({dispose:function(){return l.disconnect()}})}return s}return r(t,e),Object.defineProperty(t.prototype,"onDimensionsChange",{get:function(){return this._onDimensionsChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRender",{get:function(){return this._onRender.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRefreshRequest",{get:function(){return this._onRefreshRequest.event},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){return this._renderer.dimensions},enumerable:!0,configurable:!0}),t.prototype._onIntersectionChange=function(e){this._isPaused=0===e.intersectionRatio,!this._isPaused&&this._needsFullRefresh&&(this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)},t.prototype.refreshRows=function(e,t){this._isPaused?this._needsFullRefresh=!0:this._renderDebouncer.refresh(e,t,this._rowCount)},t.prototype._renderRows=function(e,t){this._renderer.renderRows(e,t),this._onRender.fire({start:e,end:t})},t.prototype.resize=function(e,t){this._rowCount=t,this._fireOnCanvasResize()},t.prototype.changeOptions=function(){this._renderer.onOptionsChanged(),this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize()},t.prototype._fireOnCanvasResize=function(){this._renderer.dimensions.canvasWidth===this._canvasWidth&&this._renderer.dimensions.canvasHeight===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions)},t.prototype.dispose=function(){this._renderer.dispose(),e.prototype.dispose.call(this)},t.prototype.setRenderer=function(e){var t=this;this._renderer.dispose(),this._renderer=e,this._renderer.onRequestRefreshRows((function(e){return t.refreshRows(e.start,e.end)})),this.refreshRows(0,this._rowCount-1)},t.prototype._fullRefresh=function(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)},t.prototype.setColors=function(e){this._renderer.setColors(e),this._fullRefresh()},t.prototype.onDevicePixelRatioChange=function(){this._renderer.onDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1)},t.prototype.onResize=function(e,t){this._renderer.onResize(e,t),this._fullRefresh()},t.prototype.onCharSizeChanged=function(){this._renderer.onCharSizeChanged()},t.prototype.onBlur=function(){this._renderer.onBlur()},t.prototype.onFocus=function(){this._renderer.onFocus()},t.prototype.onSelectionChanged=function(e,t,i){this._renderer.onSelectionChanged(e,t,i)},t.prototype.onCursorMove=function(){this._renderer.onCursorMove()},t.prototype.clear=function(){this._renderer.clear()},t.prototype.registerCharacterJoiner=function(e){return this._renderer.registerCharacterJoiner(e)},t.prototype.deregisterCharacterJoiner=function(e){return this._renderer.deregisterCharacterJoiner(e)},o([s(3,d.IOptionsService),s(4,p.ICharSizeService)],t)}(l.Disposable);t.RenderService=f},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=i(11),o=i(31);t.DEFAULT_BELL_SOUND="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjMyLjEwNAAAAAAAAAAAAAAA//tQxAADB8AhSmxhIIEVCSiJrDCQBTcu3UrAIwUdkRgQbFAZC1CQEwTJ9mjRvBA4UOLD8nKVOWfh+UlK3z/177OXrfOdKl7pyn3Xf//WreyTRUoAWgBgkOAGbZHBgG1OF6zM82DWbZaUmMBptgQhGjsyYqc9ae9XFz280948NMBWInljyzsNRFLPWdnZGWrddDsjK1unuSrVN9jJsK8KuQtQCtMBjCEtImISdNKJOopIpBFpNSMbIHCSRpRR5iakjTiyzLhchUUBwCgyKiweBv/7UsQbg8isVNoMPMjAAAA0gAAABEVFGmgqK////9bP/6XCykxBTUUzLjEwMKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.DEFAULT_OPTIONS=Object.freeze({cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,bellSound:t.DEFAULT_BELL_SOUND,bellStyle:"none",drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,logLevel:"info",scrollback:1e3,scrollSensitivity:1,screenReaderMode:!1,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:r.isMac,rendererType:"canvas",windowOptions:{},windowsMode:!1,wordSeparator:" ()[]{}',\"`",convertEol:!1,termName:"xterm",cancelEvents:!1});var s=["cols","rows"],a=function(){function e(e){var i=this;this._onOptionChange=new n.EventEmitter,this.options=o.clone(t.DEFAULT_OPTIONS),Object.keys(e).forEach((function(t){if(t in i.options){var n=e[t];i.options[t]=n}}))}return Object.defineProperty(e.prototype,"onOptionChange",{get:function(){return this._onOptionChange.event},enumerable:!0,configurable:!0}),e.prototype.setOption=function(e,i){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');if(-1!==s.indexOf(e))throw new Error('Option "'+e+'" can only be set in the constructor');this.options[e]!==i&&(i=this._sanitizeAndValidateOption(e,i),this.options[e]!==i&&(this.options[e]=i,this._onOptionChange.fire(e)))},e.prototype._sanitizeAndValidateOption=function(e,i){switch(e){case"bellStyle":case"cursorStyle":case"fontWeight":case"fontWeightBold":case"rendererType":case"wordSeparator":i||(i=t.DEFAULT_OPTIONS[e]);break;case"cursorWidth":i=Math.floor(i);case"lineHeight":case"tabStopWidth":if(i<1)throw new Error(e+" cannot be less than 1, value: "+i);break;case"minimumContrastRatio":i=Math.max(1,Math.min(21,Math.round(10*i)/10));break;case"scrollback":if((i=Math.min(i,4294967295))<0)throw new Error(e+" cannot be less than 0, value: "+i);break;case"fastScrollSensitivity":case"scrollSensitivity":if(i<=0)throw new Error(e+" cannot be less than or equal to 0, value: "+i)}return i},e.prototype.getOption=function(e){if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'+e+'"');return this.options[e]},e}();t.OptionsService=a},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),s=i(0),a=function(){function e(e,t,i){this.document=e,this.parentElement=t,this._optionsService=i,this.width=0,this.height=0,this._onCharSizeChange=new s.EventEmitter,this._measureStrategy=new c(e,t,this._optionsService)}return Object.defineProperty(e.prototype,"hasValidSize",{get:function(){return this.width>0&&this.height>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCharSizeChange",{get:function(){return this._onCharSizeChange.event},enumerable:!0,configurable:!0}),e.prototype.measure=function(){var e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())},n([r(2,o.IOptionsService)],e)}();t.CharSizeService=a;var c=function(){function e(e,t,i){this._document=e,this._parentElement=t,this._optionsService=i,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}return e.prototype.measure=function(){this._measureElement.style.fontFamily=this._optionsService.options.fontFamily,this._measureElement.style.fontSize=this._optionsService.options.fontSize+"px";var e=this._measureElement.getBoundingClientRect();return 0!==e.width&&0!==e.height&&(this._result.width=e.width,this._result.height=Math.ceil(e.height)),this._result},e}()},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),s=i(64);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;var a=function(){function e(e){this._optionsService=e,this.cols=Math.max(e.options.cols,t.MINIMUM_COLS),this.rows=Math.max(e.options.rows,t.MINIMUM_ROWS),this.buffers=new s.BufferSet(e,this)}return Object.defineProperty(e.prototype,"buffer",{get:function(){return this.buffers.active},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){this.cols=e,this.rows=t},e.prototype.reset=function(){this.buffers=new s.BufferSet(this._optionsService,this)},n([r(0,o.IOptionsService)],e)}();t.BufferService=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(65),r=i(0),o=function(){function e(e,t){this.optionsService=e,this.bufferService=t,this._onBufferActivate=new r.EventEmitter,this._normal=new n.Buffer(!0,e,t),this._normal.fillViewportRows(),this._alt=new n.Buffer(!1,e,t),this._activeBuffer=this._normal,this.setupTabStops()}return Object.defineProperty(e.prototype,"onBufferActivate",{get:function(){return this._onBufferActivate.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alt",{get:function(){return this._alt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._activeBuffer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"normal",{get:function(){return this._normal},enumerable:!0,configurable:!0}),e.prototype.activateNormalBuffer=function(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))},e.prototype.activateAltBuffer=function(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))},e.prototype.resize=function(e,t){this._normal.resize(e,t),this._alt.resize(e,t)},e.prototype.setupTabStops=function(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)},e}();t.BufferSet=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(66),r=i(16),o=i(5),s=i(3),a=i(67),c=i(68),l=i(18);t.MAX_BUFFER_SIZE=4294967295;var h=function(){function e(e,t,i){this._hasScrollback=e,this._optionsService=t,this._bufferService=i,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.savedY=0,this.savedX=0,this.savedCurAttrData=r.DEFAULT_ATTR_DATA.clone(),this.savedCharset=l.DEFAULT_CHARSET,this.markers=[],this._nullCell=o.CellData.fromCharData([0,s.NULL_CELL_CHAR,s.NULL_CELL_WIDTH,s.NULL_CELL_CODE]),this._whitespaceCell=o.CellData.fromCharData([0,s.WHITESPACE_CELL_CHAR,s.WHITESPACE_CELL_WIDTH,s.WHITESPACE_CELL_CODE]),this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}return e.prototype.getNullCell=function(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg):(this._nullCell.fg=0,this._nullCell.bg=0),this._nullCell},e.prototype.getWhitespaceCell=function(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0),this._whitespaceCell},e.prototype.getBlankLine=function(e,t){return new r.BufferLine(this._bufferService.cols,this.getNullCell(e),t)},Object.defineProperty(e.prototype,"hasScrollback",{get:function(){return this._hasScrollback&&this.lines.maxLength>this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCursorInViewport",{get:function(){var e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows},enumerable:!0,configurable:!0}),e.prototype._getCorrectBufferLength=function(e){if(!this._hasScrollback)return e;var i=e+this._optionsService.options.scrollback;return i>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:i},e.prototype.fillViewportRows=function(e){if(0===this.lines.length){void 0===e&&(e=r.DEFAULT_ATTR_DATA);for(var t=this._rows;t--;)this.lines.push(this.getBlankLine(e))}},e.prototype.clear=function(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()},e.prototype.resize=function(e,t){var i=this.getNullCell(r.DEFAULT_ATTR_DATA),n=this._getCorrectBufferLength(t);if(n>this.lines.maxLength&&(this.lines.maxLength=n),this.lines.length>0){if(this._cols<e)for(var o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,i);var s=0;if(this._rows<t)for(var a=this._rows;a<t;a++)this.lines.length<t+this.ybase&&(this._optionsService.options.windowsMode?this.lines.push(new r.BufferLine(e,i)):this.ybase>0&&this.lines.length<=this.ybase+this.y+s+1?(this.ybase--,s++,this.ydisp>0&&this.ydisp--):this.lines.push(new r.BufferLine(e,i)));else for(a=this._rows;a>t;a--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(n<this.lines.maxLength){var c=this.lines.length-n;c>0&&(this.lines.trimStart(c),this.ybase=Math.max(this.ybase-c,0),this.ydisp=Math.max(this.ydisp-c,0),this.savedY=Math.max(this.savedY-c,0)),this.lines.maxLength=n}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),s&&(this.y+=s),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(o=0;o<this.lines.length;o++)this.lines.get(o).resize(e,i);this._cols=e,this._rows=t},Object.defineProperty(e.prototype,"_isReflowEnabled",{get:function(){return this._hasScrollback&&!this._optionsService.options.windowsMode},enumerable:!0,configurable:!0}),e.prototype._reflow=function(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))},e.prototype._reflowLarger=function(e,t){var i=a.reflowLargerGetLinesToRemove(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(r.DEFAULT_ATTR_DATA));if(i.length>0){var n=a.reflowLargerCreateNewLayout(this.lines,i);a.reflowLargerApplyNewLayout(this.lines,n.layout),this._reflowLargerAdjustViewport(e,t,n.countRemoved)}},e.prototype._reflowLargerAdjustViewport=function(e,t,i){for(var n=this.getNullCell(r.DEFAULT_ATTR_DATA),o=i;o-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new r.BufferLine(e,n))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-i,0)},e.prototype._reflowSmaller=function(e,t){for(var i=this.getNullCell(r.DEFAULT_ATTR_DATA),n=[],o=0,s=this.lines.length-1;s>=0;s--){var c=this.lines.get(s);if(!(!c||!c.isWrapped&&c.getTrimmedLength()<=e)){for(var l=[c];c.isWrapped&&s>0;)c=this.lines.get(--s),l.unshift(c);var h=this.ybase+this.y;if(!(h>=s&&h<s+l.length)){var u=l[l.length-1].getTrimmedLength(),d=a.reflowSmallerGetNewLineLengths(l,this._cols,e),p=d.length-l.length,f=void 0;f=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+p):Math.max(0,this.lines.length-this.lines.maxLength+p);for(var m=[],v=0;v<p;v++){var g=this.getBlankLine(r.DEFAULT_ATTR_DATA,!0);m.push(g)}m.length>0&&(n.push({start:s+l.length+o,newLines:m}),o+=m.length),l.push.apply(l,m);var y=d.length-1,_=d[y];0===_&&(_=d[--y]);for(var b=l.length-p-1,x=u;b>=0;){var w=Math.min(x,_);if(l[y].copyCellsFrom(l[b],x-w,_-w,w,!0),0===(_-=w)&&(_=d[--y]),0===(x-=w)){b--;var S=Math.max(b,0);x=a.getWrappedLineTrimmedLength(l,S,this._cols)}}for(v=0;v<l.length;v++)d[v]<e&&l[v].setCell(d[v],i);for(var C=p-f;C-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+o)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+p,this.ybase+t-1)}}}if(n.length>0){var M=[],E=[];for(v=0;v<this.lines.length;v++)E.push(this.lines.get(v));var T=this.lines.length,A=T-1,L=0,O=n[L];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+o);var R=0;for(v=Math.min(this.lines.maxLength-1,T+o-1);v>=0;v--)if(O&&O.start>A+R){for(var k=O.newLines.length-1;k>=0;k--)this.lines.set(v--,O.newLines[k]);v++,M.push({index:A+1,amount:O.newLines.length}),R+=O.newLines.length,O=n[++L]}else this.lines.set(v,E[A--]);var P=0;for(v=M.length-1;v>=0;v--)M[v].index+=P,this.lines.onInsertEmitter.fire(M[v]),P+=M[v].amount;var D=Math.max(0,T+o-this.lines.maxLength);D>0&&this.lines.onTrimEmitter.fire(D)}},e.prototype.stringIndexToBufferIndex=function(e,t,i){for(void 0===i&&(i=!1);t;){var n=this.lines.get(e);if(!n)return[-1,-1];for(var r=i?n.getTrimmedLength():n.length,o=0;o<r;++o)if(n.get(o)[s.CHAR_DATA_WIDTH_INDEX]&&(t-=n.get(o)[s.CHAR_DATA_CHAR_INDEX].length||1),t<0)return[e,o];e++}return[e,0]},e.prototype.translateBufferLineToString=function(e,t,i,n){void 0===i&&(i=0);var r=this.lines.get(e);return r?r.translateToString(t,i,n):""},e.prototype.getWrappedRangeForLine=function(e){for(var t=e,i=e;t>0&&this.lines.get(t).isWrapped;)t--;for(;i+1<this.lines.length&&this.lines.get(i+1).isWrapped;)i++;return{first:t,last:i}},e.prototype.setupTabStops=function(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.options.tabStopWidth)this.tabs[e]=!0},e.prototype.prevStop=function(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.nextStop=function(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e},e.prototype.addMarker=function(e){var t=this,i=new c.Marker(e);return this.markers.push(i),i.register(this.lines.onTrim((function(e){i.line-=e,i.line<0&&i.dispose()}))),i.register(this.lines.onInsert((function(e){i.line>=e.index&&(i.line+=e.amount)}))),i.register(this.lines.onDelete((function(e){i.line>=e.index&&i.line<e.index+e.amount&&i.dispose(),i.line>e.index&&(i.line-=e.amount)}))),i.register(i.onDispose((function(){return t._removeMarker(i)}))),i},e.prototype._removeMarker=function(e){this.markers.splice(this.markers.indexOf(e),1)},e.prototype.iterator=function(e,t,i,n,r){return new u(this,e,t,i,n,r)},e}();t.Buffer=h;var u=function(){function e(e,t,i,n,r,o){void 0===i&&(i=0),void 0===n&&(n=e.lines.length),void 0===r&&(r=0),void 0===o&&(o=0),this._buffer=e,this._trimRight=t,this._startIndex=i,this._endIndex=n,this._startOverscan=r,this._endOverscan=o,this._startIndex<0&&(this._startIndex=0),this._endIndex>this._buffer.lines.length&&(this._endIndex=this._buffer.lines.length),this._current=this._startIndex}return e.prototype.hasNext=function(){return this._current<this._endIndex},e.prototype.next=function(){var e=this._buffer.getWrappedRangeForLine(this._current);e.first<this._startIndex-this._startOverscan&&(e.first=this._startIndex-this._startOverscan),e.last>this._endIndex+this._endOverscan&&(e.last=this._endIndex+this._endOverscan),e.first=Math.max(e.first,0),e.last=Math.min(e.last,this._buffer.lines.length);for(var t="",i=e.first;i<=e.last;++i)t+=this._buffer.translateBufferLineToString(i,this._trimRight);return this._current=e.last+1,{range:e,content:t}},e}();t.BufferStringIterator=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=function(){function e(e){this._maxLength=e,this.onDeleteEmitter=new n.EventEmitter,this.onInsertEmitter=new n.EventEmitter,this.onTrimEmitter=new n.EventEmitter,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}return Object.defineProperty(e.prototype,"onDelete",{get:function(){return this.onDeleteEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onInsert",{get:function(){return this.onInsertEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTrim",{get:function(){return this.onTrimEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(e){if(this._maxLength!==e){for(var t=new Array(e),i=0;i<Math.min(e,this.length);i++)t[i]=this._array[this._getCyclicIndex(i)];this._array=t,this._maxLength=e,this._startIndex=0}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},set:function(e){if(e>this._length)for(var t=this._length;t<e;t++)this._array[t]=void 0;this._length=e},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this._array[this._getCyclicIndex(e)]},e.prototype.set=function(e,t){this._array[this._getCyclicIndex(e)]=t},e.prototype.push=function(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++},e.prototype.recycle=function(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]},Object.defineProperty(e.prototype,"isFull",{get:function(){return this._length===this._maxLength},enumerable:!0,configurable:!0}),e.prototype.pop=function(){return this._array[this._getCyclicIndex(this._length---1)]},e.prototype.splice=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];if(t){for(var r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t}for(r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+i.length)]=this._array[this._getCyclicIndex(r)];for(r=0;r<i.length;r++)this._array[this._getCyclicIndex(e+r)]=i[r];if(this._length+i.length>this._maxLength){var o=this._length+i.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=i.length},e.prototype.trimStart=function(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)},e.prototype.shiftElements=function(e,t,i){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+i<0)throw new Error("Cannot shift elements in list beyond index 0");if(i>0){for(var n=t-1;n>=0;n--)this.set(e+n+i,this.get(e+n));var r=e+t+i-this._length;if(r>0)for(this._length+=r;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(n=0;n<t;n++)this.set(e+n+i,this.get(e+n))}},e.prototype._getCyclicIndex=function(e){return(this._startIndex+e)%this._maxLength},e}();t.CircularList=r},function(e,t,i){"use strict";function n(e,t,i){if(t===e.length-1)return e[t].getTrimmedLength();var n=!e[t].hasContent(i-1)&&1===e[t].getWidth(i-1),r=2===e[t+1].getWidth(0);return n&&r?i-1:i}Object.defineProperty(t,"__esModule",{value:!0}),t.reflowLargerGetLinesToRemove=function(e,t,i,r,o){for(var s=[],a=0;a<e.length-1;a++){var c=a,l=e.get(++c);if(l.isWrapped){for(var h=[e.get(a)];c<e.length&&l.isWrapped;)h.push(l),l=e.get(++c);if(r>=a&&r<c)a+=h.length-1;else{for(var u=0,d=n(h,u,t),p=1,f=0;p<h.length;){var m=n(h,p,t),v=m-f,g=i-d,y=Math.min(v,g);h[u].copyCellsFrom(h[p],f,d,y,!1),(d+=y)===i&&(u++,d=0),(f+=y)===m&&(p++,f=0),0===d&&0!==u&&2===h[u-1].getWidth(i-1)&&(h[u].copyCellsFrom(h[u-1],i-1,d++,1,!1),h[u-1].setCell(i-1,o))}h[u].replaceCells(d,i,o);for(var _=0,b=h.length-1;b>0&&(b>u||0===h[b].getTrimmedLength());b--)_++;_>0&&(s.push(a+h.length-_),s.push(_)),a+=h.length-1}}}return s},t.reflowLargerCreateNewLayout=function(e,t){for(var i=[],n=0,r=t[n],o=0,s=0;s<e.length;s++)if(r===s){var a=t[++n];e.onDeleteEmitter.fire({index:s-o,amount:a}),s+=a-1,o+=a,r=t[++n]}else i.push(s);return{layout:i,countRemoved:o}},t.reflowLargerApplyNewLayout=function(e,t){for(var i=[],n=0;n<t.length;n++)i.push(e.get(t[n]));for(n=0;n<i.length;n++)e.set(n,i[n]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,i){for(var r=[],o=e.map((function(i,r){return n(e,r,t)})).reduce((function(e,t){return e+t})),s=0,a=0,c=0;c<o;){if(o-c<i){r.push(o-c);break}s+=i;var l=n(e,a,t);s>l&&(s-=l,a++);var h=2===e[a].getWidth(s-1);h&&s--;var u=h?i-1:i;r.push(u),c+=u}return r},t.getWrappedLineTrimmedLength=n},function(e,t,i){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),s=function(e){function t(i){var n=e.call(this)||this;return n.line=i,n._id=t._nextId++,n.isDisposed=!1,n._onDispose=new o.EventEmitter,n}return r(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire())},t._nextId=1,t}(i(2).Disposable);t.Marker=s},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(4),s=i(28),a=function(){function e(e,t){this._renderService=e,this._charSizeService=t}return e.prototype.getCoords=function(e,t,i,n,r){return s.getCoords(e,t,i,n,this._charSizeService.hasValidSize,this._renderService.dimensions.actualCellWidth,this._renderService.dimensions.actualCellHeight,r)},e.prototype.getRawByteCoords=function(e,t,i,n){var r=this.getCoords(e,t,i,n);return s.getRawByteCoords(r)},n([r(0,o.IRenderService),r(1,o.ICharSizeService)],e)}();t.MouseService=a},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),s=i(0),a=i(31),c=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,origin:!1,wraparound:!0}),l=function(){function e(e,t,i,n){this._scrollToBottom=e,this._bufferService=t,this._logService=i,this._optionsService=n,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=new s.EventEmitter,this._onUserInput=new s.EventEmitter,this._onBinary=new s.EventEmitter,this.decPrivateModes=a.clone(c)}return Object.defineProperty(e.prototype,"onData",{get:function(){return this._onData.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onUserInput",{get:function(){return this._onUserInput.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onBinary",{get:function(){return this._onBinary.event},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.decPrivateModes=a.clone(c)},e.prototype.triggerDataEvent=function(e,t){if(void 0===t&&(t=!1),!this._optionsService.options.disableStdin){var i=this._bufferService.buffer;i.ybase!==i.ydisp&&this._scrollToBottom(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onData.fire(e)}},e.prototype.triggerBinaryEvent=function(e){this._optionsService.options.disableStdin||(this._logService.debug('sending binary "'+e+'"',(function(){return e.split("").map((function(e){return e.charCodeAt(0)}))})),this._onBinary.fire(e))},n([r(1,o.IBufferService),r(2,o.ILogService),r(3,o.IOptionsService)],e)}();t.CoreService=l},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var s,a=i(1);!function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e[e.OFF=4]="OFF"}(s=t.LogLevel||(t.LogLevel={}));var c={debug:s.DEBUG,info:s.INFO,warn:s.WARN,error:s.ERROR,off:s.OFF},l=function(){function e(e){var t=this;this._optionsService=e,this._updateLogLevel(),this._optionsService.onOptionChange((function(e){"logLevel"===e&&t._updateLogLevel()}))}return e.prototype._updateLogLevel=function(){this._logLevel=c[this._optionsService.options.logLevel]},e.prototype._evalLazyOptionalParams=function(e){for(var t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())},e.prototype._log=function(e,t,i){this._evalLazyOptionalParams(i),e.call.apply(e,o([console,"xterm.js: "+t],i))},e.prototype.debug=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.DEBUG&&this._log(console.log,e,t)},e.prototype.info=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.INFO&&this._log(console.info,e,t)},e.prototype.warn=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.WARN&&this._log(console.warn,e,t)},e.prototype.error=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];this._logLevel<=s.ERROR&&this._log(console.error,e,t)},n([r(0,a.IOptionsService)],e)}();t.LogService=l},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),s=function(){function e(e){this._bufferService=e,this.clearRange()}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.clearRange=function(){this._start=this._bufferService.buffer.y,this._end=this._bufferService.buffer.y},e.prototype.markDirty=function(e){e<this._start?this._start=e:e>this._end&&(this._end=e)},e.prototype.markRangeDirty=function(e,t){if(e>t){var i=e;e=t,t=i}e<this._start&&(this._start=e),t>this._end&&(this._end=t)},e.prototype.markAllDirty=function(){this.markRangeDirty(0,this._bufferService.rows-1)},n([r(0,o.IBufferService)],e)}();t.DirtyRowService=s},function(e,t,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,r++)n[r]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),o=i(14),s=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var i=0,n=e;i<n.length;i++){var r=n[i],o=r[0],s=r[1];this.set(o,s)}}return e.prototype.set=function(e,t){var i=this._entries.get(e);return this._entries.set(e,t),i},e.prototype.forEach=function(e){this._entries.forEach((function(t,i){return e(i,t)}))},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}();t.ServiceCollection=s;var a=function(){function e(){this._services=new s,this._services.set(r.IInstantiationService,this)}return e.prototype.setService=function(e,t){this._services.set(e,t)},e.prototype.getService=function(e){return this._services.get(e)},e.prototype.createInstance=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];for(var r=o.getServiceDependencies(e).sort((function(e,t){return e.index-t.index})),s=[],a=0,c=r;a<c.length;a++){var l=c[a],h=this._services.get(l.id);if(!h)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+l.id+".");s.push(h)}var u=r.length>0?r[0].index:t.length;if(t.length!==u)throw new Error("[createInstance] First service dependency of "+e.name+" at position "+(u+1)+" conflicts with "+t.length+" static arguments");return new(e.bind.apply(e,n([void 0],n(t,s))))},e}();t.InstantiationService=a},function(e,t,i){"use strict";var n=this&&this.__decorate||function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},r=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),s=i(0),a={NONE:{events:0,restrict:function(){return!1}},X10:{events:1,restrict:function(e){return 4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)}},VT200:{events:19,restrict:function(e){return 32!==e.action}},DRAG:{events:23,restrict:function(e){return 32!==e.action||3!==e.button}},ANY:{events:31,restrict:function(e){return!0}}};function c(e,t){var i=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(i|=64,i|=e.action):(i|=3&e.button,4&e.button&&(i|=64),8&e.button&&(i|=128),32===e.action?i|=32:0!==e.action||t||(i|=3)),i}var l=String.fromCharCode,h={DEFAULT:function(e){var t=[c(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"[M"+l(t[0])+l(t[1])+l(t[2])},SGR:function(e){var t=0===e.action&&4!==e.button?"m":"M";return"[<"+c(e,!0)+";"+e.col+";"+e.row+t}},u=function(){function e(e,t){var i=this;this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._onProtocolChange=new s.EventEmitter,this._lastEvent=null,Object.keys(a).forEach((function(e){return i.addProtocol(e,a[e])})),Object.keys(h).forEach((function(e){return i.addEncoding(e,h[e])})),this.reset()}return e.prototype.addProtocol=function(e,t){this._protocols[e]=t},e.prototype.addEncoding=function(e,t){this._encodings[e]=t},Object.defineProperty(e.prototype,"activeProtocol",{get:function(){return this._activeProtocol},set:function(e){if(!this._protocols[e])throw new Error('unknown protocol "'+e+'"');this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeEncoding",{get:function(){return this._activeEncoding},set:function(e){if(!this._encodings[e])throw new Error('unknown encoding "'+e+'"');this._activeEncoding=e},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null},Object.defineProperty(e.prototype,"onProtocolChange",{get:function(){return this._onProtocolChange.event},enumerable:!0,configurable:!0}),e.prototype.triggerMouseEvent=function(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._compareEvents(this._lastEvent,e))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;var t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0},e.prototype.explainEvents=function(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}},e.prototype._compareEvents=function(e,t){return e.col===t.col&&e.row===t.row&&e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift},n([r(0,o.IBufferService),r(1,o.ICoreService)],e)}();t.CoreMouseService=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0}return e.prototype.writeSync=function(e){if(this._writeBuffer.length){for(var t=this._bufferOffset;t<this._writeBuffer.length;++t){var i=this._writeBuffer[t],n=this._callbacks[t];this._action(i),n&&n()}this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=2147483647}this._action(e)},e.prototype.write=function(e,t){var i=this;if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");this._writeBuffer.length||(this._bufferOffset=0,setTimeout((function(){return i._innerWrite()}))),this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)},e.prototype._innerWrite=function(){for(var e=this,t=Date.now();this._writeBuffer.length>this._bufferOffset;){var i=this._writeBuffer[this._bufferOffset],n=this._callbacks[this._bufferOffset];if(this._bufferOffset++,this._action(i),this._pendingData-=i.length,n&&n(),Date.now()-t>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((function(){return e._innerWrite()}),0)):(this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0)},e}();t.WriteBuffer=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=function(){function e(e){this._bufferService=e,this._linkProviders=[],this._linkCacheDisposables=[],this._onLinkHover=new n.EventEmitter,this._onLinkLeave=new n.EventEmitter}return Object.defineProperty(e.prototype,"onLinkHover",{get:function(){return this._onLinkHover.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onLinkLeave",{get:function(){return this._onLinkLeave.event},enumerable:!0,configurable:!0}),e.prototype.registerLinkProvider=function(e){var t=this;return this._linkProviders.push(e),{dispose:function(){var i=t._linkProviders.indexOf(e);-1!==i&&t._linkProviders.splice(i,1)}}},e.prototype.attachToDom=function(e,t,i){this._element=e,this._mouseService=t,this._renderService=i,this._element.addEventListener("mousemove",this._onMouseMove.bind(this)),this._element.addEventListener("click",this._onMouseDown.bind(this))},e.prototype._onMouseMove=function(e){if(this._lastMouseEvent=e,this._element&&this._mouseService){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&(this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._onHover(t),this._lastBufferCell=t))}},e.prototype._onHover=function(e){this._currentLink?this._linkAtPosition(this._currentLink,e)||(this._clearCurrentLink(),this._askForLink(e)):this._askForLink(e)},e.prototype._askForLink=function(e){var t=this,i=new Map,n=!1;this._linkProviders.forEach((function(r,o){r.provideLink(e,(function(e){i.set(o,e);for(var r=!1,s=0;s<o;s++)i.has(s)&&!i.get(s)||(r=!0);if(!r&&e&&(n=!0,t._handleNewLink(e)),i.size===t._linkProviders.length&&!n)for(s=0;s<i.size;s++){var a=i.get(s);if(a){t._handleNewLink(a);break}}}))}))},e.prototype._onMouseDown=function(e){if(this._element&&this._mouseService&&this._currentLink){var t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._linkAtPosition(this._currentLink,t)&&this._currentLink.activate(e,this._currentLink.text)}},e.prototype._clearCurrentLink=function(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.range.start.y>=e&&this._currentLink.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink,this._lastMouseEvent),this._currentLink=void 0,this._linkCacheDisposables.forEach((function(e){return e.dispose()})),this._linkCacheDisposables=[])},e.prototype._handleNewLink=function(e){var t=this;if(this._element&&this._lastMouseEvent&&this._mouseService){var i=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);i&&this._linkAtPosition(e,i)&&(this._currentLink=e,this._linkHover(this._element,e,this._lastMouseEvent),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRender((function(e){t._clearCurrentLink(e.start+1+t._bufferService.buffer.ydisp,e.end+1+t._bufferService.buffer.ydisp)}))))}},e.prototype._linkHover=function(e,t,i){var n=t.range,r=this._bufferService.buffer.ydisp;this._onLinkHover.fire(this._createLinkHoverEvent(n.start.x-1,n.start.y-r-1,n.end.x,n.end.y-r-1,void 0)),e.classList.add("xterm-cursor-pointer"),t.hover&&t.hover(i,t.text)},e.prototype._linkLeave=function(e,t,i){var n=t.range,r=this._bufferService.buffer.ydisp;this._onLinkLeave.fire(this._createLinkHoverEvent(n.start.x-1,n.start.y-r-1,n.end.x,n.end.y-r-1,void 0)),e.classList.remove("xterm-cursor-pointer"),t.leave&&t.leave(i,t.text)},e.prototype._linkAtPosition=function(e,t){var i=e.range.start.y===e.range.end.y,n=e.range.start.y<t.y,r=e.range.end.y>t.y;return(i&&e.range.start.x<=t.x&&e.range.end.x>=t.x||n&&e.range.end.x>=t.x||r&&e.range.start.x<=t.x||n&&r)&&e.range.start.y<=t.y&&e.range.end.y>=t.y},e.prototype._positionFromMouseEvent=function(e,t,i){var n=i.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(n)return{x:n[0],y:n[1]+this._bufferService.buffer.ydisp}},e.prototype._createLinkHoverEvent=function(e,t,i,n,r){return{x1:e,y1:t,x2:i,y2:n,cols:this._bufferService.cols,fg:r}},e}();t.Linkifier2=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._textarea=e}return Object.defineProperty(e.prototype,"isFocused",{get:function(){return document.activeElement===this._textarea&&document.hasFocus()},enumerable:!0,configurable:!0}),e}();t.CoreBrowserService=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(0),r=i(79),o=function(){function e(){this._providers=Object.create(null),this._active="",this._onChange=new n.EventEmitter;var e=new r.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}return Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"versions",{get:function(){return Object.keys(this._providers)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeVersion",{get:function(){return this._active},set:function(e){if(!this._providers[e])throw new Error('unknown Unicode version "'+e+'"');this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)},enumerable:!0,configurable:!0}),e.prototype.register=function(e){this._providers[e.version]=e},e.prototype.wcwidth=function(e){return this._activeProvider.wcwidth(e)},e.prototype.getStringCellWidth=function(e){for(var t=0,i=e.length,n=0;n<i;++n){var r=e.charCodeAt(n);if(55296<=r&&r<=56319){if(++n>=i)return t+this.wcwidth(r);var o=e.charCodeAt(n);56320<=o&&o<=57343?r=1024*(r-55296)+o-56320+65536:t+=this.wcwidth(o)}t+=this.wcwidth(r)}return t},e}();t.UnicodeService=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(15),o=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],s=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]],a=function(){function e(){if(this.version="6",!n){n=new Uint8Array(65536),r.fill(n,1),n[0]=0,r.fill(n,0,1,32),r.fill(n,0,127,160),r.fill(n,2,4352,4448),n[9001]=2,n[9002]=2,r.fill(n,2,11904,42192),n[12351]=1,r.fill(n,2,44032,55204),r.fill(n,2,63744,64256),r.fill(n,2,65040,65050),r.fill(n,2,65072,65136),r.fill(n,2,65280,65377),r.fill(n,2,65504,65511);for(var e=0;e<o.length;++e)r.fill(n,0,o[e][0],o[e][1]+1)}}return e.prototype.wcwidth=function(e){return e<32?0:e<127?1:e<65536?n[e]:function(e,t){var i,n=0,r=t.length-1;if(e<t[0][0]||e>t[r][1])return!1;for(;r>=n;)if(e>t[i=n+r>>1][1])n=i+1;else{if(!(e<t[i][0]))return!0;r=i-1}return!1}(e,s)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1},e}();t.UnicodeV6=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.charsets=[],this.glevel=0}return e.prototype.reset=function(){this.charset=void 0,this.charsets=[],this.glevel=0},e.prototype.setgLevel=function(e){this.glevel=e,this.charset=this.charsets[e]},e.prototype.setgCharset=function(e,t){this.charsets[e]=t,this.glevel===e&&(this.charset=t)},e}();t.CharsetService=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this._addons=[]}return e.prototype.dispose=function(){for(var e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()},e.prototype.loadAddon=function(e,t){var i=this,n={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(n),t.dispose=function(){return i._wrappedAddonDispose(n)},t.activate(e)},e.prototype._wrappedAddonDispose=function(e){if(!e.isDisposed){for(var t=-1,i=0;i<this._addons.length;i++)if(this._addons[i]===e){t=i;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}},e}();t.AddonManager=n}])}))},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,i){var n=i("4930");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe09:function(e,t,i){"use strict";var n=i("c37a"),r=i("5311"),o=i("8547"),s=i("58df");t["a"]=Object(s["a"])(n["a"],r["a"],o["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some(t=>this.valueComparator(t,e)):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.disabled||this.validationState?this.validationState:"primary"}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=n["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:e=>{e.preventDefault(),this.onChange()}},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown},ref:"input"})},onBlur(){this.isFocused=!1},onChange(){if(this.isDisabled)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const i=t.length;t=t.filter(t=>!this.valueComparator(t,e)),t.length===i&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(){this.isFocused=!0},onKeydown(e){}}})},fe6c:function(e,t,i){"use strict";i.d(t,"b",(function(){return s}));var n=i("2b0e"),r=i("80d2");const o={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function s(e=[]){return n["a"].extend({name:"positionable",props:e.length?Object(r["k"])(o,e):o})}t["a"]=s()},fea9:function(e,t,i){var n=i("da84");e.exports=n.Promise}}]);
//# sourceMappingURL=chunk-vendors.36a3c4b3.js.map